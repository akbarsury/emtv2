var Fw=Object.defineProperty;var Uw=(t,e,n)=>e in t?Fw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ri=(t,e,n)=>(Uw(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function sd(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const ze={},Xi=[],In=()=>{},qw=()=>!1,$w=/^on[^a-z]/,hu=t=>$w.test(t),od=t=>t.startsWith("onUpdate:"),it=Object.assign,ad=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Hw=Object.prototype.hasOwnProperty,Le=(t,e)=>Hw.call(t,e),we=Array.isArray,Ji=t=>oa(t)==="[object Map]",du=t=>oa(t)==="[object Set]",vg=t=>oa(t)==="[object Date]",Ne=t=>typeof t=="function",Xe=t=>typeof t=="string",ko=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",yy=t=>Ve(t)&&Ne(t.then)&&Ne(t.catch),_y=Object.prototype.toString,oa=t=>_y.call(t),Vw=t=>oa(t).slice(8,-1),by=t=>oa(t)==="[object Object]",ld=t=>Xe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vl=sd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pu=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},zw=/-(\w)/g,Gn=pu(t=>t.replace(zw,(e,n)=>n?n.toUpperCase():"")),Kw=/\B([A-Z])/g,As=pu(t=>t.replace(Kw,"-$1").toLowerCase()),gu=pu(t=>t.charAt(0).toUpperCase()+t.slice(1)),ef=pu(t=>t?`on${gu(t)}`:""),Co=(t,e)=>!Object.is(t,e),yl=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Cl=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Nl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Gw=t=>{const e=Xe(t)?Number(t):NaN;return isNaN(e)?t:e};let yg;const Yf=()=>yg||(yg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ud(t){if(we(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Xe(r)?Xw(r):ud(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Xe(t))return t;if(Ve(t))return t}}const Ww=/;(?![^(]*\))/g,Qw=/:([^]+)/,Yw=/\/\*[^]*?\*\//g;function Xw(t){const e={};return t.replace(Yw,"").split(Ww).forEach(n=>{if(n){const r=n.split(Qw);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function cd(t){let e="";if(Xe(t))e=t;else if(we(t))for(let n=0;n<t.length;n++){const r=cd(t[n]);r&&(e+=r+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Jw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zw=sd(Jw);function wy(t){return!!t||t===""}function eE(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=as(t[r],e[r]);return n}function as(t,e){if(t===e)return!0;let n=vg(t),r=vg(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ko(t),r=ko(e),n||r)return t===e;if(n=we(t),r=we(e),n||r)return n&&r?eE(t,e):!1;if(n=Ve(t),r=Ve(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!as(t[o],e[o]))return!1}}return String(t)===String(e)}function tE(t,e){return t.findIndex(n=>as(n,e))}const CM=t=>Xe(t)?t:t==null?"":we(t)||Ve(t)&&(t.toString===_y||!Ne(t.toString))?JSON.stringify(t,Ey,2):String(t),Ey=(t,e)=>e&&e.__v_isRef?Ey(t,e.value):Ji(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:du(e)?{[`Set(${e.size})`]:[...e.values()]}:Ve(e)&&!we(e)&&!by(e)?String(e):e;let rn;class Ty{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=rn,!e&&rn&&(this.index=(rn.scopes||(rn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=rn;try{return rn=this,e()}finally{rn=n}}}on(){rn=this}off(){rn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function nE(t){return new Ty(t)}function rE(t,e=rn){e&&e.active&&e.effects.push(t)}function Ay(){return rn}function iE(t){rn&&rn.cleanups.push(t)}const fd=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Iy=t=>(t.w&$r)>0,Sy=t=>(t.n&$r)>0,sE=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=$r},oE=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Iy(i)&&!Sy(i)?i.delete(t):e[n++]=i,i.w&=~$r,i.n&=~$r}e.length=n}},Xf=new WeakMap;let so=0,$r=1;const Jf=30;let En;const bi=Symbol(""),Zf=Symbol("");class hd{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,rE(this,r)}run(){if(!this.active)return this.fn();let e=En,n=Mr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=En,En=this,Mr=!0,$r=1<<++so,so<=Jf?sE(this):_g(this),this.fn()}finally{so<=Jf&&oE(this),$r=1<<--so,En=this.parent,Mr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){En===this?this.deferStop=!0:this.active&&(_g(this),this.onStop&&this.onStop(),this.active=!1)}}function _g(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Mr=!0;const Oy=[];function Is(){Oy.push(Mr),Mr=!1}function Ss(){const t=Oy.pop();Mr=t===void 0?!0:t}function Zt(t,e,n){if(Mr&&En){let r=Xf.get(t);r||Xf.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=fd()),ky(i)}}function ky(t,e){let n=!1;so<=Jf?Sy(t)||(t.n|=$r,n=!Iy(t)):n=!t.has(En),n&&(t.add(En),En.deps.push(t))}function hr(t,e,n,r,i,s){const o=Xf.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&we(t)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":we(t)?ld(n)&&a.push(o.get("length")):(a.push(o.get(bi)),Ji(t)&&a.push(o.get(Zf)));break;case"delete":we(t)||(a.push(o.get(bi)),Ji(t)&&a.push(o.get(Zf)));break;case"set":Ji(t)&&a.push(o.get(bi));break}if(a.length===1)a[0]&&eh(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);eh(fd(l))}}function eh(t,e){const n=we(t)?t:[...t];for(const r of n)r.computed&&bg(r);for(const r of n)r.computed||bg(r)}function bg(t,e){(t!==En||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const aE=sd("__proto__,__v_isRef,__isVue"),Cy=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ko)),lE=dd(),uE=dd(!1,!0),cE=dd(!0),wg=fE();function fE(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=je(this);for(let s=0,o=this.length;s<o;s++)Zt(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(je)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Is();const r=je(this)[e].apply(this,n);return Ss(),r}}),t}function hE(t){const e=je(this);return Zt(e,"has",t),e.hasOwnProperty(t)}function dd(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?kE:Dy:e?xy:Py).get(r))return r;const o=we(r);if(!t){if(o&&Le(wg,i))return Reflect.get(wg,i,s);if(i==="hasOwnProperty")return hE}const a=Reflect.get(r,i,s);return(ko(i)?Cy.has(i):aE(i))||(t||Zt(r,"get",i),e)?a:bt(a)?o&&ld(i)?a:a.value:Ve(a)?t?md(a):Ut(a):a}}const dE=Ny(),pE=Ny(!0);function Ny(t=!1){return function(n,r,i,s){let o=n[r];if(ls(o)&&bt(o)&&!bt(i))return!1;if(!t&&(!Rl(i)&&!ls(i)&&(o=je(o),i=je(i)),!we(n)&&bt(o)&&!bt(i)))return o.value=i,!0;const a=we(n)&&ld(r)?Number(r)<n.length:Le(n,r),l=Reflect.set(n,r,i,s);return n===je(s)&&(a?Co(i,o)&&hr(n,"set",r,i):hr(n,"add",r,i)),l}}function gE(t,e){const n=Le(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&hr(t,"delete",e,void 0),r}function mE(t,e){const n=Reflect.has(t,e);return(!ko(e)||!Cy.has(e))&&Zt(t,"has",e),n}function vE(t){return Zt(t,"iterate",we(t)?"length":bi),Reflect.ownKeys(t)}const Ry={get:lE,set:dE,deleteProperty:gE,has:mE,ownKeys:vE},yE={get:cE,set(t,e){return!0},deleteProperty(t,e){return!0}},_E=it({},Ry,{get:uE,set:pE}),pd=t=>t,mu=t=>Reflect.getPrototypeOf(t);function Qa(t,e,n=!1,r=!1){t=t.__v_raw;const i=je(t),s=je(e);n||(e!==s&&Zt(i,"get",e),Zt(i,"get",s));const{has:o}=mu(i),a=r?pd:n?yd:No;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Ya(t,e=!1){const n=this.__v_raw,r=je(n),i=je(t);return e||(t!==i&&Zt(r,"has",t),Zt(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Xa(t,e=!1){return t=t.__v_raw,!e&&Zt(je(t),"iterate",bi),Reflect.get(t,"size",t)}function Eg(t){t=je(t);const e=je(this);return mu(e).has.call(e,t)||(e.add(t),hr(e,"add",t,t)),this}function Tg(t,e){e=je(e);const n=je(this),{has:r,get:i}=mu(n);let s=r.call(n,t);s||(t=je(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?Co(e,o)&&hr(n,"set",t,e):hr(n,"add",t,e),this}function Ag(t){const e=je(this),{has:n,get:r}=mu(e);let i=n.call(e,t);i||(t=je(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&hr(e,"delete",t,void 0),s}function Ig(){const t=je(this),e=t.size!==0,n=t.clear();return e&&hr(t,"clear",void 0,void 0),n}function Ja(t,e){return function(r,i){const s=this,o=s.__v_raw,a=je(o),l=e?pd:t?yd:No;return!t&&Zt(a,"iterate",bi),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function Za(t,e,n){return function(...r){const i=this.__v_raw,s=je(i),o=Ji(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...r),c=n?pd:e?yd:No;return!e&&Zt(s,"iterate",l?Zf:bi),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function Ar(t){return function(...e){return t==="delete"?!1:this}}function bE(){const t={get(s){return Qa(this,s)},get size(){return Xa(this)},has:Ya,add:Eg,set:Tg,delete:Ag,clear:Ig,forEach:Ja(!1,!1)},e={get(s){return Qa(this,s,!1,!0)},get size(){return Xa(this)},has:Ya,add:Eg,set:Tg,delete:Ag,clear:Ig,forEach:Ja(!1,!0)},n={get(s){return Qa(this,s,!0)},get size(){return Xa(this,!0)},has(s){return Ya.call(this,s,!0)},add:Ar("add"),set:Ar("set"),delete:Ar("delete"),clear:Ar("clear"),forEach:Ja(!0,!1)},r={get(s){return Qa(this,s,!0,!0)},get size(){return Xa(this,!0)},has(s){return Ya.call(this,s,!0)},add:Ar("add"),set:Ar("set"),delete:Ar("delete"),clear:Ar("clear"),forEach:Ja(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Za(s,!1,!1),n[s]=Za(s,!0,!1),e[s]=Za(s,!1,!0),r[s]=Za(s,!0,!0)}),[t,n,e,r]}const[wE,EE,TE,AE]=bE();function gd(t,e){const n=e?t?AE:TE:t?EE:wE;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Le(n,i)&&i in r?n:r,i,s)}const IE={get:gd(!1,!1)},SE={get:gd(!1,!0)},OE={get:gd(!0,!1)},Py=new WeakMap,xy=new WeakMap,Dy=new WeakMap,kE=new WeakMap;function CE(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function NE(t){return t.__v_skip||!Object.isExtensible(t)?0:CE(Vw(t))}function Ut(t){return ls(t)?t:vd(t,!1,Ry,IE,Py)}function RE(t){return vd(t,!1,_E,SE,xy)}function md(t){return vd(t,!0,yE,OE,Dy)}function vd(t,e,n,r,i){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=NE(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Zi(t){return ls(t)?Zi(t.__v_raw):!!(t&&t.__v_isReactive)}function ls(t){return!!(t&&t.__v_isReadonly)}function Rl(t){return!!(t&&t.__v_isShallow)}function Ly(t){return Zi(t)||ls(t)}function je(t){const e=t&&t.__v_raw;return e?je(e):t}function My(t){return Cl(t,"__v_skip",!0),t}const No=t=>Ve(t)?Ut(t):t,yd=t=>Ve(t)?md(t):t;function jy(t){Mr&&En&&(t=je(t),ky(t.dep||(t.dep=fd())))}function By(t,e){t=je(t);const n=t.dep;n&&eh(n)}function bt(t){return!!(t&&t.__v_isRef===!0)}function ht(t){return Fy(t,!1)}function PE(t){return Fy(t,!0)}function Fy(t,e){return bt(t)?t:new xE(t,e)}class xE{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:je(e),this._value=n?e:No(e)}get value(){return jy(this),this._value}set value(e){const n=this.__v_isShallow||Rl(e)||ls(e);e=n?e:je(e),Co(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:No(e),By(this))}}function Xt(t){return bt(t)?t.value:t}const DE={get:(t,e,n)=>Xt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return bt(i)&&!bt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Uy(t){return Zi(t)?t:new Proxy(t,DE)}class LE{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new hd(e,()=>{this._dirty||(this._dirty=!0,By(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=je(this);return jy(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ME(t,e,n=!1){let r,i;const s=Ne(t);return s?(r=t,i=In):(r=t.get,i=t.set),new LE(r,i,s||!i,n)}function jr(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){vu(s,e,n)}return i}function gn(t,e,n,r){if(Ne(t)){const s=jr(t,e,n,r);return s&&yy(s)&&s.catch(o=>{vu(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(gn(t[s],e,n,r));return i}function vu(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){jr(l,null,10,[t,o,a]);return}}jE(t,n,i,r)}function jE(t,e,n,r=!0){console.error(t)}let Ro=!1,th=!1;const Nt=[];let Bn=0;const es=[];let ir=null,fi=0;const qy=Promise.resolve();let _d=null;function Po(t){const e=_d||qy;return t?e.then(this?t.bind(this):t):e}function BE(t){let e=Bn+1,n=Nt.length;for(;e<n;){const r=e+n>>>1;xo(Nt[r])<t?e=r+1:n=r}return e}function bd(t){(!Nt.length||!Nt.includes(t,Ro&&t.allowRecurse?Bn+1:Bn))&&(t.id==null?Nt.push(t):Nt.splice(BE(t.id),0,t),$y())}function $y(){!Ro&&!th&&(th=!0,_d=qy.then(Vy))}function FE(t){const e=Nt.indexOf(t);e>Bn&&Nt.splice(e,1)}function UE(t){we(t)?es.push(...t):(!ir||!ir.includes(t,t.allowRecurse?fi+1:fi))&&es.push(t),$y()}function Sg(t,e=Ro?Bn+1:0){for(;e<Nt.length;e++){const n=Nt[e];n&&n.pre&&(Nt.splice(e,1),e--,n())}}function Hy(t){if(es.length){const e=[...new Set(es)];if(es.length=0,ir){ir.push(...e);return}for(ir=e,ir.sort((n,r)=>xo(n)-xo(r)),fi=0;fi<ir.length;fi++)ir[fi]();ir=null,fi=0}}const xo=t=>t.id==null?1/0:t.id,qE=(t,e)=>{const n=xo(t)-xo(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Vy(t){th=!1,Ro=!0,Nt.sort(qE);const e=In;try{for(Bn=0;Bn<Nt.length;Bn++){const n=Nt[Bn];n&&n.active!==!1&&jr(n,null,14)}}finally{Bn=0,Nt.length=0,Hy(),Ro=!1,_d=null,(Nt.length||es.length)&&Vy()}}function $E(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ze;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[c]||ze;f&&(i=n.map(d=>Xe(d)?d.trim():d)),h&&(i=n.map(Nl))}let a,l=r[a=ef(e)]||r[a=ef(Gn(e))];!l&&s&&(l=r[a=ef(As(e))]),l&&gn(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,gn(u,t,6,i)}}function zy(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ne(t)){const l=u=>{const c=zy(u,e,!0);c&&(a=!0,it(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ve(t)&&r.set(t,null),null):(we(s)?s.forEach(l=>o[l]=null):it(o,s),Ve(t)&&r.set(t,o),o)}function yu(t,e){return!t||!hu(e)?!1:(e=e.slice(2).replace(/Once$/,""),Le(t,e[0].toLowerCase()+e.slice(1))||Le(t,As(e))||Le(t,e))}let wt=null,_u=null;function Pl(t){const e=wt;return wt=t,_u=t&&t.type.__scopeId||null,e}function HE(t){_u=t}function VE(){_u=null}function Do(t,e=wt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&Bg(-1);const s=Pl(e);let o;try{o=t(...i)}finally{Pl(s),r._d&&Bg(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function tf(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:g}=t;let _,m;const v=Pl(t);try{if(n.shapeFlag&4){const y=i||r;_=jn(c.call(y,y,h,s,d,f,p)),m=l}else{const y=e;_=jn(y.length>1?y(s,{attrs:l,slots:a,emit:u}):y(s,null)),m=e.props?l:zE(l)}}catch(y){go.length=0,vu(y,t,1),_=at(mn)}let b=_;if(m&&g!==!1){const y=Object.keys(m),{shapeFlag:E}=b;y.length&&E&7&&(o&&y.some(od)&&(m=KE(m,o)),b=Hr(b,m))}return n.dirs&&(b=Hr(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),_=b,Pl(v),_}const zE=t=>{let e;for(const n in t)(n==="class"||n==="style"||hu(n))&&((e||(e={}))[n]=t[n]);return e},KE=(t,e)=>{const n={};for(const r in t)(!od(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function GE(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Og(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!yu(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Og(r,o,u):!0:!!o;return!1}function Og(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!yu(n,s))return!0}return!1}function WE({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const QE=t=>t.__isSuspense;function YE(t,e){e&&e.pendingBranch?we(t)?e.effects.push(...t):e.effects.push(t):UE(t)}function XE(t,e){return wd(t,null,e)}const el={};function Sn(t,e,n){return wd(t,e,n)}function wd(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=ze){var a;const l=Ay()===((a=ft)==null?void 0:a.scope)?ft:null;let u,c=!1,h=!1;if(bt(t)?(u=()=>t.value,c=Rl(t)):Zi(t)?(u=()=>t,r=!0):we(t)?(h=!0,c=t.some(y=>Zi(y)||Rl(y)),u=()=>t.map(y=>{if(bt(y))return y.value;if(Zi(y))return pi(y);if(Ne(y))return jr(y,l,2)})):Ne(t)?e?u=()=>jr(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return f&&f(),gn(t,l,3,[d])}:u=In,e&&r){const y=u;u=()=>pi(y())}let f,d=y=>{f=v.onStop=()=>{jr(y,l,4)}},p;if(Mo)if(d=In,e?n&&gn(e,l,3,[u(),h?[]:void 0,d]):u(),i==="sync"){const y=VT();p=y.__watcherHandles||(y.__watcherHandles=[])}else return In;let g=h?new Array(t.length).fill(el):el;const _=()=>{if(v.active)if(e){const y=v.run();(r||c||(h?y.some((E,k)=>Co(E,g[k])):Co(y,g)))&&(f&&f(),gn(e,l,3,[y,g===el?void 0:h&&g[0]===el?[]:g,d]),g=y)}else v.run()};_.allowRecurse=!!e;let m;i==="sync"?m=_:i==="post"?m=()=>Wt(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),m=()=>bd(_));const v=new hd(u,m);e?n?_():g=v.run():i==="post"?Wt(v.run.bind(v),l&&l.suspense):v.run();const b=()=>{v.stop(),l&&l.scope&&ad(l.scope.effects,v)};return p&&p.push(b),b}function JE(t,e,n){const r=this.proxy,i=Xe(t)?t.includes(".")?Ky(r,t):()=>r[t]:t.bind(r,r);let s;Ne(e)?s=e:(s=e.handler,n=e);const o=ft;cs(this);const a=wd(i,s.bind(r),n);return o?cs(o):wi(),a}function Ky(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function pi(t,e){if(!Ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),bt(t))pi(t.value,e);else if(we(t))for(let n=0;n<t.length;n++)pi(t[n],e);else if(du(t)||Ji(t))t.forEach(n=>{pi(n,e)});else if(by(t))for(const n in t)pi(t[n],e);return t}function NM(t,e){const n=wt;if(n===null)return t;const r=Ou(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,u=ze]=e[s];o&&(Ne(o)&&(o={mounted:o,updated:o}),o.deep&&pi(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function ii(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Is(),gn(l,n,8,[t.el,a,t,e]),Ss())}}function ZE(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Eu(()=>{t.isMounted=!0}),Tu(()=>{t.isUnmounting=!0}),t}const un=[Function,Array],Gy={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:un,onEnter:un,onAfterEnter:un,onEnterCancelled:un,onBeforeLeave:un,onLeave:un,onAfterLeave:un,onLeaveCancelled:un,onBeforeAppear:un,onAppear:un,onAfterAppear:un,onAppearCancelled:un},eT={name:"BaseTransition",props:Gy,setup(t,{slots:e}){const n=Su(),r=ZE();let i;return()=>{const s=e.default&&Qy(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const g of s)if(g.type!==mn){o=g;break}}const a=je(t),{mode:l}=a;if(r.isLeaving)return nf(o);const u=kg(o);if(!u)return nf(o);const c=nh(u,a,r,n);rh(u,c);const h=n.subTree,f=h&&kg(h);let d=!1;const{getTransitionKey:p}=u.type;if(p){const g=p();i===void 0?i=g:g!==i&&(i=g,d=!0)}if(f&&f.type!==mn&&(!hi(u,f)||d)){const g=nh(f,a,r,n);if(rh(f,g),l==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},nf(o);l==="in-out"&&u.type!==mn&&(g.delayLeave=(_,m,v)=>{const b=Wy(r,f);b[String(f.key)]=f,_._leaveCb=()=>{m(),_._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=v})}return o}}},tT=eT;function Wy(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function nh(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:g,onAppear:_,onAfterAppear:m,onAppearCancelled:v}=e,b=String(t.key),y=Wy(n,t),E=(I,R)=>{I&&gn(I,r,9,R)},k=(I,R)=>{const O=R[1];E(I,R),we(I)?I.every(T=>T.length<=1)&&O():I.length<=1&&O()},S={mode:s,persisted:o,beforeEnter(I){let R=a;if(!n.isMounted)if(i)R=g||a;else return;I._leaveCb&&I._leaveCb(!0);const O=y[b];O&&hi(t,O)&&O.el._leaveCb&&O.el._leaveCb(),E(R,[I])},enter(I){let R=l,O=u,T=c;if(!n.isMounted)if(i)R=_||l,O=m||u,T=v||c;else return;let A=!1;const C=I._enterCb=D=>{A||(A=!0,D?E(T,[I]):E(O,[I]),S.delayedLeave&&S.delayedLeave(),I._enterCb=void 0)};R?k(R,[I,C]):C()},leave(I,R){const O=String(t.key);if(I._enterCb&&I._enterCb(!0),n.isUnmounting)return R();E(h,[I]);let T=!1;const A=I._leaveCb=C=>{T||(T=!0,R(),C?E(p,[I]):E(d,[I]),I._leaveCb=void 0,y[O]===t&&delete y[O])};y[O]=t,f?k(f,[I,A]):A()},clone(I){return nh(I,e,n,r)}};return S}function nf(t){if(bu(t))return t=Hr(t),t.children=null,t}function kg(t){return bu(t)?t.children?t.children[0]:void 0:t}function rh(t,e){t.shapeFlag&6&&t.component?rh(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Qy(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===hn?(o.patchFlag&128&&i++,r=r.concat(Qy(o.children,e,a))):(e||o.type!==mn)&&r.push(a!=null?Hr(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function aa(t,e){return Ne(t)?(()=>it({name:t.name},e,{setup:t}))():t}const ho=t=>!!t.type.__asyncLoader,bu=t=>t.type.__isKeepAlive;function Ed(t,e){Yy(t,"a",e)}function Td(t,e){Yy(t,"da",e)}function Yy(t,e,n=ft){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(wu(e,r,n),n){let i=n.parent;for(;i&&i.parent;)bu(i.parent.vnode)&&nT(r,e,n,i),i=i.parent}}function nT(t,e,n,r){const i=wu(e,t,r,!0);Ad(()=>{ad(r[e],i)},n)}function wu(t,e,n=ft,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Is(),cs(n);const a=gn(e,n,t,o);return wi(),Ss(),a});return r?i.unshift(s):i.push(s),s}}const _r=t=>(e,n=ft)=>(!Mo||t==="sp")&&wu(t,(...r)=>e(...r),n),rT=_r("bm"),Eu=_r("m"),iT=_r("bu"),sT=_r("u"),Tu=_r("bum"),Ad=_r("um"),oT=_r("sp"),aT=_r("rtg"),lT=_r("rtc");function uT(t,e=ft){wu("ec",t,e)}const Id="components";function cT(t,e){return Jy(Id,t,!0,e)||t}const Xy=Symbol.for("v-ndc");function fT(t){return Xe(t)?Jy(Id,t,!1)||t:t||Xy}function Jy(t,e,n=!0,r=!1){const i=wt||ft;if(i){const s=i.type;if(t===Id){const a=qT(s,!1);if(a&&(a===e||a===Gn(e)||a===gu(Gn(e))))return s}const o=Cg(i[t]||s[t],e)||Cg(i.appContext[t],e);return!o&&r?s:o}}function Cg(t,e){return t&&(t[e]||t[Gn(e)]||t[gu(Gn(e))])}function RM(t,e,n,r){let i;const s=n&&n[r];if(we(t)||Xe(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(Ve(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=e(t[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function PM(t,e,n={},r,i){if(wt.isCE||wt.parent&&ho(wt.parent)&&wt.parent.isCE)return e!=="default"&&(n.name=e),at("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),cr();const o=s&&Zy(s(n)),a=Ll(hn,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function Zy(t){return t.some(e=>Ml(e)?!(e.type===mn||e.type===hn&&!Zy(e.children)):!0)?t:null}const ih=t=>t?c0(t)?Ou(t)||t.proxy:ih(t.parent):null,po=it(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ih(t.parent),$root:t=>ih(t.root),$emit:t=>t.emit,$options:t=>Sd(t),$forceUpdate:t=>t.f||(t.f=()=>bd(t.update)),$nextTick:t=>t.n||(t.n=Po.bind(t.proxy)),$watch:t=>JE.bind(t)}),rf=(t,e)=>t!==ze&&!t.__isScriptSetup&&Le(t,e),hT={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(rf(r,e))return o[e]=1,r[e];if(i!==ze&&Le(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Le(u,e))return o[e]=3,s[e];if(n!==ze&&Le(n,e))return o[e]=4,n[e];sh&&(o[e]=0)}}const c=po[e];let h,f;if(c)return e==="$attrs"&&Zt(t,"get",e),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==ze&&Le(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Le(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return rf(i,e)?(i[e]=n,!0):r!==ze&&Le(r,e)?(r[e]=n,!0):Le(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==ze&&Le(t,o)||rf(e,o)||(a=s[0])&&Le(a,o)||Le(r,o)||Le(po,o)||Le(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Le(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ng(t){return we(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let sh=!0;function dT(t){const e=Sd(t),n=t.proxy,r=t.ctx;sh=!1,e.beforeCreate&&Rg(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:_,beforeDestroy:m,beforeUnmount:v,destroyed:b,unmounted:y,render:E,renderTracked:k,renderTriggered:S,errorCaptured:I,serverPrefetch:R,expose:O,inheritAttrs:T,components:A,directives:C,filters:D}=e;if(u&&pT(u,r,null),o)for(const Y in o){const ie=o[Y];Ne(ie)&&(r[Y]=ie.bind(n))}if(i){const Y=i.call(n,n);Ve(Y)&&(t.data=Ut(Y))}if(sh=!0,s)for(const Y in s){const ie=s[Y],X=Ne(ie)?ie.bind(n,n):Ne(ie.get)?ie.get.bind(n,n):In,B=!Ne(ie)&&Ne(ie.set)?ie.set.bind(n):In,N=qt({get:X,set:B});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>N.value,set:j=>N.value=j})}if(a)for(const Y in a)e0(a[Y],r,n,Y);if(l){const Y=Ne(l)?l.call(n):l;Reflect.ownKeys(Y).forEach(ie=>{_l(ie,Y[ie])})}c&&Rg(c,t,"c");function Q(Y,ie){we(ie)?ie.forEach(X=>Y(X.bind(n))):ie&&Y(ie.bind(n))}if(Q(rT,h),Q(Eu,f),Q(iT,d),Q(sT,p),Q(Ed,g),Q(Td,_),Q(uT,I),Q(lT,k),Q(aT,S),Q(Tu,v),Q(Ad,y),Q(oT,R),we(O))if(O.length){const Y=t.exposed||(t.exposed={});O.forEach(ie=>{Object.defineProperty(Y,ie,{get:()=>n[ie],set:X=>n[ie]=X})})}else t.exposed||(t.exposed={});E&&t.render===In&&(t.render=E),T!=null&&(t.inheritAttrs=T),A&&(t.components=A),C&&(t.directives=C)}function pT(t,e,n=In){we(t)&&(t=oh(t));for(const r in t){const i=t[r];let s;Ve(i)?"default"in i?s=on(i.from||r,i.default,!0):s=on(i.from||r):s=on(i),bt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Rg(t,e,n){gn(we(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function e0(t,e,n,r){const i=r.includes(".")?Ky(n,r):()=>n[r];if(Xe(t)){const s=e[t];Ne(s)&&Sn(i,s)}else if(Ne(t))Sn(i,t.bind(n));else if(Ve(t))if(we(t))t.forEach(s=>e0(s,e,n,r));else{const s=Ne(t.handler)?t.handler.bind(n):e[t.handler];Ne(s)&&Sn(i,s,t)}}function Sd(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>xl(l,u,o,!0)),xl(l,e,o)),Ve(e)&&s.set(e,l),l}function xl(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&xl(t,s,n,!0),i&&i.forEach(o=>xl(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=gT[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const gT={data:Pg,props:xg,emits:xg,methods:oo,computed:oo,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:oo,directives:oo,watch:vT,provide:Pg,inject:mT};function Pg(t,e){return e?t?function(){return it(Ne(t)?t.call(this,this):t,Ne(e)?e.call(this,this):e)}:e:t}function mT(t,e){return oo(oh(t),oh(e))}function oh(t){if(we(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function oo(t,e){return t?it(Object.create(null),t,e):e}function xg(t,e){return t?we(t)&&we(e)?[...new Set([...t,...e])]:it(Object.create(null),Ng(t),Ng(e??{})):e}function vT(t,e){if(!t)return e;if(!e)return t;const n=it(Object.create(null),t);for(const r in e)n[r]=Ft(t[r],e[r]);return n}function t0(){return{app:null,config:{isNativeTag:qw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yT=0;function _T(t,e){return function(r,i=null){Ne(r)||(r=it({},r)),i!=null&&!Ve(i)&&(i=null);const s=t0(),o=new Set;let a=!1;const l=s.app={_uid:yT++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Nd,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&Ne(u.install)?(o.add(u),u.install(l,...c)):Ne(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,h){if(!a){const f=at(r,i);return f.appContext=s,c&&e?e(f,u):t(f,u,h),a=!0,l._container=u,u.__vue_app__=l,Ou(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){Dl=l;try{return u()}finally{Dl=null}}};return l}}let Dl=null;function _l(t,e){if(ft){let n=ft.provides;const r=ft.parent&&ft.parent.provides;r===n&&(n=ft.provides=Object.create(r)),n[t]=e}}function on(t,e,n=!1){const r=ft||wt;if(r||Dl){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Dl._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ne(e)?e.call(r&&r.proxy):e}}function bT(t,e,n,r=!1){const i={},s={};Cl(s,Iu,1),t.propsDefaults=Object.create(null),n0(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:RE(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function wT(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=je(i),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(yu(t.emitsOptions,f))continue;const d=e[f];if(l)if(Le(s,f))d!==s[f]&&(s[f]=d,u=!0);else{const p=Gn(f);i[p]=ah(l,a,p,d,t,!1)}else d!==s[f]&&(s[f]=d,u=!0)}}}else{n0(t,e,i,s)&&(u=!0);let c;for(const h in a)(!e||!Le(e,h)&&((c=As(h))===h||!Le(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(i[h]=ah(l,a,h,void 0,t,!0)):delete i[h]);if(s!==a)for(const h in s)(!e||!Le(e,h))&&(delete s[h],u=!0)}u&&hr(t,"set","$attrs")}function n0(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(vl(l))continue;const u=e[l];let c;i&&Le(i,c=Gn(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:yu(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=je(n),u=a||ze;for(let c=0;c<s.length;c++){const h=s[c];n[h]=ah(i,l,h,u[h],t,!Le(u,h))}}return o}function ah(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Le(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ne(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(cs(i),r=u[n]=l.call(null,e),wi())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===As(n))&&(r=!0))}return r}function r0(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ne(t)){const c=h=>{l=!0;const[f,d]=r0(h,e,!0);it(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Ve(t)&&r.set(t,Xi),Xi;if(we(s))for(let c=0;c<s.length;c++){const h=Gn(s[c]);Dg(h)&&(o[h]=ze)}else if(s)for(const c in s){const h=Gn(c);if(Dg(h)){const f=s[c],d=o[h]=we(f)||Ne(f)?{type:f}:it({},f);if(d){const p=jg(Boolean,d.type),g=jg(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||Le(d,"default"))&&a.push(h)}}}const u=[o,a];return Ve(t)&&r.set(t,u),u}function Dg(t){return t[0]!=="$"}function Lg(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Mg(t,e){return Lg(t)===Lg(e)}function jg(t,e){return we(e)?e.findIndex(n=>Mg(n,t)):Ne(e)&&Mg(e,t)?0:-1}const i0=t=>t[0]==="_"||t==="$stable",Od=t=>we(t)?t.map(jn):[jn(t)],ET=(t,e,n)=>{if(e._n)return e;const r=Do((...i)=>Od(e(...i)),n);return r._c=!1,r},s0=(t,e,n)=>{const r=t._ctx;for(const i in t){if(i0(i))continue;const s=t[i];if(Ne(s))e[i]=ET(i,s,r);else if(s!=null){const o=Od(s);e[i]=()=>o}}},o0=(t,e)=>{const n=Od(e);t.slots.default=()=>n},TT=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=je(e),Cl(e,"_",n)):s0(e,t.slots={})}else t.slots={},e&&o0(t,e);Cl(t.slots,Iu,1)},AT=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=ze;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(it(i,e),!n&&a===1&&delete i._):(s=!e.$stable,s0(e,i)),o=e}else e&&(o0(t,e),o={default:1});if(s)for(const a in i)!i0(a)&&!(a in o)&&delete i[a]};function lh(t,e,n,r,i=!1){if(we(t)){t.forEach((f,d)=>lh(f,e&&(we(e)?e[d]:e),n,r,i));return}if(ho(r)&&!i)return;const s=r.shapeFlag&4?Ou(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===ze?a.refs={}:a.refs,h=a.setupState;if(u!=null&&u!==l&&(Xe(u)?(c[u]=null,Le(h,u)&&(h[u]=null)):bt(u)&&(u.value=null)),Ne(l))jr(l,a,12,[o,c]);else{const f=Xe(l),d=bt(l);if(f||d){const p=()=>{if(t.f){const g=f?Le(h,l)?h[l]:c[l]:l.value;i?we(g)&&ad(g,s):we(g)?g.includes(s)||g.push(s):f?(c[l]=[s],Le(h,l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else f?(c[l]=o,Le(h,l)&&(h[l]=o)):d&&(l.value=o,t.k&&(c[t.k]=o))};o?(p.id=-1,Wt(p,n)):p()}}}const Wt=YE;function IT(t){return ST(t)}function ST(t,e){const n=Yf();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:d=In,insertStaticContent:p}=t,g=(M,F,z,re=null,se=null,ae=null,W=!1,G=null,te=!!F.dynamicChildren)=>{if(M===F)return;M&&!hi(M,F)&&(re=x(M),j(M,se,ae,!0),M=null),F.patchFlag===-2&&(te=!1,F.dynamicChildren=null);const{type:Z,ref:ne,shapeFlag:ue}=F;switch(Z){case Au:_(M,F,z,re);break;case mn:m(M,F,z,re);break;case sf:M==null&&v(F,z,re,W);break;case hn:A(M,F,z,re,se,ae,W,G,te);break;default:ue&1?E(M,F,z,re,se,ae,W,G,te):ue&6?C(M,F,z,re,se,ae,W,G,te):(ue&64||ue&128)&&Z.process(M,F,z,re,se,ae,W,G,te,$)}ne!=null&&se&&lh(ne,M&&M.ref,ae,F||M,!F)},_=(M,F,z,re)=>{if(M==null)r(F.el=a(F.children),z,re);else{const se=F.el=M.el;F.children!==M.children&&u(se,F.children)}},m=(M,F,z,re)=>{M==null?r(F.el=l(F.children||""),z,re):F.el=M.el},v=(M,F,z,re)=>{[M.el,M.anchor]=p(M.children,F,z,re,M.el,M.anchor)},b=({el:M,anchor:F},z,re)=>{let se;for(;M&&M!==F;)se=f(M),r(M,z,re),M=se;r(F,z,re)},y=({el:M,anchor:F})=>{let z;for(;M&&M!==F;)z=f(M),i(M),M=z;i(F)},E=(M,F,z,re,se,ae,W,G,te)=>{W=W||F.type==="svg",M==null?k(F,z,re,se,ae,W,G,te):R(M,F,se,ae,W,G,te)},k=(M,F,z,re,se,ae,W,G)=>{let te,Z;const{type:ne,props:ue,shapeFlag:ce,transition:de,dirs:be}=M;if(te=M.el=o(M.type,ae,ue&&ue.is,ue),ce&8?c(te,M.children):ce&16&&I(M.children,te,null,re,se,ae&&ne!=="foreignObject",W,G),be&&ii(M,null,re,"created"),S(te,M,M.scopeId,W,re),ue){for(const me in ue)me!=="value"&&!vl(me)&&s(te,me,null,ue[me],ae,M.children,re,se,L);"value"in ue&&s(te,"value",null,ue.value),(Z=ue.onVnodeBeforeMount)&&Ln(Z,re,M)}be&&ii(M,null,re,"beforeMount");const Ie=(!se||se&&!se.pendingBranch)&&de&&!de.persisted;Ie&&de.beforeEnter(te),r(te,F,z),((Z=ue&&ue.onVnodeMounted)||Ie||be)&&Wt(()=>{Z&&Ln(Z,re,M),Ie&&de.enter(te),be&&ii(M,null,re,"mounted")},se)},S=(M,F,z,re,se)=>{if(z&&d(M,z),re)for(let ae=0;ae<re.length;ae++)d(M,re[ae]);if(se){let ae=se.subTree;if(F===ae){const W=se.vnode;S(M,W,W.scopeId,W.slotScopeIds,se.parent)}}},I=(M,F,z,re,se,ae,W,G,te=0)=>{for(let Z=te;Z<M.length;Z++){const ne=M[Z]=G?Cr(M[Z]):jn(M[Z]);g(null,ne,F,z,re,se,ae,W,G)}},R=(M,F,z,re,se,ae,W)=>{const G=F.el=M.el;let{patchFlag:te,dynamicChildren:Z,dirs:ne}=F;te|=M.patchFlag&16;const ue=M.props||ze,ce=F.props||ze;let de;z&&si(z,!1),(de=ce.onVnodeBeforeUpdate)&&Ln(de,z,F,M),ne&&ii(F,M,z,"beforeUpdate"),z&&si(z,!0);const be=se&&F.type!=="foreignObject";if(Z?O(M.dynamicChildren,Z,G,z,re,be,ae):W||ie(M,F,G,null,z,re,be,ae,!1),te>0){if(te&16)T(G,F,ue,ce,z,re,se);else if(te&2&&ue.class!==ce.class&&s(G,"class",null,ce.class,se),te&4&&s(G,"style",ue.style,ce.style,se),te&8){const Ie=F.dynamicProps;for(let me=0;me<Ie.length;me++){const He=Ie[me],Te=ue[He],Je=ce[He];(Je!==Te||He==="value")&&s(G,He,Te,Je,se,M.children,z,re,L)}}te&1&&M.children!==F.children&&c(G,F.children)}else!W&&Z==null&&T(G,F,ue,ce,z,re,se);((de=ce.onVnodeUpdated)||ne)&&Wt(()=>{de&&Ln(de,z,F,M),ne&&ii(F,M,z,"updated")},re)},O=(M,F,z,re,se,ae,W)=>{for(let G=0;G<F.length;G++){const te=M[G],Z=F[G],ne=te.el&&(te.type===hn||!hi(te,Z)||te.shapeFlag&70)?h(te.el):z;g(te,Z,ne,null,re,se,ae,W,!0)}},T=(M,F,z,re,se,ae,W)=>{if(z!==re){if(z!==ze)for(const G in z)!vl(G)&&!(G in re)&&s(M,G,z[G],null,W,F.children,se,ae,L);for(const G in re){if(vl(G))continue;const te=re[G],Z=z[G];te!==Z&&G!=="value"&&s(M,G,Z,te,W,F.children,se,ae,L)}"value"in re&&s(M,"value",z.value,re.value)}},A=(M,F,z,re,se,ae,W,G,te)=>{const Z=F.el=M?M.el:a(""),ne=F.anchor=M?M.anchor:a("");let{patchFlag:ue,dynamicChildren:ce,slotScopeIds:de}=F;de&&(G=G?G.concat(de):de),M==null?(r(Z,z,re),r(ne,z,re),I(F.children,z,ne,se,ae,W,G,te)):ue>0&&ue&64&&ce&&M.dynamicChildren?(O(M.dynamicChildren,ce,z,se,ae,W,G),(F.key!=null||se&&F===se.subTree)&&a0(M,F,!0)):ie(M,F,z,ne,se,ae,W,G,te)},C=(M,F,z,re,se,ae,W,G,te)=>{F.slotScopeIds=G,M==null?F.shapeFlag&512?se.ctx.activate(F,z,re,W,te):D(F,z,re,se,ae,W,te):q(M,F,te)},D=(M,F,z,re,se,ae,W)=>{const G=M.component=MT(M,re,se);if(bu(M)&&(G.ctx.renderer=$),jT(G),G.asyncDep){if(se&&se.registerDep(G,Q),!M.el){const te=G.subTree=at(mn);m(null,te,F,z)}return}Q(G,M,F,z,se,ae,W)},q=(M,F,z)=>{const re=F.component=M.component;if(GE(M,F,z))if(re.asyncDep&&!re.asyncResolved){Y(re,F,z);return}else re.next=F,FE(re.update),re.update();else F.el=M.el,re.vnode=F},Q=(M,F,z,re,se,ae,W)=>{const G=()=>{if(M.isMounted){let{next:ne,bu:ue,u:ce,parent:de,vnode:be}=M,Ie=ne,me;si(M,!1),ne?(ne.el=be.el,Y(M,ne,W)):ne=be,ue&&yl(ue),(me=ne.props&&ne.props.onVnodeBeforeUpdate)&&Ln(me,de,ne,be),si(M,!0);const He=tf(M),Te=M.subTree;M.subTree=He,g(Te,He,h(Te.el),x(Te),M,se,ae),ne.el=He.el,Ie===null&&WE(M,He.el),ce&&Wt(ce,se),(me=ne.props&&ne.props.onVnodeUpdated)&&Wt(()=>Ln(me,de,ne,be),se)}else{let ne;const{el:ue,props:ce}=F,{bm:de,m:be,parent:Ie}=M,me=ho(F);if(si(M,!1),de&&yl(de),!me&&(ne=ce&&ce.onVnodeBeforeMount)&&Ln(ne,Ie,F),si(M,!0),ue&&fe){const He=()=>{M.subTree=tf(M),fe(ue,M.subTree,M,se,null)};me?F.type.__asyncLoader().then(()=>!M.isUnmounted&&He()):He()}else{const He=M.subTree=tf(M);g(null,He,z,re,M,se,ae),F.el=He.el}if(be&&Wt(be,se),!me&&(ne=ce&&ce.onVnodeMounted)){const He=F;Wt(()=>Ln(ne,Ie,He),se)}(F.shapeFlag&256||Ie&&ho(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&M.a&&Wt(M.a,se),M.isMounted=!0,F=z=re=null}},te=M.effect=new hd(G,()=>bd(Z),M.scope),Z=M.update=()=>te.run();Z.id=M.uid,si(M,!0),Z()},Y=(M,F,z)=>{F.component=M;const re=M.vnode.props;M.vnode=F,M.next=null,wT(M,F.props,re,z),AT(M,F.children,z),Is(),Sg(),Ss()},ie=(M,F,z,re,se,ae,W,G,te=!1)=>{const Z=M&&M.children,ne=M?M.shapeFlag:0,ue=F.children,{patchFlag:ce,shapeFlag:de}=F;if(ce>0){if(ce&128){B(Z,ue,z,re,se,ae,W,G,te);return}else if(ce&256){X(Z,ue,z,re,se,ae,W,G,te);return}}de&8?(ne&16&&L(Z,se,ae),ue!==Z&&c(z,ue)):ne&16?de&16?B(Z,ue,z,re,se,ae,W,G,te):L(Z,se,ae,!0):(ne&8&&c(z,""),de&16&&I(ue,z,re,se,ae,W,G,te))},X=(M,F,z,re,se,ae,W,G,te)=>{M=M||Xi,F=F||Xi;const Z=M.length,ne=F.length,ue=Math.min(Z,ne);let ce;for(ce=0;ce<ue;ce++){const de=F[ce]=te?Cr(F[ce]):jn(F[ce]);g(M[ce],de,z,null,se,ae,W,G,te)}Z>ne?L(M,se,ae,!0,!1,ue):I(F,z,re,se,ae,W,G,te,ue)},B=(M,F,z,re,se,ae,W,G,te)=>{let Z=0;const ne=F.length;let ue=M.length-1,ce=ne-1;for(;Z<=ue&&Z<=ce;){const de=M[Z],be=F[Z]=te?Cr(F[Z]):jn(F[Z]);if(hi(de,be))g(de,be,z,null,se,ae,W,G,te);else break;Z++}for(;Z<=ue&&Z<=ce;){const de=M[ue],be=F[ce]=te?Cr(F[ce]):jn(F[ce]);if(hi(de,be))g(de,be,z,null,se,ae,W,G,te);else break;ue--,ce--}if(Z>ue){if(Z<=ce){const de=ce+1,be=de<ne?F[de].el:re;for(;Z<=ce;)g(null,F[Z]=te?Cr(F[Z]):jn(F[Z]),z,be,se,ae,W,G,te),Z++}}else if(Z>ce)for(;Z<=ue;)j(M[Z],se,ae,!0),Z++;else{const de=Z,be=Z,Ie=new Map;for(Z=be;Z<=ce;Z++){const Ze=F[Z]=te?Cr(F[Z]):jn(F[Z]);Ze.key!=null&&Ie.set(Ze.key,Z)}let me,He=0;const Te=ce-be+1;let Je=!1,Yr=0;const Xn=new Array(Te);for(Z=0;Z<Te;Z++)Xn[Z]=0;for(Z=de;Z<=ue;Z++){const Ze=M[Z];if(He>=Te){j(Ze,se,ae,!0);continue}let jt;if(Ze.key!=null)jt=Ie.get(Ze.key);else for(me=be;me<=ce;me++)if(Xn[me-be]===0&&hi(Ze,F[me])){jt=me;break}jt===void 0?j(Ze,se,ae,!0):(Xn[jt-be]=Z+1,jt>=Yr?Yr=jt:Je=!0,g(Ze,F[jt],z,null,se,ae,W,G,te),He++)}const wr=Je?OT(Xn):Xi;for(me=wr.length-1,Z=Te-1;Z>=0;Z--){const Ze=be+Z,jt=F[Ze],Jn=Ze+1<ne?F[Ze+1].el:re;Xn[Z]===0?g(null,jt,z,Jn,se,ae,W,G,te):Je&&(me<0||Z!==wr[me]?N(jt,z,Jn,2):me--)}}},N=(M,F,z,re,se=null)=>{const{el:ae,type:W,transition:G,children:te,shapeFlag:Z}=M;if(Z&6){N(M.component.subTree,F,z,re);return}if(Z&128){M.suspense.move(F,z,re);return}if(Z&64){W.move(M,F,z,$);return}if(W===hn){r(ae,F,z);for(let ue=0;ue<te.length;ue++)N(te[ue],F,z,re);r(M.anchor,F,z);return}if(W===sf){b(M,F,z);return}if(re!==2&&Z&1&&G)if(re===0)G.beforeEnter(ae),r(ae,F,z),Wt(()=>G.enter(ae),se);else{const{leave:ue,delayLeave:ce,afterLeave:de}=G,be=()=>r(ae,F,z),Ie=()=>{ue(ae,()=>{be(),de&&de()})};ce?ce(ae,be,Ie):Ie()}else r(ae,F,z)},j=(M,F,z,re=!1,se=!1)=>{const{type:ae,props:W,ref:G,children:te,dynamicChildren:Z,shapeFlag:ne,patchFlag:ue,dirs:ce}=M;if(G!=null&&lh(G,null,z,M,!0),ne&256){F.ctx.deactivate(M);return}const de=ne&1&&ce,be=!ho(M);let Ie;if(be&&(Ie=W&&W.onVnodeBeforeUnmount)&&Ln(Ie,F,M),ne&6)K(M.component,z,re);else{if(ne&128){M.suspense.unmount(z,re);return}de&&ii(M,null,F,"beforeUnmount"),ne&64?M.type.remove(M,F,z,se,$,re):Z&&(ae!==hn||ue>0&&ue&64)?L(Z,F,z,!1,!0):(ae===hn&&ue&384||!se&&ne&16)&&L(te,F,z),re&&U(M)}(be&&(Ie=W&&W.onVnodeUnmounted)||de)&&Wt(()=>{Ie&&Ln(Ie,F,M),de&&ii(M,null,F,"unmounted")},z)},U=M=>{const{type:F,el:z,anchor:re,transition:se}=M;if(F===hn){J(z,re);return}if(F===sf){y(M);return}const ae=()=>{i(z),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(M.shapeFlag&1&&se&&!se.persisted){const{leave:W,delayLeave:G}=se,te=()=>W(z,ae);G?G(M.el,ae,te):te()}else ae()},J=(M,F)=>{let z;for(;M!==F;)z=f(M),i(M),M=z;i(F)},K=(M,F,z)=>{const{bum:re,scope:se,update:ae,subTree:W,um:G}=M;re&&yl(re),se.stop(),ae&&(ae.active=!1,j(W,M,F,z)),G&&Wt(G,F),Wt(()=>{M.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},L=(M,F,z,re=!1,se=!1,ae=0)=>{for(let W=ae;W<M.length;W++)j(M[W],F,z,re,se)},x=M=>M.shapeFlag&6?x(M.component.subTree):M.shapeFlag&128?M.suspense.next():f(M.anchor||M.el),V=(M,F,z)=>{M==null?F._vnode&&j(F._vnode,null,null,!0):g(F._vnode||null,M,F,null,null,null,z),Sg(),Hy(),F._vnode=M},$={p:g,um:j,m:N,r:U,mt:D,mc:I,pc:ie,pbc:O,n:x,o:t};let ee,fe;return e&&([ee,fe]=e($)),{render:V,hydrate:ee,createApp:_T(V,ee)}}function si({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function a0(t,e,n=!1){const r=t.children,i=e.children;if(we(r)&&we(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Cr(i[s]),a.el=o.el),n||a0(o,a)),a.type===Au&&(a.el=o.el)}}function OT(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const kT=t=>t.__isTeleport,hn=Symbol.for("v-fgt"),Au=Symbol.for("v-txt"),mn=Symbol.for("v-cmt"),sf=Symbol.for("v-stc"),go=[];let Tn=null;function cr(t=!1){go.push(Tn=t?null:[])}function CT(){go.pop(),Tn=go[go.length-1]||null}let Lo=1;function Bg(t){Lo+=t}function l0(t){return t.dynamicChildren=Lo>0?Tn||Xi:null,CT(),Lo>0&&Tn&&Tn.push(t),t}function mo(t,e,n,r,i,s){return l0(us(t,e,n,r,i,s,!0))}function Ll(t,e,n,r,i){return l0(at(t,e,n,r,i,!0))}function Ml(t){return t?t.__v_isVNode===!0:!1}function hi(t,e){return t.type===e.type&&t.key===e.key}const Iu="__vInternal",u0=({key:t})=>t??null,bl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Xe(t)||bt(t)||Ne(t)?{i:wt,r:t,k:e,f:!!n}:t:null);function us(t,e=null,n=null,r=0,i=null,s=t===hn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&u0(e),ref:e&&bl(e),scopeId:_u,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:wt};return a?(kd(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Xe(n)?8:16),Lo>0&&!o&&Tn&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Tn.push(l),l}const at=NT;function NT(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Xy)&&(t=mn),Ml(t)){const a=Hr(t,e,!0);return n&&kd(a,n),Lo>0&&!s&&Tn&&(a.shapeFlag&6?Tn[Tn.indexOf(t)]=a:Tn.push(a)),a.patchFlag|=-2,a}if($T(t)&&(t=t.__vccOpts),e){e=RT(e);let{class:a,style:l}=e;a&&!Xe(a)&&(e.class=cd(a)),Ve(l)&&(Ly(l)&&!we(l)&&(l=it({},l)),e.style=ud(l))}const o=Xe(t)?1:QE(t)?128:kT(t)?64:Ve(t)?4:Ne(t)?2:0;return us(t,e,n,r,i,o,s,!0)}function RT(t){return t?Ly(t)||Iu in t?it({},t):t:null}function Hr(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?xT(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&u0(a),ref:e&&e.ref?n&&i?we(i)?i.concat(bl(e)):[i,bl(e)]:bl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==hn?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Hr(t.ssContent),ssFallback:t.ssFallback&&Hr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function PT(t=" ",e=0){return at(Au,null,t,e)}function uh(t="",e=!1){return e?(cr(),Ll(mn,null,t)):at(mn,null,t)}function jn(t){return t==null||typeof t=="boolean"?at(mn):we(t)?at(hn,null,t.slice()):typeof t=="object"?Cr(t):at(Au,null,String(t))}function Cr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Hr(t)}function kd(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(we(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),kd(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Iu in e)?e._ctx=wt:i===3&&wt&&(wt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ne(e)?(e={default:e,_ctx:wt},n=32):(e=String(e),r&64?(n=16,e=[PT(e)]):n=8);t.children=e,t.shapeFlag|=n}function xT(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=cd([e.class,r.class]));else if(i==="style")e.style=ud([e.style,r.style]);else if(hu(i)){const s=e[i],o=r[i];o&&s!==o&&!(we(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Ln(t,e,n,r=null){gn(t,e,7,[n,r])}const DT=t0();let LT=0;function MT(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||DT,s={uid:LT++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ty(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:r0(r,i),emitsOptions:zy(r,i),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:r.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=$E.bind(null,s),t.ce&&t.ce(s),s}let ft=null;const Su=()=>ft||wt;let Cd,Vi,Fg="__VUE_INSTANCE_SETTERS__";(Vi=Yf()[Fg])||(Vi=Yf()[Fg]=[]),Vi.push(t=>ft=t),Cd=t=>{Vi.length>1?Vi.forEach(e=>e(t)):Vi[0](t)};const cs=t=>{Cd(t),t.scope.on()},wi=()=>{ft&&ft.scope.off(),Cd(null)};function c0(t){return t.vnode.shapeFlag&4}let Mo=!1;function jT(t,e=!1){Mo=e;const{props:n,children:r}=t.vnode,i=c0(t);bT(t,n,i,e),TT(t,r);const s=i?BT(t,e):void 0;return Mo=!1,s}function BT(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=My(new Proxy(t.ctx,hT));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?UT(t):null;cs(t),Is();const s=jr(r,t,0,[t.props,i]);if(Ss(),wi(),yy(s)){if(s.then(wi,wi),e)return s.then(o=>{Ug(t,o,e)}).catch(o=>{vu(o,t,0)});t.asyncDep=s}else Ug(t,s,e)}else f0(t,e)}function Ug(t,e,n){Ne(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=Uy(e)),f0(t,n)}let qg;function f0(t,e,n){const r=t.type;if(!t.render){if(!e&&qg&&!r.render){const i=r.template||Sd(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=it(it({isCustomElement:s,delimiters:a},o),l);r.render=qg(i,u)}}t.render=r.render||In}cs(t),Is(),dT(t),Ss(),wi()}function FT(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Zt(t,"get","$attrs"),e[n]}}))}function UT(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return FT(t)},slots:t.slots,emit:t.emit,expose:e}}function Ou(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Uy(My(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in po)return po[n](t)},has(e,n){return n in e||n in po}}))}function qT(t,e=!0){return Ne(t)?t.displayName||t.name:t.name||e&&t.__name}function $T(t){return Ne(t)&&"__vccOpts"in t}const qt=(t,e)=>ME(t,e,Mo);function ku(t,e,n){const r=arguments.length;return r===2?Ve(e)&&!we(e)?Ml(e)?at(t,null,[e]):at(t,e):at(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ml(n)&&(n=[n]),at(t,e,n))}const HT=Symbol.for("v-scx"),VT=()=>on(HT),Nd="3.3.4",zT="http://www.w3.org/2000/svg",di=typeof document<"u"?document:null,$g=di&&di.createElement("template"),KT={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?di.createElementNS(zT,t):di.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>di.createTextNode(t),createComment:t=>di.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>di.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{$g.innerHTML=r?`<svg>${t}</svg>`:t;const a=$g.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function GT(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function WT(t,e,n){const r=t.style,i=Xe(n);if(n&&!i){if(e&&!Xe(e))for(const s in e)n[s]==null&&ch(r,s,"");for(const s in n)ch(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const Hg=/\s*!important$/;function ch(t,e,n){if(we(n))n.forEach(r=>ch(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=QT(t,e);Hg.test(n)?t.setProperty(As(r),n.replace(Hg,""),"important"):t[r]=n}}const Vg=["Webkit","Moz","ms"],of={};function QT(t,e){const n=of[e];if(n)return n;let r=Gn(e);if(r!=="filter"&&r in t)return of[e]=r;r=gu(r);for(let i=0;i<Vg.length;i++){const s=Vg[i]+r;if(s in t)return of[e]=s}return e}const zg="http://www.w3.org/1999/xlink";function YT(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(zg,e.slice(6,e.length)):t.setAttributeNS(zg,e,n);else{const s=Zw(e);n==null||s&&!wy(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function XT(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,c=n??"";u!==c&&(t.value=c),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=wy(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Rr(t,e,n,r){t.addEventListener(e,n,r)}function JT(t,e,n,r){t.removeEventListener(e,n,r)}function ZT(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=eA(e);if(r){const u=s[e]=rA(r,i);Rr(t,a,u,l)}else o&&(JT(t,a,o,l),s[e]=void 0)}}const Kg=/(?:Once|Passive|Capture)$/;function eA(t){let e;if(Kg.test(t)){e={};let r;for(;r=t.match(Kg);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):As(t.slice(2)),e]}let af=0;const tA=Promise.resolve(),nA=()=>af||(tA.then(()=>af=0),af=Date.now());function rA(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;gn(iA(r,n.value),e,5,[r])};return n.value=t,n.attached=nA(),n}function iA(t,e){if(we(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Gg=/^on[a-z]/,sA=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?GT(t,r,i):e==="style"?WT(t,n,r):hu(e)?od(e)||ZT(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):oA(t,e,r,i))?XT(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),YT(t,e,r,i))};function oA(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Gg.test(e)&&Ne(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Gg.test(e)&&Xe(n)?!1:e in t}const Ir="transition",Gs="animation",jo=(t,{slots:e})=>ku(tT,aA(t),e);jo.displayName="Transition";const h0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};jo.props=it({},Gy,h0);const oi=(t,e=[])=>{we(t)?t.forEach(n=>n(...e)):t&&t(...e)},Wg=t=>t?we(t)?t.some(e=>e.length>1):t.length>1:!1;function aA(t){const e={};for(const A in t)A in h0||(e[A]=t[A]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=lA(i),g=p&&p[0],_=p&&p[1],{onBeforeEnter:m,onEnter:v,onEnterCancelled:b,onLeave:y,onLeaveCancelled:E,onBeforeAppear:k=m,onAppear:S=v,onAppearCancelled:I=b}=e,R=(A,C,D)=>{ai(A,C?c:a),ai(A,C?u:o),D&&D()},O=(A,C)=>{A._isLeaving=!1,ai(A,h),ai(A,d),ai(A,f),C&&C()},T=A=>(C,D)=>{const q=A?S:v,Q=()=>R(C,A,D);oi(q,[C,Q]),Qg(()=>{ai(C,A?l:s),Sr(C,A?c:a),Wg(q)||Yg(C,r,g,Q)})};return it(e,{onBeforeEnter(A){oi(m,[A]),Sr(A,s),Sr(A,o)},onBeforeAppear(A){oi(k,[A]),Sr(A,l),Sr(A,u)},onEnter:T(!1),onAppear:T(!0),onLeave(A,C){A._isLeaving=!0;const D=()=>O(A,C);Sr(A,h),fA(),Sr(A,f),Qg(()=>{A._isLeaving&&(ai(A,h),Sr(A,d),Wg(y)||Yg(A,r,_,D))}),oi(y,[A,D])},onEnterCancelled(A){R(A,!1),oi(b,[A])},onAppearCancelled(A){R(A,!0),oi(I,[A])},onLeaveCancelled(A){O(A),oi(E,[A])}})}function lA(t){if(t==null)return null;if(Ve(t))return[lf(t.enter),lf(t.leave)];{const e=lf(t);return[e,e]}}function lf(t){return Gw(t)}function Sr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function ai(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Qg(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let uA=0;function Yg(t,e,n,r){const i=t._endId=++uA,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=cA(t,e);if(!o)return r();const u=o+"end";let c=0;const h=()=>{t.removeEventListener(u,f),s()},f=d=>{d.target===t&&++c>=l&&h()};setTimeout(()=>{c<l&&h()},a+1),t.addEventListener(u,f)}function cA(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),i=r(`${Ir}Delay`),s=r(`${Ir}Duration`),o=Xg(i,s),a=r(`${Gs}Delay`),l=r(`${Gs}Duration`),u=Xg(a,l);let c=null,h=0,f=0;e===Ir?o>0&&(c=Ir,h=o,f=s.length):e===Gs?u>0&&(c=Gs,h=u,f=l.length):(h=Math.max(o,u),c=h>0?o>u?Ir:Gs:null,f=c?c===Ir?s.length:l.length:0);const d=c===Ir&&/\b(transform|all)(,|$)/.test(r(`${Ir}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:d}}function Xg(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Jg(n)+Jg(t[r])))}function Jg(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function fA(){return document.body.offsetHeight}const fs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return we(e)?n=>yl(e,n):e};function hA(t){t.target.composing=!0}function Zg(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const xM={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=fs(i);const s=r||i.props&&i.props.type==="number";Rr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Nl(a)),t._assign(a)}),n&&Rr(t,"change",()=>{t.value=t.value.trim()}),e||(Rr(t,"compositionstart",hA),Rr(t,"compositionend",Zg),Rr(t,"change",Zg))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=fs(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&Nl(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},DM={created(t,{value:e},n){t.checked=as(e,n.props.value),t._assign=fs(n),Rr(t,"change",()=>{t._assign(Bo(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=fs(r),e!==n&&(t.checked=as(e,r.props.value))}},LM={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=du(e);Rr(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Nl(Bo(o)):Bo(o));t._assign(t.multiple?i?new Set(s):s:s[0])}),t._assign=fs(r)},mounted(t,{value:e}){em(t,e)},beforeUpdate(t,e,n){t._assign=fs(n)},updated(t,{value:e}){em(t,e)}};function em(t,e){const n=t.multiple;if(!(n&&!we(e)&&!du(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],o=Bo(s);if(n)we(e)?s.selected=tE(e,o)>-1:s.selected=e.has(o);else if(as(Bo(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Bo(t){return"_value"in t?t._value:t.value}const dA=it({patchProp:sA},KT);let tm;function pA(){return tm||(tm=IT(dA))}const gA=(...t)=>{const e=pA().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=mA(r);if(!i)return;const s=e._component;!Ne(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function mA(t){return Xe(t)?document.querySelector(t):t}const d0=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},vA={},yA={class:"loader"},_A=us("span",null,[us("i",{class:"fa-solid fa-spinner"})],-1),bA=[_A];function wA(t,e){return cr(),mo("div",yA,bA)}const EA=d0(vA,[["render",wA]]),TA=""+new URL("loka.dev-light-db9eaf19.png",import.meta.url).href,AA=""+new URL("emt-a5eecabf.png",import.meta.url).href;function jl(t){return Ay()?(iE(t),!0):!1}function p0(t){let e=!1,n;const r=nE(!0);return(...i)=>(e||(n=r.run(()=>t(...i)),e=!0),n)}function g0(t){return typeof t=="function"?t():Xt(t)}const fh=typeof window<"u",nm=()=>+Date.now();function IA(t,e=1e3,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n;let s=null;const o=ht(!1);function a(){s&&(clearInterval(s),s=null)}function l(){o.value=!1,a()}function u(){const c=g0(e);c<=0||(o.value=!0,i&&t(),a(),s=setInterval(t,c))}if(r&&fh&&u(),bt(e)||typeof e=="function"){const c=Sn(e,()=>{o.value&&fh&&u()});jl(c)}return jl(l),{isActive:o,pause:l,resume:u}}function vo(t){var e;const n=g0(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Rd=fh?window:void 0;function SA(){const t=ht(!1);return Su()&&Eu(()=>{t.value=!0}),t}function OA(t){const e=SA();return qt(()=>(e.value,!!t()))}function kA(t,e={}){const{immediate:n=!0,window:r=Rd}=e,i=ht(!1);let s=0,o=null;function a(c){if(!i.value||!r)return;const h=c-s;t({delta:h,timestamp:c}),s=c,o=r.requestAnimationFrame(a)}function l(){!i.value&&r&&(i.value=!0,o=r.requestAnimationFrame(a))}function u(){i.value=!1,o!=null&&r&&(r.cancelAnimationFrame(o),o=null)}return n&&l(),jl(u),{isActive:md(i),pause:u,resume:l}}var rm=Object.getOwnPropertySymbols,CA=Object.prototype.hasOwnProperty,NA=Object.prototype.propertyIsEnumerable,RA=(t,e)=>{var n={};for(var r in t)CA.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&rm)for(var r of rm(t))e.indexOf(r)<0&&NA.call(t,r)&&(n[r]=t[r]);return n};function PA(t,e,n={}){const r=n,{window:i=Rd}=r,s=RA(r,["window"]);let o;const a=OA(()=>i&&"ResizeObserver"in i),l=()=>{o&&(o.disconnect(),o=void 0)},u=qt(()=>Array.isArray(t)?t.map(f=>vo(f)):[vo(t)]),c=Sn(u,f=>{if(l(),a.value&&i){o=new ResizeObserver(e);for(const d of f)d&&o.observe(d,s)}},{immediate:!0,flush:"post",deep:!0}),h=()=>{l(),c()};return jl(h),{isSupported:a,stop:h}}function MM(t,e={width:0,height:0},n={}){const{window:r=Rd,box:i="content-box"}=n,s=qt(()=>{var l,u;return(u=(l=vo(t))==null?void 0:l.namespaceURI)==null?void 0:u.includes("svg")}),o=ht(e.width),a=ht(e.height);return PA(t,([l])=>{const u=i==="border-box"?l.borderBoxSize:i==="content-box"?l.contentBoxSize:l.devicePixelContentBoxSize;if(r&&s.value){const c=vo(t);if(c){const h=r.getComputedStyle(c);o.value=parseFloat(h.width),a.value=parseFloat(h.height)}}else if(u){const c=Array.isArray(u)?u:[u];o.value=c.reduce((h,{inlineSize:f})=>h+f,0),a.value=c.reduce((h,{blockSize:f})=>h+f,0)}else o.value=l.contentRect.width,a.value=l.contentRect.height},n),Sn(()=>vo(t),l=>{o.value=l?e.width:0,a.value=l?e.height:0}),{width:o,height:a}}var xA=Object.defineProperty,im=Object.getOwnPropertySymbols,DA=Object.prototype.hasOwnProperty,LA=Object.prototype.propertyIsEnumerable,sm=(t,e,n)=>e in t?xA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MA=(t,e)=>{for(var n in e||(e={}))DA.call(e,n)&&sm(t,n,e[n]);if(im)for(var n of im(e))LA.call(e,n)&&sm(t,n,e[n]);return t};function sr(t={}){const{controls:e=!1,offset:n=0,immediate:r=!0,interval:i="requestAnimationFrame",callback:s}=t,o=ht(nm()+n),a=()=>o.value=nm()+n,l=s?()=>{a(),s(o.value)}:a,u=i==="requestAnimationFrame"?kA(l,{immediate:r}):IA(l,i,{immediate:r});return e?MA({timestamp:o},u):o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new BA;const f=s<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const p=u<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FA=function(t){const e=m0(t);return v0.encodeByteArray(e,!0)},Bl=function(t){return FA(t).replace(/\./g,"")},y0=function(t){try{return v0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA=()=>UA().__FIREBASE_DEFAULTS__,$A=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&y0(t[1]);return e&&JSON.parse(e)},Cu=()=>{try{return qA()||$A()||HA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_0=t=>{var e,n;return(n=(e=Cu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},VA=t=>{const e=_0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},b0=()=>{var t;return(t=Cu())===null||t===void 0?void 0:t.config},w0=t=>{var e;return(e=Cu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Bl(JSON.stringify(n)),Bl(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function jM(){var t;const e=(t=Cu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QA(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T0(){try{return typeof indexedDB=="object"}catch{return!1}}function A0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function YA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="FirebaseError";class Rn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XA,Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ri.prototype.create)}}class Ri{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?JA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rn(i,a,r)}}function JA(t,e){return t.replace(ZA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZA=/\{\$([^}]+)}/g;function eI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(om(s)&&om(o)){if(!Fo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function om(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tI(t,e){const n=new nI(t,e);return n.subscribe.bind(n)}class nI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rI(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=uf),i.error===void 0&&(i.error=uf),i.complete===void 0&&(i.complete=uf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function uf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=1e3,sI=2,oI=4*60*60*1e3,aI=.5;function am(t,e=iI,n=sI){const r=e*Math.pow(n,t),i=Math.round(aI*r*(Math.random()-.5)*2);return Math.min(oI,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class On{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cI(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(t){return t===ci?void 0:t}function cI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const hI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},dI=Me.INFO,pI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},gI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=pI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nu{constructor(e){this.name=e,this._logLevel=dI,this._logHandler=gI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const mI=(t,e)=>e.some(n=>t instanceof n);let lm,um;function vI(){return lm||(lm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yI(){return um||(um=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I0=new WeakMap,hh=new WeakMap,S0=new WeakMap,cf=new WeakMap,Pd=new WeakMap;function _I(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Br(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&I0.set(n,t)}).catch(()=>{}),Pd.set(e,t),e}function bI(t){if(hh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hh.set(t,e)}let dh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||S0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wI(t){dh=t(dh)}function EI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ff(this),e,...n);return S0.set(r,e.sort?e.sort():[e]),Br(r)}:yI().includes(t)?function(...e){return t.apply(ff(this),e),Br(I0.get(this))}:function(...e){return Br(t.apply(ff(this),e))}}function TI(t){return typeof t=="function"?EI(t):(t instanceof IDBTransaction&&bI(t),mI(t,vI())?new Proxy(t,dh):t)}function Br(t){if(t instanceof IDBRequest)return _I(t);if(cf.has(t))return cf.get(t);const e=TI(t);return e!==t&&(cf.set(t,e),Pd.set(e,t)),e}const ff=t=>Pd.get(t);function AI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Br(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Br(o.result),l.oldVersion,l.newVersion,Br(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const II=["get","getKey","getAll","getAllKeys","count"],SI=["put","add","delete","clear"],hf=new Map;function cm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hf.get(e))return hf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=SI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||II.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return hf.set(e,s),s}wI(t=>({...t,get:(e,n,r)=>cm(e,n)||t.get(e,n,r),has:(e,n)=>!!cm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ph="@firebase/app",fm="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Nu("@firebase/app"),CI="@firebase/app-compat",NI="@firebase/analytics-compat",RI="@firebase/analytics",PI="@firebase/app-check-compat",xI="@firebase/app-check",DI="@firebase/auth",LI="@firebase/auth-compat",MI="@firebase/database",jI="@firebase/database-compat",BI="@firebase/functions",FI="@firebase/functions-compat",UI="@firebase/installations",qI="@firebase/installations-compat",$I="@firebase/messaging",HI="@firebase/messaging-compat",VI="@firebase/performance",zI="@firebase/performance-compat",KI="@firebase/remote-config",GI="@firebase/remote-config-compat",WI="@firebase/storage",QI="@firebase/storage-compat",YI="@firebase/firestore",XI="@firebase/firestore-compat",JI="firebase",ZI="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="[DEFAULT]",eS={[ph]:"fire-core",[CI]:"fire-core-compat",[RI]:"fire-analytics",[NI]:"fire-analytics-compat",[xI]:"fire-app-check",[PI]:"fire-app-check-compat",[DI]:"fire-auth",[LI]:"fire-auth-compat",[MI]:"fire-rtdb",[jI]:"fire-rtdb-compat",[BI]:"fire-fn",[FI]:"fire-fn-compat",[UI]:"fire-iid",[qI]:"fire-iid-compat",[$I]:"fire-fcm",[HI]:"fire-fcm-compat",[VI]:"fire-perf",[zI]:"fire-perf-compat",[KI]:"fire-rc",[GI]:"fire-rc-compat",[WI]:"fire-gcs",[QI]:"fire-gcs-compat",[YI]:"fire-fst",[XI]:"fire-fst-compat","fire-js":"fire-js",[JI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,mh=new Map;function tS(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wn(t){const e=t.name;if(mh.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;mh.set(e,t);for(const n of Fl.values())tS(n,t);return!0}function Pi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Fr=new Ri("app","Firebase",nS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=ZI;function O0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=b0()),!n)throw Fr.create("no-options");const s=Fl.get(i);if(s){if(Fo(n,s.options)&&Fo(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}const o=new fI(i);for(const l of mh.values())o.addComponent(l);const a=new rS(n,r,o);return Fl.set(i,a),a}function xd(t=gh){const e=Fl.get(t);if(!e&&t===gh&&b0())return O0();if(!e)throw Fr.create("no-app",{appName:t});return e}function vn(t,e,n){var r;let i=(r=eS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(a.join(" "));return}Wn(new On(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebase-heartbeat-database",sS=1,Uo="firebase-heartbeat-store";let df=null;function k0(){return df||(df=AI(iS,sS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Uo)}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),df}async function oS(t){try{return await(await k0()).transaction(Uo).objectStore(Uo).get(C0(t))}catch(e){if(e instanceof Rn)Ai.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function hm(t,e){try{const r=(await k0()).transaction(Uo,"readwrite");await r.objectStore(Uo).put(e,C0(t)),await r.done}catch(n){if(n instanceof Rn)Ai.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(r.message)}}}function C0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=1024,lS=30*24*60*60*1e3;class uS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=lS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dm(),{heartbeatsToSend:n,unsentEntries:r}=cS(this._heartbeatsCache.heartbeats),i=Bl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function dm(){return new Date().toISOString().substring(0,10)}function cS(t,e=aS){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pm(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T0()?A0().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await oS(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pm(t){return Bl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(t){Wn(new On("platform-logger",e=>new OI(e),"PRIVATE")),Wn(new On("heartbeat",e=>new uS(e),"PRIVATE")),vn(ph,fm,t),vn(ph,fm,"esm2017"),vn("fire-js","")}hS("");var dS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pe,Dd=Dd||{},Ae=dS||self;function Ru(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ua(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function pS(t){return Object.prototype.hasOwnProperty.call(t,pf)&&t[pf]||(t[pf]=++gS)}var pf="closure_uid_"+(1e9*Math.random()>>>0),gS=0;function mS(t,e,n){return t.call.apply(t.bind,arguments)}function vS(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Pt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pt=mS:Pt=vS,Pt.apply(null,arguments)}function tl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gr(){this.s=this.s,this.o=this.o}var yS=0;Gr.prototype.s=!1;Gr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),yS!=0)&&pS(this)};Gr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const N0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ld(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function gm(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ru(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xt.prototype.h=function(){this.defaultPrevented=!0};var _S=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ae.addEventListener("test",()=>{},e),Ae.removeEventListener("test",()=>{},e)}catch{}return t}();function qo(t){return/^[\s\xa0]*$/.test(t)}function Pu(){var t=Ae.navigator;return t&&(t=t.userAgent)?t:""}function Fn(t){return Pu().indexOf(t)!=-1}function Md(t){return Md[" "](t),t}Md[" "]=function(){};function bS(t,e){var n=hO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var wS=Fn("Opera"),hs=Fn("Trident")||Fn("MSIE"),R0=Fn("Edge"),vh=R0||hs,P0=Fn("Gecko")&&!(Pu().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge"))&&!(Fn("Trident")||Fn("MSIE"))&&!Fn("Edge"),ES=Pu().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge");function x0(){var t=Ae.document;return t?t.documentMode:void 0}var yh;e:{var gf="",mf=function(){var t=Pu();if(P0)return/rv:([^\);]+)(\)|;)/.exec(t);if(R0)return/Edge\/([\d\.]+)/.exec(t);if(hs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ES)return/WebKit\/(\S+)/.exec(t);if(wS)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(mf&&(gf=mf?mf[1]:""),hs){var vf=x0();if(vf!=null&&vf>parseFloat(gf)){yh=String(vf);break e}}yh=gf}var _h;if(Ae.document&&hs){var mm=x0();_h=mm||parseInt(yh,10)||void 0}else _h=void 0;var TS=_h;function $o(t,e){if(xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(P0){e:{try{Md(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:AS[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$o.$.h.call(this)}}pt($o,xt);var AS={2:"touch",3:"pen",4:"mouse"};$o.prototype.h=function(){$o.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ca="closure_listenable_"+(1e6*Math.random()|0),IS=0;function SS(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++IS,this.fa=this.ia=!1}function xu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jd(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function OS(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function D0(t){const e={};for(const n in t)e[n]=t[n];return e}const vm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<vm.length;s++)n=vm[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Du(t){this.src=t,this.g={},this.h=0}Du.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=wh(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new SS(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function bh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=N0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function wh(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Bd="closure_lm_"+(1e6*Math.random()|0),yf={};function M0(t,e,n,r,i){if(r&&r.once)return B0(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)M0(t,e[s],n,r,i);return null}return n=qd(n),t&&t[ca]?t.O(e,n,ua(r)?!!r.capture:!!r,i):j0(t,e,n,!1,r,i)}function j0(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ua(i)?!!i.capture:!!i,a=Ud(t);if(a||(t[Bd]=a=new Du(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=kS(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)_S||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(U0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kS(){function t(n){return e.call(t.src,t.listener,n)}const e=CS;return t}function B0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)B0(t,e[s],n,r,i);return null}return n=qd(n),t&&t[ca]?t.P(e,n,ua(r)?!!r.capture:!!r,i):j0(t,e,n,!0,r,i)}function F0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)F0(t,e[s],n,r,i);else r=ua(r)?!!r.capture:!!r,n=qd(n),t&&t[ca]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=wh(s,n,r,i),-1<n&&(xu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ud(t))&&(e=t.g[e.toString()],t=-1,e&&(t=wh(e,n,r,i)),(n=-1<t?e[t]:null)&&Fd(n))}function Fd(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ca])bh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(U0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ud(e))?(bh(n,t),n.h==0&&(n.src=null,e[Bd]=null)):xu(t)}}}function U0(t){return t in yf?yf[t]:yf[t]="on"+t}function CS(t,e){if(t.fa)t=!0;else{e=new $o(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Fd(t),t=n.call(r,e)}return t}function Ud(t){return t=t[Bd],t instanceof Du?t:null}var _f="__closure_events_fn_"+(1e9*Math.random()>>>0);function qd(t){return typeof t=="function"?t:(t[_f]||(t[_f]=function(e){return t.handleEvent(e)}),t[_f])}function dt(){Gr.call(this),this.i=new Du(this),this.S=this,this.J=null}pt(dt,Gr);dt.prototype[ca]=!0;dt.prototype.removeEventListener=function(t,e,n,r){F0(this,t,e,n,r)};function Et(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new xt(e,t);else if(e instanceof xt)e.target=e.target||t;else{var i=e;e=new xt(r,t),L0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=nl(o,r,!0,e)&&i}if(o=e.g=t,i=nl(o,r,!0,e)&&i,i=nl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=nl(o,r,!1,e)&&i}dt.prototype.N=function(){if(dt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xu(n[r]);delete t.g[e],t.h--}}this.J=null};dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};dt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function nl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&bh(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var $d=Ae.JSON.stringify;class NS{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function RS(){var t=Hd;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class PS{constructor(){this.h=this.g=null}add(e,n){const r=q0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var q0=new NS(()=>new xS,t=>t.reset());class xS{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function DS(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function LS(t){Ae.setTimeout(()=>{throw t},0)}let Ho,Vo=!1,Hd=new PS,$0=()=>{const t=Ae.Promise.resolve(void 0);Ho=()=>{t.then(MS)}};var MS=()=>{for(var t;t=RS();){try{t.h.call(t.g)}catch(n){LS(n)}var e=q0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Vo=!1};function Lu(t,e){dt.call(this),this.h=t||1,this.g=e||Ae,this.j=Pt(this.qb,this),this.l=Date.now()}pt(Lu,dt);pe=Lu.prototype;pe.ga=!1;pe.T=null;pe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Et(this,"tick"),this.ga&&(Vd(this),this.start()))}};pe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vd(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}pe.N=function(){Lu.$.N.call(this),Vd(this),delete this.g};function zd(t,e,n){if(typeof t=="function")n&&(t=Pt(t,n));else if(t&&typeof t.handleEvent=="function")t=Pt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ae.setTimeout(t,e||0)}function H0(t){t.g=zd(()=>{t.g=null,t.i&&(t.i=!1,H0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class jS extends Gr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:H0(this)}N(){super.N(),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zo(t){Gr.call(this),this.h=t,this.g={}}pt(zo,Gr);var ym=[];function V0(t,e,n,r){Array.isArray(n)||(n&&(ym[0]=n.toString()),n=ym);for(var i=0;i<n.length;i++){var s=M0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function z0(t){jd(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fd(e)},t),t.g={}}zo.prototype.N=function(){zo.$.N.call(this),z0(this)};zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mu(){this.g=!0}Mu.prototype.Ea=function(){this.g=!1};function BS(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function FS(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Yi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+qS(t,n)+(r?" "+r:"")})}function US(t,e){t.info(function(){return"TIMEOUT: "+e})}Mu.prototype.info=function(){};function qS(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return $d(n)}catch{return e}}var xi={},_m=null;function ju(){return _m=_m||new dt}xi.Ta="serverreachability";function K0(t){xt.call(this,xi.Ta,t)}pt(K0,xt);function Ko(t){const e=ju();Et(e,new K0(e))}xi.STAT_EVENT="statevent";function G0(t,e){xt.call(this,xi.STAT_EVENT,t),this.stat=e}pt(G0,xt);function $t(t){const e=ju();Et(e,new G0(e,t))}xi.Ua="timingevent";function W0(t,e){xt.call(this,xi.Ua,t),this.size=e}pt(W0,xt);function fa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){t()},e)}var Bu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Q0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kd(){}Kd.prototype.h=null;function bm(t){return t.h||(t.h=t.i())}function Y0(){}var ha={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gd(){xt.call(this,"d")}pt(Gd,xt);function Wd(){xt.call(this,"c")}pt(Wd,xt);var Eh;function Fu(){}pt(Fu,Kd);Fu.prototype.g=function(){return new XMLHttpRequest};Fu.prototype.i=function(){return{}};Eh=new Fu;function da(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new zo(this),this.P=$S,t=vh?125:void 0,this.V=new Lu(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new X0}function X0(){this.i=null,this.g="",this.h=!1}var $S=45e3,Th={},Ul={};pe=da.prototype;pe.setTimeout=function(t){this.P=t};function Ah(t,e,n){t.L=1,t.v=qu(dr(e)),t.s=n,t.S=!0,J0(t,null)}function J0(t,e){t.G=Date.now(),pa(t),t.A=dr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),o_(n.i,"t",r),t.C=0,n=t.l.J,t.h=new X0,t.g=O_(t.l,n?e:null,!t.s),0<t.O&&(t.M=new jS(Pt(t.Pa,t,t.g),t.O)),V0(t.U,t.g,"readystatechange",t.nb),e=t.I?D0(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ko(),BS(t.j,t.u,t.A,t.m,t.W,t.s)}pe.nb=function(t){t=t.target;const e=this.M;e&&Un(t)==3?e.l():this.Pa(t)};pe.Pa=function(t){try{if(t==this.g)e:{const c=Un(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||vh||this.g&&(this.h.h||this.g.ja()||Am(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Ko(3):Ko(2)),Uu(this);var n=this.g.da();this.ca=n;t:if(Z0(this)){var r=Am(this.g);t="";var i=r.length,s=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),yo(this);var o="";break t}this.h.i=new Ae.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,FS(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qo(a)){var u=a;break t}}u=null}if(n=u)Yi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ih(this,n);else{this.i=!1,this.o=3,$t(12),gi(this),yo(this);break e}}this.S?(e_(this,c,o),vh&&this.i&&c==3&&(V0(this.U,this.V,"tick",this.mb),this.V.start())):(Yi(this.j,this.m,o,null),Ih(this,o)),c==4&&gi(this),this.i&&!this.J&&(c==4?T_(this.l,this):(this.i=!1,pa(this)))}else uO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,$t(12)):(this.o=0,$t(13)),gi(this),yo(this)}}}catch{}finally{}};function Z0(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function e_(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=HS(t,n),i==Ul){e==4&&(t.o=4,$t(14),r=!1),Yi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Th){t.o=4,$t(15),Yi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Yi(t.j,t.m,i,null),Ih(t,i);Z0(t)&&i!=Ul&&i!=Th&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,$t(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ep(e),e.M=!0,$t(11))):(Yi(t.j,t.m,n,"[Invalid Chunked Response]"),gi(t),yo(t))}pe.mb=function(){if(this.g){var t=Un(this.g),e=this.g.ja();this.C<e.length&&(Uu(this),e_(this,t,e),this.i&&t!=4&&pa(this))}};function HS(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ul:(n=Number(e.substring(n,r)),isNaN(n)?Th:(r+=1,r+n>e.length?Ul:(e=e.slice(r,r+n),t.C=r+n,e)))}pe.cancel=function(){this.J=!0,gi(this)};function pa(t){t.Y=Date.now()+t.P,t_(t,t.P)}function t_(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=fa(Pt(t.lb,t),e)}function Uu(t){t.B&&(Ae.clearTimeout(t.B),t.B=null)}pe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(US(this.j,this.A),this.L!=2&&(Ko(),$t(17)),gi(this),this.o=2,yo(this)):t_(this,this.Y-t)};function yo(t){t.l.H==0||t.J||T_(t.l,t)}function gi(t){Uu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Vd(t.V),z0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ih(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Sh(n.i,t))){if(!t.K&&Sh(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Hl(n),Vu(n);else break e;Zd(n),$t(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=fa(Pt(n.ib,n),6e3));if(1>=u_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else mi(n,11)}else if((t.K||n.g==t)&&Hl(n),!qo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Qd(s,s.h),s.h=null))}if(r.F){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ke(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=S_(r,r.J?r.pa:null,r.Y),o.K){c_(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Uu(a),pa(a)),r.g=o}else w_(r);0<n.j.length&&zu(n)}else u[0]!="stop"&&u[0]!="close"||mi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?mi(n,7):Jd(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ko(4)}catch{}}function VS(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ru(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function zS(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ru(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function n_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ru(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=zS(t),r=VS(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var r_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KS(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ei(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ei){this.h=t.h,ql(this,t.j),this.s=t.s,this.g=t.g,$l(this,t.m),this.l=t.l;var e=t.i,n=new Go;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wm(this,n),this.o=t.o}else t&&(e=String(t).match(r_))?(this.h=!1,ql(this,e[1]||"",!0),this.s=ao(e[2]||""),this.g=ao(e[3]||"",!0),$l(this,e[4]),this.l=ao(e[5]||"",!0),wm(this,e[6]||"",!0),this.o=ao(e[7]||"")):(this.h=!1,this.i=new Go(null,this.h))}Ei.prototype.toString=function(){var t=[],e=this.j;e&&t.push(lo(e,Em,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(lo(e,Em,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(lo(n,n.charAt(0)=="/"?QS:WS,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",lo(n,XS)),t.join("")};function dr(t){return new Ei(t)}function ql(t,e,n){t.j=n?ao(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $l(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wm(t,e,n){e instanceof Go?(t.i=e,JS(t.i,t.h)):(n||(e=lo(e,YS)),t.i=new Go(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function qu(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ao(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,GS),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function GS(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Em=/[#\/\?@]/g,WS=/[#\?:]/g,QS=/[#\?]/g,YS=/[#\?@]/g,XS=/#/g;function Go(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Wr(t){t.g||(t.g=new Map,t.h=0,t.i&&KS(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}pe=Go.prototype;pe.add=function(t,e){Wr(this),this.i=null,t=ks(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function i_(t,e){Wr(t),e=ks(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function s_(t,e){return Wr(t),e=ks(t,e),t.g.has(e)}pe.forEach=function(t,e){Wr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};pe.ta=function(){Wr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};pe.Z=function(t){Wr(this);let e=[];if(typeof t=="string")s_(this,t)&&(e=e.concat(this.g.get(ks(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};pe.set=function(t,e){return Wr(this),this.i=null,t=ks(this,t),s_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};pe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function o_(t,e,n){i_(t,e),0<n.length&&(t.i=null,t.g.set(ks(t,e),Ld(n)),t.h+=n.length)}pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ks(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function JS(t,e){e&&!t.j&&(Wr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(i_(this,r),o_(this,i,n))},t)),t.j=e}var ZS=class{constructor(t,e){this.g=t,this.map=e}};function a_(t){this.l=t||eO,Ae.PerformanceNavigationTiming?(t=Ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ae.g&&Ae.g.Ka&&Ae.g.Ka()&&Ae.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eO=10;function l_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function u_(t){return t.h?1:t.g?t.g.size:0}function Sh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qd(t,e){t.g?t.g.add(e):t.h=e}function c_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}a_.prototype.cancel=function(){if(this.i=f_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function f_(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ld(t.i)}var tO=class{stringify(t){return Ae.JSON.stringify(t,void 0)}parse(t){return Ae.JSON.parse(t,void 0)}};function nO(){this.g=new tO}function rO(t,e,n){const r=n||"";try{n_(t,function(i,s){let o=i;ua(i)&&(o=$d(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function iO(t,e){const n=new Mu;if(Ae.Image){const r=new Image;r.onload=tl(rl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tl(rl,n,r,"TestLoadImage: error",!1,e),r.onabort=tl(rl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tl(rl,n,r,"TestLoadImage: timeout",!1,e),Ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function rl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ga(t){this.l=t.fc||null,this.j=t.ob||!1}pt(ga,Kd);ga.prototype.g=function(){return new $u(this.l,this.j)};ga.prototype.i=function(t){return function(){return t}}({});function $u(t,e){dt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Yd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pt($u,dt);var Yd=0;pe=$u.prototype;pe.open=function(t,e){if(this.readyState!=Yd)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wo(this)};pe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=Yd};pe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;h_(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function h_(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}pe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ma(this):Wo(this),this.readyState==3&&h_(this)}};pe.Za=function(t){this.g&&(this.response=this.responseText=t,ma(this))};pe.Ya=function(t){this.g&&(this.response=t,ma(this))};pe.ka=function(){this.g&&ma(this)};function ma(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wo(t)}pe.setRequestHeader=function(t,e){this.v.append(t,e)};pe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};pe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Wo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty($u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var sO=Ae.JSON.parse;function Ye(t){dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=d_,this.L=this.M=!1}pt(Ye,dt);var d_="",oO=/^https?$/i,aO=["POST","PUT"];pe=Ye.prototype;pe.Oa=function(t){this.M=t};pe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Eh.g(),this.C=this.u?bm(this.u):bm(Eh),this.g.onreadystatechange=Pt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Tm(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ae.FormData&&t instanceof Ae.FormData,!(0<=N0(aO,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{m_(this),0<this.B&&((this.L=lO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.ua,this)):this.A=zd(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Tm(this,s)}};function lO(t){return hs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}pe.ua=function(){typeof Dd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function Tm(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,p_(t),Hu(t)}function p_(t){t.F||(t.F=!0,Et(t,"complete"),Et(t,"error"))}pe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Hu(this))};pe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hu(this,!0)),Ye.$.N.call(this)};pe.La=function(){this.s||(this.G||this.v||this.l?g_(this):this.kb())};pe.kb=function(){g_(this)};function g_(t){if(t.h&&typeof Dd<"u"&&(!t.C[1]||Un(t)!=4||t.da()!=2)){if(t.v&&Un(t)==4)zd(t.La,0,t);else if(Et(t,"readystatechange"),Un(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(r_)[1]||null;!i&&Ae.self&&Ae.self.location&&(i=Ae.self.location.protocol.slice(0,-1)),r=!oO.test(i?i.toLowerCase():"")}n=r}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var s=2<Un(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",p_(t)}}finally{Hu(t)}}}}function Hu(t,e){if(t.g){m_(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=r}catch{}}}function m_(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ae.clearTimeout(t.A),t.A=null)}pe.isActive=function(){return!!this.g};function Un(t){return t.g?t.g.readyState:0}pe.da=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}};pe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};pe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),sO(e)}};function Am(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case d_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function uO(t){const e={};t=(t.g&&2<=Un(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(qo(t[r]))continue;var n=DS(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}OS(e,function(r){return r.join(", ")})}pe.Ia=function(){return this.m};pe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function v_(t){let e="";return jd(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xd(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=v_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function Ws(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function y_(t){this.Ga=0,this.j=[],this.l=new Mu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ws("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ws("baseRetryDelayMs",5e3,t),this.hb=Ws("retryDelaySeedMs",1e4,t),this.eb=Ws("forwardChannelMaxRetries",2,t),this.xa=Ws("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new a_(t&&t.concurrentRequestLimit),this.Ja=new nO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}pe=y_.prototype;pe.ra=8;pe.H=1;function Jd(t){if(__(t),t.H==3){var e=t.W++,n=dr(t.I);if(Ke(n,"SID",t.K),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),va(t,n),e=new da(t,t.l,e),e.L=2,e.v=qu(dr(n)),n=!1,Ae.navigator&&Ae.navigator.sendBeacon)try{n=Ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ae.Image&&(new Image().src=e.v,n=!0),n||(e.g=O_(e.l,null),e.g.ha(e.v)),e.G=Date.now(),pa(e)}I_(t)}function Vu(t){t.g&&(ep(t),t.g.cancel(),t.g=null)}function __(t){Vu(t),t.u&&(Ae.clearTimeout(t.u),t.u=null),Hl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ae.clearTimeout(t.m),t.m=null)}function zu(t){if(!l_(t.i)&&!t.m){t.m=!0;var e=t.Na;Ho||$0(),Vo||(Ho(),Vo=!0),Hd.add(e,t),t.C=0}}function cO(t,e){return u_(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=fa(Pt(t.Na,t,e),A_(t,t.C)),t.C++,!0)}pe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new da(this,this.l,t);let s=this.s;if(this.U&&(s?(s=D0(s),L0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=b_(this,i,e),n=dr(this.I),Ke(n,"RID",t),Ke(n,"CVER",22),this.F&&Ke(n,"X-HTTP-Session-Id",this.F),va(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(v_(s)))+"&"+e:this.o&&Xd(n,this.o,s)),Qd(this.i,i),this.bb&&Ke(n,"TYPE","init"),this.P?(Ke(n,"$req",e),Ke(n,"SID","null"),i.aa=!0,Ah(i,n,null)):Ah(i,n,e),this.H=2}}else this.H==3&&(t?Im(this,t):this.j.length==0||l_(this.i)||Im(this))};function Im(t,e){var n;e?n=e.m:n=t.W++;const r=dr(t.I);Ke(r,"SID",t.K),Ke(r,"RID",n),Ke(r,"AID",t.V),va(t,r),t.o&&t.s&&Xd(r,t.o,t.s),n=new da(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=b_(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Qd(t.i,n),Ah(n,r,e)}function va(t,e){t.na&&jd(t.na,function(n,r){Ke(e,r,n)}),t.h&&n_({},function(n,r){Ke(e,r,n)})}function b_(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Pt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{rO(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function w_(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ho||$0(),Vo||(Ho(),Vo=!0),Hd.add(e,t),t.A=0}}function Zd(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=fa(Pt(t.Ma,t),A_(t,t.A)),t.A++,!0)}pe.Ma=function(){if(this.u=null,E_(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=fa(Pt(this.jb,this),t)}};pe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$t(10),Vu(this),E_(this))};function ep(t){t.B!=null&&(Ae.clearTimeout(t.B),t.B=null)}function E_(t){t.g=new da(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=dr(t.wa);Ke(e,"RID","rpc"),Ke(e,"SID",t.K),Ke(e,"AID",t.V),Ke(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ke(e,"TO",t.qa),Ke(e,"TYPE","xmlhttp"),va(t,e),t.o&&t.s&&Xd(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=qu(dr(e)),n.s=null,n.S=!0,J0(n,t)}pe.ib=function(){this.v!=null&&(this.v=null,Vu(this),Zd(this),$t(19))};function Hl(t){t.v!=null&&(Ae.clearTimeout(t.v),t.v=null)}function T_(t,e){var n=null;if(t.g==e){Hl(t),ep(t),t.g=null;var r=2}else if(Sh(t.i,e))n=e.F,c_(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=ju(),Et(r,new W0(r,n)),zu(t)}else w_(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&cO(t,e)||r==2&&Zd(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:mi(t,5);break;case 4:mi(t,10);break;case 3:mi(t,6);break;default:mi(t,2)}}}function A_(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function mi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Pt(t.pb,t);n||(n=new Ei("//www.google.com/images/cleardot.gif"),Ae.location&&Ae.location.protocol=="http"||ql(n,"https"),qu(n)),iO(n.toString(),r)}else $t(2);t.H=0,t.h&&t.h.za(e),I_(t),__(t)}pe.pb=function(t){t?(this.l.info("Successfully pinged google.com"),$t(2)):(this.l.info("Failed to ping google.com"),$t(1))};function I_(t){if(t.H=0,t.ma=[],t.h){const e=f_(t.i);(e.length!=0||t.j.length!=0)&&(gm(t.ma,e),gm(t.ma,t.j),t.i.i.length=0,Ld(t.j),t.j.length=0),t.h.ya()}}function S_(t,e,n){var r=n instanceof Ei?dr(n):new Ei(n);if(r.g!="")e&&(r.g=e+"."+r.g),$l(r,r.m);else{var i=Ae.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ei(null);r&&ql(s,r),e&&(s.g=e),i&&$l(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ke(r,n,e),Ke(r,"VER",t.ra),va(t,r),r}function O_(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ye(new ga({ob:!0})):new Ye(t.va),e.Oa(t.J),e}pe.isActive=function(){return!!this.h&&this.h.isActive(this)};function k_(){}pe=k_.prototype;pe.Ba=function(){};pe.Aa=function(){};pe.za=function(){};pe.ya=function(){};pe.isActive=function(){return!0};pe.Va=function(){};function Vl(){if(hs&&!(10<=Number(TS)))throw Error("Environmental error: no available transport.")}Vl.prototype.g=function(t,e){return new ln(t,e)};function ln(t,e){dt.call(this),this.g=new y_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!qo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Cs(this)}pt(ln,dt);ln.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;$t(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=S_(t,null,t.Y),zu(t)};ln.prototype.close=function(){Jd(this.g)};ln.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$d(t),t=n);e.j.push(new ZS(e.fb++,t)),e.H==3&&zu(e)};ln.prototype.N=function(){this.g.h=null,delete this.j,Jd(this.g),delete this.g,ln.$.N.call(this)};function C_(t){Gd.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}pt(C_,Gd);function N_(){Wd.call(this),this.status=1}pt(N_,Wd);function Cs(t){this.g=t}pt(Cs,k_);Cs.prototype.Ba=function(){Et(this.g,"a")};Cs.prototype.Aa=function(t){Et(this.g,new C_(t))};Cs.prototype.za=function(t){Et(this.g,new N_)};Cs.prototype.ya=function(){Et(this.g,"b")};function fO(){this.blockSize=-1}function kn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}pt(kn,fO);kn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}kn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)bf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){bf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){bf(this,r),i=0;break}}this.h=i,this.i+=e};kn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function $e(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var hO={};function tp(t){return-128<=t&&128>t?bS(t,function(e){return new $e([e|0],0>e?-1:0)}):new $e([t|0],0>t?-1:0)}function qn(t){if(isNaN(t)||!isFinite(t))return ts;if(0>t)return _t(qn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Oh;return new $e(e,0)}function R_(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return _t(R_(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=qn(Math.pow(e,8)),r=ts,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=qn(Math.pow(e,s)),r=r.R(s).add(qn(o))):(r=r.R(n),r=r.add(qn(o)))}return r}var Oh=4294967296,ts=tp(0),kh=tp(1),Sm=tp(16777216);pe=$e.prototype;pe.ea=function(){if(pn(this))return-_t(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Oh+r)*e,e*=Oh}return t};pe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ar(this))return"0";if(pn(this))return"-"+_t(this).toString(t);for(var e=qn(Math.pow(t,6)),n=this,r="";;){var i=Kl(n,e).g;n=zl(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ar(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};pe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ar(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function pn(t){return t.h==-1}pe.X=function(t){return t=zl(this,t),pn(t)?-1:ar(t)?0:1};function _t(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new $e(n,~t.h).add(kh)}pe.abs=function(){return pn(this)?_t(this):this};pe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new $e(n,n[n.length-1]&-2147483648?-1:0)};function zl(t,e){return t.add(_t(e))}pe.R=function(t){if(ar(this)||ar(t))return ts;if(pn(this))return pn(t)?_t(this).R(_t(t)):_t(_t(this).R(t));if(pn(t))return _t(this.R(_t(t)));if(0>this.X(Sm)&&0>t.X(Sm))return qn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,il(n,2*r+2*i),n[2*r+2*i+1]+=s*l,il(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,il(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,il(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new $e(n,0)};function il(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Qs(t,e){this.g=t,this.h=e}function Kl(t,e){if(ar(e))throw Error("division by zero");if(ar(t))return new Qs(ts,ts);if(pn(t))return e=Kl(_t(t),e),new Qs(_t(e.g),_t(e.h));if(pn(e))return e=Kl(t,_t(e)),new Qs(_t(e.g),e.h);if(30<t.g.length){if(pn(t)||pn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=kh,r=e;0>=r.X(t);)n=Om(n),r=Om(r);var i=zi(n,1),s=zi(r,1);for(r=zi(r,2),n=zi(n,2);!ar(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=zi(r,1),n=zi(n,1)}return e=zl(t,i.R(e)),new Qs(i,e)}for(i=ts;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=qn(n),o=s.R(e);pn(o)||0<o.X(t);)n-=r,s=qn(n),o=s.R(e);ar(s)&&(s=kh),i=i.add(s),t=zl(t,o)}return new Qs(i,t)}pe.gb=function(t){return Kl(this,t).h};pe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new $e(n,this.h&t.h)};pe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new $e(n,this.h|t.h)};pe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new $e(n,this.h^t.h)};function Om(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new $e(n,t.h)}function zi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new $e(i,t.h)}Vl.prototype.createWebChannel=Vl.prototype.g;ln.prototype.send=ln.prototype.u;ln.prototype.open=ln.prototype.m;ln.prototype.close=ln.prototype.close;Bu.NO_ERROR=0;Bu.TIMEOUT=8;Bu.HTTP_ERROR=6;Q0.COMPLETE="complete";Y0.EventType=ha;ha.OPEN="a";ha.CLOSE="b";ha.ERROR="c";ha.MESSAGE="d";dt.prototype.listen=dt.prototype.O;Ye.prototype.listenOnce=Ye.prototype.P;Ye.prototype.getLastError=Ye.prototype.Sa;Ye.prototype.getLastErrorCode=Ye.prototype.Ia;Ye.prototype.getStatus=Ye.prototype.da;Ye.prototype.getResponseJson=Ye.prototype.Wa;Ye.prototype.getResponseText=Ye.prototype.ja;Ye.prototype.send=Ye.prototype.ha;Ye.prototype.setWithCredentials=Ye.prototype.Oa;kn.prototype.digest=kn.prototype.l;kn.prototype.reset=kn.prototype.reset;kn.prototype.update=kn.prototype.j;$e.prototype.add=$e.prototype.add;$e.prototype.multiply=$e.prototype.R;$e.prototype.modulo=$e.prototype.gb;$e.prototype.compare=$e.prototype.X;$e.prototype.toNumber=$e.prototype.ea;$e.prototype.toString=$e.prototype.toString;$e.prototype.getBits=$e.prototype.D;$e.fromNumber=qn;$e.fromString=R_;var dO=function(){return new Vl},pO=function(){return ju()},wf=Bu,gO=Q0,mO=xi,km={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vO=ga,sl=Y0,yO=Ye,_O=kn,ns=$e;const Cm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Nu("@firebase/firestore");function Nm(){return Ii.logLevel}function ve(t,...e){if(Ii.logLevel<=Me.DEBUG){const n=e.map(np);Ii.debug(`Firestore (${Ns}): ${t}`,...n)}}function pr(t,...e){if(Ii.logLevel<=Me.ERROR){const n=e.map(np);Ii.error(`Firestore (${Ns}): ${t}`,...n)}}function ds(t,...e){if(Ii.logLevel<=Me.WARN){const n=e.map(np);Ii.warn(`Firestore (${Ns}): ${t}`,...n)}}function np(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+t;throw pr(e),new Error(e)}function We(t,e){t||Ee()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class wO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EO{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new P_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new kt(e)}}class TO{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class AO{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new TO(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SO{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.T=n.token,new IO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=OO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function ps(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new lt(0,0))}static max(){return new Oe(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Qo{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const kO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Qo{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return kO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ge(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ge(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ge.fromString(e))}static fromName(e){return new _e(Ge.fromString(e).popFirst(5))}static empty(){return new _e(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ge(e.slice()))}}function CO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Vr(i,_e.empty(),e)}function NO(t){return new Vr(t.readTime,t.key,-1)}class Vr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vr(Oe.min(),_e.empty(),-1)}static max(){return new Vr(Oe.max(),_e.empty(),-1)}}function RO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==PO)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):he.reject(n)}static resolve(e){return new he((n,r)=>{n(e)})}static reject(e){return new he((n,r)=>{r(e)})}static waitFor(e){return new he((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next(i=>i?he.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new he((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new he((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function _a(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}rp.ct=-1;function Ku(t){return t==null}function Gl(t){return t===0&&1/t==-1/0}function DO(t){return typeof t=="number"&&Number.isInteger(t)&&!Gl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function D_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||yt.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yt.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ol(this.root,e,this.comparator,!0)}}class ol{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??yt.RED,this.left=i??yt.EMPTY,this.right=s??yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}yt.EMPTY=null,yt.RED=!0,yt.BLACK=!1;yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(t,e,n,r,i){return this}insert(t,e,n){return new yt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pm(this.data.getIterator())}getIteratorFrom(e){return new Pm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Pm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new sn([])}unionWith(e){let n=new Dt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new L_("Invalid base64 string: "+i):i}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const LO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(We(!!t),typeof t=="string"){let e=0;const n=LO.exec(t);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function sp(t){const e=t.mapValue.fields.__previous_value__;return ip(e)?sp(e):e}function Yo(t){const e=zr(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Xo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ip(t)?4:jO(t)?9007199254740991:10:Ee()}function Qn(t,e){if(t===e)return!0;const n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yo(t).isEqual(Yo(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=zr(r.timestampValue),o=zr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Si(r.bytesValue).isEqual(Si(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return nt(r.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nt(r.integerValue)===nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=nt(r.doubleValue),o=nt(i.doubleValue);return s===o?Gl(s)===Gl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ps(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Rm(s)!==Rm(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Qn(s[a],o[a])))return!1;return!0}(t,e);default:return Ee()}}function Jo(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function gs(t,e){if(t===e)return 0;const n=Oi(t),r=Oi(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=nt(i.integerValue||i.doubleValue),a=nt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return xm(t.timestampValue,e.timestampValue);case 4:return xm(Yo(t),Yo(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Si(i),a=Si(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Be(o[l],a[l]);if(u!==0)return u}return Be(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Be(nt(i.latitude),nt(s.latitude));return o!==0?o:Be(nt(i.longitude),nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=gs(o[l],a[l]);if(u)return u}return Be(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===al.mapValue&&s===al.mapValue)return 0;if(i===al.mapValue)return 1;if(s===al.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=Be(a[c],u[c]);if(h!==0)return h;const f=gs(o[a[c]],l[u[c]]);if(f!==0)return f}return Be(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function xm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=zr(t),r=zr(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function ms(t){return Ch(t)}function Ch(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=zr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Si(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,_e.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ch(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Ch(r.fields[a])}`;return s+"}"}(t.mapValue):Ee();var e,n}function Dm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nh(t){return!!t&&"integerValue"in t}function op(t){return!!t&&"arrayValue"in t}function Lm(t){return!!t&&"nullValue"in t}function Mm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wl(t){return!!t&&"mapValue"in t}function _o(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_o(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_o(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_o(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_o(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yt(_o(this.value))}}function M_(t){const e=[];return Di(t.fields,(n,r)=>{const i=new Rt([n]);if(wl(r)){const s=M_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,Oe.min(),Oe.min(),Oe.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,Oe.min(),Oe.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,Oe.min(),Oe.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.position=e,this.inclusive=n}}function jm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=gs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n="asc"){this.field=e,this.dir=n}}function BO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{}class rt extends j_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UO(e,n,r):n==="array-contains"?new HO(e,r):n==="in"?new VO(e,r):n==="not-in"?new zO(e,r):n==="array-contains-any"?new KO(e,r):new rt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qO(e,r):new $O(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gs(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cn extends j_{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Cn(e,n)}matches(e){return B_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function B_(t){return t.op==="and"}function F_(t){return FO(t)&&B_(t)}function FO(t){for(const e of t.filters)if(e instanceof Cn)return!1;return!0}function Rh(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+ms(t.value);if(F_(t))return t.filters.map(e=>Rh(e)).join(",");{const e=t.filters.map(n=>Rh(n)).join(",");return`${t.op}(${e})`}}function U_(t,e){return t instanceof rt?function(n,r){return r instanceof rt&&n.op===r.op&&n.field.isEqual(r.field)&&Qn(n.value,r.value)}(t,e):t instanceof Cn?function(n,r){return r instanceof Cn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&U_(s,r.filters[o]),!0):!1}(t,e):void Ee()}function q_(t){return t instanceof rt?function(e){return`${e.field.canonicalString()} ${e.op} ${ms(e.value)}`}(t):t instanceof Cn?function(e){return e.op.toString()+" {"+e.getFilters().map(q_).join(" ,")+"}"}(t):"Filter"}class UO extends rt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class qO extends rt{constructor(e,n){super(e,"in",n),this.keys=$_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $O extends rt{constructor(e,n){super(e,"not-in",n),this.keys=$_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class HO extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return op(n)&&Jo(n.arrayValue,this.value)}}class VO extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jo(this.value.arrayValue,n)}}class zO extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jo(this.value.arrayValue,n)}}class KO extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Fm(t,e=null,n=[],r=[],i=null,s=null,o=null){return new GO(t,e,n,r,i,s,o)}function ap(t){const e=Ce(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ku(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ms(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ms(r)).join(",")),e.dt=n}return e.dt}function lp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!U_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bm(t.startAt,e.startAt)&&Bm(t.endAt,e.endAt)}function Ph(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function WO(t,e,n,r,i,s,o,a){return new ba(t,e,n,r,i,s,o,a)}function up(t){return new ba(t)}function Um(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function cp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function V_(t){return t.collectionGroup!==null}function rs(t){const e=Ce(t);if(e.wt===null){e.wt=[];const n=cp(e),r=H_(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new bo(n)),e.wt.push(new bo(Rt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new bo(Rt.keyField(),s))}}}return e.wt}function gr(t){const e=Ce(t);if(!e._t)if(e.limitType==="F")e._t=Fm(e.path,e.collectionGroup,rs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of rs(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new bo(s.field,o))}const r=e.endAt?new Wl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Wl(e.startAt.position,e.startAt.inclusive):null;e._t=Fm(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function xh(t,e){e.getFirstInequalityField(),cp(t);const n=t.filters.concat([e]);return new ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ql(t,e,n){return new ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gu(t,e){return lp(gr(t),gr(e))&&t.limitType===e.limitType}function z_(t){return`${ap(gr(t))}|lt:${t.limitType}`}function Dh(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>q_(r)).join(", ")}]`),Ku(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ms(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ms(r)).join(",")),`Target(${n})`}(gr(t))}; limitType=${t.limitType})`}function Wu(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):_e.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of rs(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=jm(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,rs(n),r)||n.endAt&&!function(i,s,o){const a=jm(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,rs(n),r))}(t,e)}function QO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function K_(t){return(e,n)=>{let r=!1;for(const i of rs(t)){const s=YO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function YO(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?gs(a,l):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return D_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new Qe(_e.comparator);function mr(){return XO}const G_=new Qe(_e.comparator);function uo(...t){let e=G_;for(const n of t)e=e.insert(n.key,n);return e}function W_(t){let e=G_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return wo()}function Q_(){return wo()}function wo(){return new Rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const JO=new Qe(_e.comparator),ZO=new Dt(_e.comparator);function Re(...t){let e=ZO;for(const n of t)e=e.add(n);return e}const ek=new Dt(Be);function tk(){return ek}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gl(e)?"-0":e}}function X_(t){return{integerValue:""+t}}function nk(t,e){return DO(e)?X_(e):Y_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this._=void 0}}function rk(t,e,n){return t instanceof Zo?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ip(i)&&(i=sp(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ea?Z_(t,e):t instanceof ta?eb(t,e):function(r,i){const s=J_(r,i),o=qm(s)+qm(r.gt);return Nh(s)&&Nh(r.gt)?X_(o):Y_(r.serializer,o)}(t,e)}function ik(t,e,n){return t instanceof ea?Z_(t,e):t instanceof ta?eb(t,e):n}function J_(t,e){return t instanceof Yl?Nh(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Zo extends Qu{}class ea extends Qu{constructor(e){super(),this.elements=e}}function Z_(t,e){const n=tb(e);for(const r of t.elements)n.some(i=>Qn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ta extends Qu{constructor(e){super(),this.elements=e}}function eb(t,e){let n=tb(e);for(const r of t.elements)n=n.filter(i=>!Qn(i,r));return{arrayValue:{values:n}}}class Yl extends Qu{constructor(e,n){super(),this.serializer=e,this.gt=n}}function qm(t){return nt(t.integerValue||t.doubleValue)}function tb(t){return op(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n){this.field=e,this.transform=n}}function ok(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ea&&r instanceof ea||n instanceof ta&&r instanceof ta?ps(n.elements,r.elements,Qn):n instanceof Yl&&r instanceof Yl?Qn(n.gt,r.gt):n instanceof Zo&&r instanceof Zo}(t.transform,e.transform)}class ak{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function El(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yu{}function nb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ib(t.key,Hn.none()):new wa(t.key,t.data,Hn.none());{const n=t.data,r=Yt.empty();let i=new Dt(Rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qr(t.key,r,new sn(i.toArray()),Hn.none())}}function lk(t,e,n){t instanceof wa?function(r,i,s){const o=r.value.clone(),a=Hm(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Qr?function(r,i,s){if(!El(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Hm(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(rb(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Eo(t,e,n,r){return t instanceof wa?function(i,s,o,a){if(!El(i.precondition,s))return o;const l=i.value.clone(),u=Vm(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qr?function(i,s,o,a){if(!El(i.precondition,s))return o;const l=Vm(i.fieldTransforms,a,s),u=s.data;return u.setAll(rb(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return El(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function uk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=J_(r.transform,i||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function $m(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ps(n,r,(i,s)=>ok(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wa extends Yu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qr extends Yu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Hm(t,e,n){const r=new Map;We(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ik(o,a,n[i]))}return r}function Vm(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,rk(s,o,e))}return r}class ib extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ck extends Yu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Q_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=nb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(n,r)=>$m(n,r))&&ps(this.baseMutations,e.baseMutations,(n,r)=>$m(n,r))}}class fp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length);let i=JO;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt,xe;function pk(t){switch(t){default:return Ee();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function sb(t){if(t===void 0)return pr("GRPC error has no .code"),le.UNKNOWN;switch(t){case tt.OK:return le.OK;case tt.CANCELLED:return le.CANCELLED;case tt.UNKNOWN:return le.UNKNOWN;case tt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case tt.INTERNAL:return le.INTERNAL;case tt.UNAVAILABLE:return le.UNAVAILABLE;case tt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case tt.NOT_FOUND:return le.NOT_FOUND;case tt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case tt.ABORTED:return le.ABORTED;case tt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case tt.DATA_LOSS:return le.DATA_LOSS;default:return Ee()}}(xe=tt||(tt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ll}static getOrCreateInstance(){return ll===null&&(ll=new hp),ll}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ll=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new ns([4294967295,4294967295],0);function zm(t){const e=gk().encode(t),n=new _O;return n.update(e),new Uint8Array(n.digest())}function Km(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ns([n,r],0),new ns([i,s],0)]}class dp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new co(`Invalid padding: ${n}`);if(r<0)throw new co(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new co(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ns.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ns.fromNumber(r)));return i.compare(mk)===1&&(i=new ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=zm(e),[r,i]=Km(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dp(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=zm(e),[r,i]=Km(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ea.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xu(Oe.min(),i,new Qe(Be),mr(),Re())}}class Ea{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ea(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class ob{constructor(e,n){this.targetId=e,this.Vt=n}}class ab{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Gm{constructor(){this.St=0,this.Dt=Qm(),this.Ct=Mt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Re(),n=Re(),r=Re();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Ea(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Qm()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class vk{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=mr(),this.zt=Wm(),this.Wt=new Qe(Be)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Ph(o))if(i===0){const a=new _e(o.path);this.Yt(r,a,Ct.newNoDocument(a,Oe.min()))}else We(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=hp.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,h){var f,d,p,g,_,m;const v={localCacheCount:c,existenceFilterCount:h.count},b=h.unchangedNames;return b&&(v.bloomFilter={applied:u===0,hashCount:(f=b==null?void 0:b.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(g=(p=(d=b==null?void 0:b.bits)===null||d===void 0?void 0:d.bitmap)===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0,padding:(m=(_=b==null?void 0:b.bits)===null||_===void 0?void 0:_.padding)!==null&&m!==void 0?m:0}),v}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Si(s).toUint8Array()}catch(c){if(c instanceof L_)return ds("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new dp(l,o,a)}catch(c){return ds(c instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Ph(a.target)){const l=new _e(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Ct.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Re();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Xu(e,n,this.Wt,this.jt,r);return this.jt=mr(),this.zt=Wm(),this.Wt=new Qe(Be),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Gm,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Dt(Be),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Gm),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Wm(){return new Qe(_e.comparator)}function Qm(){return new Qe(_e.comparator)}const yk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_k=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),bk=(()=>({and:"AND",or:"OR"}))();class wk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lh(t,e){return t.useProto3Json||Ku(e)?e:{value:e}}function Xl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ek(t,e){return Xl(t,e.toTimestamp())}function Vn(t){return We(!!t),Oe.fromTimestamp(function(e){const n=zr(e);return new lt(n.seconds,n.nanos)}(t))}function pp(t,e){return function(n){return new Ge(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function ub(t){const e=Ge.fromString(t);return We(db(e)),e}function Mh(t,e){return pp(t.databaseId,e.path)}function Ef(t,e){const n=ub(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(cb(n))}function jh(t,e){return pp(t.databaseId,e)}function Tk(t){const e=ub(t);return e.length===4?Ge.emptyPath():cb(e)}function Bh(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cb(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ym(t,e,n){return{name:Mh(t,e),fields:n.value.mapValue.fields}}function Ak(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(We(u===void 0||typeof u=="string"),Mt.fromBase64String(u||"")):(We(u===void 0||u instanceof Uint8Array),Mt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?le.UNKNOWN:sb(l.code);return new ge(u,l.message||"")}(o);n=new ab(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ef(t,r.document.name),s=Vn(r.document.updateTime),o=r.document.createTime?Vn(r.document.createTime):Oe.min(),a=new Yt({mapValue:{fields:r.document.fields}}),l=Ct.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Tl(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ef(t,r.document),s=r.readTime?Vn(r.readTime):Oe.min(),o=Ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Tl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ef(t,r.document),s=r.removedTargetIds||[];n=new Tl([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new dk(i,s),a=r.targetId;n=new ob(a,o)}}return n}function Ik(t,e){let n;if(e instanceof wa)n={update:Ym(t,e.key,e.value)};else if(e instanceof ib)n={delete:Mh(t,e.key)};else if(e instanceof Qr)n={update:Ym(t,e.key,e.data),updateMask:Dk(e.fieldMask)};else{if(!(e instanceof ck))return Ee();n={verify:Mh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Zo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ea)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ta)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Yl)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Ek(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ee()}(t,e.precondition)),n}function Sk(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Vn(r.updateTime):Vn(i);return s.isEqual(Oe.min())&&(s=Vn(i)),new ak(s,r.transformResults||[])}(n,e))):[]}function Ok(t,e){return{documents:[jh(t,e.path)]}}function kk(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=jh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return hb(Cn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Gi(c.field),direction:Rk(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Lh(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Ck(t){let e=Tk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=fb(c);return h instanceof Cn&&F_(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new bo(Wi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,Ku(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new Wl(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new Wl(f,h)}(n.endAt)),WO(e,i,o,s,a,"F",l,u)}function Nk(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fb(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Wi(e.unaryFilter.field);return rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Wi(e.unaryFilter.field);return rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wi(e.unaryFilter.field);return rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wi(e.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(e){return rt.create(Wi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Cn.create(e.compositeFilter.filters.map(n=>fb(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ee()}}(e.compositeFilter.op))}(t):Ee()}function Rk(t){return yk[t]}function Pk(t){return _k[t]}function xk(t){return bk[t]}function Gi(t){return{fieldPath:t.canonicalString()}}function Wi(t){return Rt.fromServerFormat(t.fieldPath)}function hb(t){return t instanceof rt?function(e){if(e.op==="=="){if(Mm(e.value))return{unaryFilter:{field:Gi(e.field),op:"IS_NAN"}};if(Lm(e.value))return{unaryFilter:{field:Gi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Mm(e.value))return{unaryFilter:{field:Gi(e.field),op:"IS_NOT_NAN"}};if(Lm(e.value))return{unaryFilter:{field:Gi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gi(e.field),op:Pk(e.op),value:e.value}}}(t):t instanceof Cn?function(e){const n=e.getFilters().map(r=>hb(r));return n.length===1?n[0]:{compositeFilter:{op:xk(e.op),filters:n}}}(t):Ee()}function Dk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function db(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r,i,s=Oe.min(),o=Oe.min(),a=Mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.fe=e}}function Mk(t){const e=Ck({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ql(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.rn=new Bk}addToCollectionParentIndex(e,n){return this.rn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Vr.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class Bk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Dt(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new vs(0)}static Mn(){return new vs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.changes=new Rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Eo(r.mutation,i,sn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=uo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=mr();const o=wo(),a=wo();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Qr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Eo(c.mutation,u,c.mutation.getFieldMask(),lt.now())):o.set(u.key,sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new Uk(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wo();let i=new Qe((o,a)=>o-a),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||sn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Q_();c.forEach(f=>{if(!s.has(f)){const d=nb(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return he.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):V_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):he.resolve(vi());let a=-1,l=s;return o.next(u=>he.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?he.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Re())).next(c=>({batchId:a,changes:W_(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=uo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=uo();return this.indexManager.getCollectionParents(e,i).next(o=>he.forEach(o,a=>{const l=function(u,c){return new ba(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Ct.newInvalidDocument(u)))});let o=uo();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Eo(u.mutation,l,sn.empty(),lt.now()),Wu(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return he.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Vn(r.createTime)}),he.resolve()}getNamedQuery(e,n){return he.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:Mk(r.bundledQuery),readTime:Vn(r.readTime)}}(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.overlays=new Qe(_e.comparator),this.ls=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vi();return he.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),he.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const i=vi(),s=n.length+1,o=new _e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return he.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=vi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=vi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return he.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hk(n,r));let s=this.ls.get(n);s===void 0&&(s=Re(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(){this.fs=new Dt(ct.ds),this.ws=new Dt(ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ct(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ct(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new _e(new Ge([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new _e(new Ge([])),r=new ct(n,e),i=new ct(n,e+1);let s=Re();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return _e.comparator(e.key,n.key)||Be(e.As,n.As)}static _s(e,n){return Be(e.As,n.As)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Dt(ct.ds)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fk(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return he.resolve(o)}lookupMutationBatch(e,n){return he.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return he.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),he.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Be);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),he.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new ct(new _e(s),0);let a=new Dt(Be);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),he.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return he.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ct(n,0),i=this.Rs.firstAfterOrEqual(r);return he.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.Ds=e,this.docs=new Qe(_e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ct.newInvalidDocument(i))}),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=mr();const o=n.path,a=new _e(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||RO(NO(c),r)<=0||(i.has(c.key)||Wu(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return he.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee()}Cs(e,n){return he.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kk(this)}getSize(e){return he.resolve(this.size)}}class Kk extends Fk{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),he.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.persistence=e,this.xs=new Rs(n=>ap(n),lp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gp,this.targetCount=0,this.Ms=vs.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),he.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new vs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Fn(n),he.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),he.waitFor(s).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),he.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n){this.$s={},this.overlays={},this.Os=new rp(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Gk(this),this.indexManager=new jk,this.remoteDocumentCache=function(r){return new zk(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new Lk(n),this.qs=new $k(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Vk(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new Qk(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return he.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Qk extends xO{constructor(e){super(),this.currentSequenceNumber=e}}class mp{constructor(e){this.persistence=e,this.Qs=new gp,this.js=null}static zs(e){return new mp(e)}get Ws(){if(this.js)return this.js;throw Ee()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),he.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ws,r=>{const i=_e.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,Oe.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return he.or([()=>he.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Re(),i=Re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Um(n))return he.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ql(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Re(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Ql(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return Um(n)||i.isEqual(Oe.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Nm()<=Me.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dh(n)),this.Wi(e,o,n,CO(i,-1)))})}ji(e,n){let r=new Dt(K_(e));return n.forEach((i,s)=>{Wu(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Nm()<=Me.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Dh(n)),this.Ui.getDocumentsMatchingQuery(e,n,Vr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Qe(Be),this.Yi=new Rs(s=>ap(s),lp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qk(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function Jk(t,e,n,r){return new Xk(t,e,n,r)}async function pb(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Re();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function Zk(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let f=he.resolve();return h.forEach(d=>{f=f.next(()=>u.getEntry(a,d)).next(p=>{const g=l.docVersions.get(d);We(g!==null),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Re();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gb(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function eC(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(Mt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(p,g,_){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,d,c)&&a.push(n.Bs.updateTargetData(s,d))});let l=mr(),u=Re();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(tC(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(Oe.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(h=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return he.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function tC(t,e,n){let r=Re(),i=Re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=mr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function nC(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rC(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,he.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Lr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Fh(t,e,n){const r=Ce(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_a(o))throw o;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Xm(t,e,n){const r=Ce(t);let i=Oe.min(),s=Re();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=Ce(a),h=c.Yi.get(u);return h!==void 0?he.resolve(c.Ji.get(h)):c.Bs.getTargetData(l,u)}(r,o,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:Oe.min(),n?s:Re())).next(a=>(iC(r,QO(e),a),{documents:a,ir:s})))}function iC(t,e,n){let r=t.Xi.get(e)||Oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class Jm{constructor(){this.activeTargetIds=tk()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sC{constructor(){this.Hr=new Jm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Jm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul=null;function Tf(){return ul===null?ul=268435456+Math.round(2147483648*Math.random()):ul++,"0x"+ul.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class uC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Tf(),a=this.To(e,n);ve("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(ve("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw ds("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ns,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=aC[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Tf();return new Promise((o,a)=>{const l=new yO;l.setWithCredentials(!0),l.listenOnce(gO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case wf.NO_ERROR:const c=l.getResponseJson();ve(St,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case wf.TIMEOUT:ve(St,`RPC '${e}' ${s} timed out`),a(new ge(le.DEADLINE_EXCEEDED,"Request time out"));break;case wf.HTTP_ERROR:const h=l.getStatus();if(ve(St,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const p=function(g){const _=g.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(_)>=0?_:le.UNKNOWN}(d.status);a(new ge(p,d.message))}else a(new ge(le.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ge(le.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ve(St,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ve(St,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=Tf(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dO(),a=pO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new vO({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ve(St,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,d=!1;const p=new lC({ro:_=>{d?ve(St,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(ve(St,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ve(St,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},oo:()=>h.close()}),g=(_,m,v)=>{_.listen(m,b=>{try{v(b)}catch(y){setTimeout(()=>{throw y},0)}})};return g(h,sl.EventType.OPEN,()=>{d||ve(St,`RPC '${e}' stream ${i} transport opened.`)}),g(h,sl.EventType.CLOSE,()=>{d||(d=!0,ve(St,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(h,sl.EventType.ERROR,_=>{d||(d=!0,ds(St,`RPC '${e}' stream ${i} transport errored:`,_),p.wo(new ge(le.UNAVAILABLE,"The operation could not be completed")))}),g(h,sl.EventType.MESSAGE,_=>{var m;if(!d){const v=_.data[0];We(!!v);const b=v,y=b.error||((m=b[0])===null||m===void 0?void 0:m.error);if(y){ve(St,`RPC '${e}' stream ${i} received error:`,y);const E=y.status;let k=function(I){const R=tt[I];if(R!==void 0)return sb(R)}(E),S=y.message;k===void 0&&(k=le.INTERNAL,S="Unknown error status: "+E+" with message "+y.message),d=!0,p.wo(new ge(k,S)),h.close()}else ve(St,`RPC '${e}' stream ${i} received:`,v),p._o(v)}}),g(a,mO.STAT_EVENT,_=>{_.stat===km.PROXY?ve(St,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===km.NOPROXY&&ve(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){return new wk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mb(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new ge(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cC extends vb{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=Ak(this.serializer,e),r=function(i){if(!("targetChange"in i))return Oe.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Oe.min():s.readTime?Vn(s.readTime):Oe.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Bh(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Ph(a)?{documents:Ok(i,a)}:{query:kk(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=lb(i,s.resumeToken);const l=Lh(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(Oe.min())>0){o.readTime=Xl(i,s.snapshotVersion.toTimestamp());const l=Lh(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=Nk(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Bh(this.serializer),n.removeTarget=e,this.Wo(n)}}class fC extends vb{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=Sk(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.cu(r,n)}return We(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Bh(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ik(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ge(le.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(le.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class dC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(pr(n),this.mu=!1):ve("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Li(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=Ce(a);l.vu.add(4),await Ta(l),l.bu.set("Unknown"),l.vu.delete(4),await Zu(l)}(this))})}),this.bu=new dC(r,i)}}async function Zu(t){if(Li(t))for(const e of t.Ru)await e(!0)}async function Ta(t){for(const e of t.Ru)await e(!1)}function yb(t,e){const n=Ce(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),bp(n)?_p(n):Ps(n).Ko()&&yp(n,e))}function _b(t,e){const n=Ce(t),r=Ps(n);n.Au.delete(e),r.Ko()&&bb(n,e),n.Au.size===0&&(r.Ko()?r.jo():Li(n)&&n.bu.set("Unknown"))}function yp(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ps(t).su(e)}function bb(t,e){t.Vu.qt(e),Ps(t).iu(e)}function _p(t){t.Vu=new vk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ps(t).start(),t.bu.gu()}function bp(t){return Li(t)&&!Ps(t).Uo()&&t.Au.size>0}function Li(t){return Ce(t).vu.size===0}function wb(t){t.Vu=void 0}async function gC(t){t.Au.forEach((e,n)=>{yp(t,e)})}async function mC(t,e){wb(t),bp(t)?(t.bu.Iu(e),_p(t)):t.bu.set("Unknown")}async function vC(t,e,n){if(t.bu.set("Online"),e instanceof ab&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jl(t,r)}else if(e instanceof Tl?t.Vu.Ht(e):e instanceof ob?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Oe.min()))try{const r=await gb(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(Mt.EMPTY_BYTE_STRING,u.snapshotVersion)),bb(i,a);const c=new Lr(u.target,a,l,u.sequenceNumber);yp(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await Jl(t,r)}}async function Jl(t,e,n){if(!_a(e))throw e;t.vu.add(1),await Ta(t),t.bu.set("Offline"),n||(n=()=>gb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Zu(t)})}function Eb(t,e){return e().catch(n=>Jl(t,n,e))}async function ec(t){const e=Ce(t),n=Kr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;yC(e);)try{const i=await nC(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,_C(e,i)}catch(i){await Jl(e,i)}Tb(e)&&Ab(e)}function yC(t){return Li(t)&&t.Eu.length<10}function _C(t,e){t.Eu.push(e);const n=Kr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Tb(t){return Li(t)&&!Kr(t).Uo()&&t.Eu.length>0}function Ab(t){Kr(t).start()}async function bC(t){Kr(t).hu()}async function wC(t){const e=Kr(t);for(const n of t.Eu)e.uu(n.mutations)}async function EC(t,e,n){const r=t.Eu.shift(),i=fp.from(r,e,n);await Eb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ec(t)}async function TC(t,e){e&&Kr(t).ou&&await async function(n,r){if(i=r.code,pk(i)&&i!==le.ABORTED){const s=n.Eu.shift();Kr(n).Qo(),await Eb(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ec(n)}var i}(t,e),Tb(t)&&Ab(t)}async function ev(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=Li(n);n.vu.add(3),await Ta(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Zu(n)}async function AC(t,e){const n=Ce(t);e?(n.vu.delete(2),await Zu(n)):e||(n.vu.add(2),await Ta(n),n.bu.set("Unknown"))}function Ps(t){return t.Su||(t.Su=function(e,n,r){const i=Ce(e);return i.fu(),new cC(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:gC.bind(null,t),ao:mC.bind(null,t),nu:vC.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),bp(t)?_p(t):t.bu.set("Unknown")):(await t.Su.stop(),wb(t))})),t.Su}function Kr(t){return t.Du||(t.Du=function(e,n,r){const i=Ce(e);return i.fu(),new fC(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:bC.bind(null,t),ao:TC.bind(null,t),au:wC.bind(null,t),cu:EC.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await ec(t)):(await t.Du.stop(),t.Eu.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new wp(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(t,e){if(pr("AsyncQueue",`${e}: ${t}`),_a(t))return new ge(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=uo(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new is(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof is)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new is;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.Cu=new Qe(_e.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Ee():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ys{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ys(e,n,is.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.Nu=void 0,this.listeners=[]}}class SC{constructor(){this.queries=new Rs(e=>z_(e),Gu),this.onlineState="Unknown",this.ku=new Set}}async function Ib(t,e){const n=Ce(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new IC),i)try{s.Nu=await n.onListen(r)}catch(o){const a=Ep(o,`Initialization of query '${Dh(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&Tp(n)}async function Sb(t,e){const n=Ce(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function OC(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&Tp(n)}function kC(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Tp(t){t.ku.forEach(e=>{e.next()})}class Ob{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.key=e}}class Cb{constructor(e){this.key=e}}class CC{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Re(),this.mutatedKeys=Re(),this.tc=K_(e),this.ec=new is(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new tv,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),d=Wu(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let _=!1;f&&d?f.data.isEqual(d.data)?p!==g&&(r.track({type:3,doc:d}),_=!0):this.rc(f,d)||(r.track({type:2,doc:d}),_=!0,(l&&this.tc(d,l)>0||u&&this.tc(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),_=!0):f&&!d&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(d?(o=o.add(d),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(h,f){const d=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return d(h)-d(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new ys(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new tv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Re(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Cb(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new kb(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Re();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ys.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class NC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RC{constructor(e){this.key=e,this.fc=!1}}class PC{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Rs(a=>z_(a),Gu),this._c=new Map,this.mc=new Set,this.gc=new Qe(_e.comparator),this.yc=new Map,this.Ic=new gp,this.Tc={},this.Ec=new Map,this.Ac=vs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function xC(t,e){const n=HC(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await rC(n.localStore,gr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await DC(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&yb(n.remoteStore,o)}return i}async function DC(t,e,n,r,i){t.Rc=(h,f,d)=>async function(p,g,_,m){let v=g.view.sc(_);v.zi&&(v=await Xm(p.localStore,g.query,!1).then(({documents:E})=>g.view.sc(E,v)));const b=m&&m.targetChanges.get(g.targetId),y=g.view.applyChanges(v,p.isPrimaryClient,b);return rv(p,g.targetId,y.cc),y.snapshot}(t,h,f,d);const s=await Xm(t.localStore,e,!0),o=new CC(e,s.ir),a=o.sc(s.documents),l=Ea.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);rv(t,n,u.cc);const c=new NC(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function LC(t,e){const n=Ce(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Gu(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_b(n.remoteStore,r.targetId),Uh(n,r.targetId)}).catch(ya)):(Uh(n,r.targetId),await Fh(n.localStore,r.targetId,!0))}async function MC(t,e,n){const r=VC(t);try{const i=await function(s,o){const a=Ce(s),l=lt.now(),u=o.reduce((f,d)=>f.add(d.key),Re());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=mr(),p=Re();return a.Zi.getEntries(f,u).next(g=>{d=g,d.forEach((_,m)=>{m.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(g=>{c=g;const _=[];for(const m of o){const v=uk(m,c.get(m.key).overlayedDocument);v!=null&&_.push(new Qr(m.key,v,M_(v.value.mapValue),Hn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,_,o)}).next(g=>{h=g;const _=g.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(f,g.batchId,_)})}).then(()=>({batchId:h.batchId,changes:W_(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Qe(Be)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Aa(r,i.changes),await ec(r.remoteStore)}catch(i){const s=Ep(i,"Failed to persist write");n.reject(s)}}async function Nb(t,e){const n=Ce(t);try{const r=await eC(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?We(o.fc):i.removedDocuments.size>0&&(We(o.fc),o.fc=!1))}),await Aa(n,r,e)}catch(r){await ya(r)}}function nv(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Ce(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Mu(o)&&(l=!0)}),l&&Tp(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jC(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Qe(_e.comparator);o=o.insert(s,Ct.newNoDocument(s,Oe.min()));const a=Re().add(s),l=new Xu(Oe.min(),new Map,new Qe(Be),o,a);await Nb(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),Ap(r)}else await Fh(r.localStore,e,!1).then(()=>Uh(r,e,n)).catch(ya)}async function BC(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await Zk(n.localStore,e);Pb(n,r,null),Rb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Aa(n,i)}catch(i){await ya(i)}}async function FC(t,e,n){const r=Ce(t);try{const i=await function(s,o){const a=Ce(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(We(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Pb(r,e,n),Rb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Aa(r,i)}catch(i){await ya(i)}}function Rb(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Pb(t,e,n){const r=Ce(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Uh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||xb(t,r)})}function xb(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(_b(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Ap(t))}function rv(t,e,n){for(const r of n)r instanceof kb?(t.Ic.addReference(r.key,e),UC(t,r)):r instanceof Cb?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||xb(t,r.key)):Ee()}function UC(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.mc.add(r),Ap(t))}function Ap(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new _e(Ge.fromString(e)),r=t.Ac.next();t.yc.set(r,new RC(n)),t.gc=t.gc.insert(n,r),yb(t.remoteStore,new Lr(gr(up(n.path)),r,"TargetPurposeLimboResolution",rp.ct))}}async function Aa(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=vp.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=Ce(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>he.forEach(l,h=>he.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>he.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!_a(c))throw c;ve("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const f=u.Ji.get(h),d=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(d);u.Ji=u.Ji.insert(h,p)}}}(r.localStore,s))}async function qC(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await pb(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new ge(le.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Aa(n,r.er)}}function $C(t,e){const n=Ce(t),r=n.yc.get(e);if(r&&r.fc)return Re().add(r.key);{let i=Re();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function HC(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$C.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jC.bind(null,e),e.dc.nu=OC.bind(null,e.eventManager),e.dc.Pc=kC.bind(null,e.eventManager),e}function VC(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FC.bind(null,e),e}class iv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ju(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Jk(this.persistence,new Yk,e.initialUser,this.serializer)}createPersistence(e){return new Wk(mp.zs,this.serializer)}createSharedClientState(e){return new sC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qC.bind(null,this.syncEngine),await AC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new SC}createDatastore(e){const n=Ju(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new uC(i));var i;return function(s,o,a,l){return new hC(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>nv(this.syncEngine,a,0),o=Zm.D()?new Zm:new oC,new pC(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new PC(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ce(e);ve("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Ta(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=x_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ep(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function If(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await pb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WC(t);ve("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>ev(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>ev(e.remoteStore,s)),t._onlineComponents=e}function GC(t){return t.name==="FirebaseError"?t.code===le.FAILED_PRECONDITION||t.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function WC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await If(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!GC(n))throw n;ds("Error using user provided cache. Falling back to memory cache: "+n),await If(t,new iv)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await If(t,new iv);return t._offlineComponents}async function Lb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await sv(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await sv(t,new zC))),t._onlineComponents}function QC(t){return Lb(t).then(e=>e.syncEngine)}async function Mb(t){const e=await Lb(t),n=e.eventManager;return n.onListen=xC.bind(null,e.syncEngine),n.onUnlisten=LC.bind(null,e.syncEngine),n}function YC(t,e,n={}){const r=new fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Db({next:h=>{s.enqueueAndForget(()=>Sb(i,c));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new ge(le.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new ge(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new Ob(up(o.path),u,{includeMetadataChanges:!0,Ku:!0});return Ib(i,c)}(await Mb(t),t.asyncQueue,e,n,r)),r.promise}function XC(t,e,n={}){const r=new fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Db({next:h=>{s.enqueueAndForget(()=>Sb(i,c)),h.fromCache&&a.source==="server"?l.reject(new ge(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new Ob(o,u,{includeMetadataChanges:!0,Ku:!0});return Ib(i,c)}(await Mb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e,n){if(!n)throw new ge(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JC(t,e,n,r){if(e===!0&&r===!0)throw new ge(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function av(t){if(!_e.isDocumentKey(t))throw new ge(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lv(t){if(_e.isDocumentKey(t))throw new ge(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tc(t);throw new ge(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ZC(t,e){if(e<=0)throw new ge(le.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class nc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ge(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new bO;switch(n.type){case"firstParty":return new AO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=ov.get(e);n&&(ve("ComponentProvider","Removing Datastore"),ov.delete(e),n.terminate())}(this),Promise.resolve()}}function eN(t,e,n,r={}){var i;const s=(t=vr(t,nc))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&ds("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=kt.MOCK_USER;else{o=KA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ge(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new kt(l)}t._authCredentials=new wO(new P_(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}}class Mi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class Ur extends Mi{constructor(e,n,r){super(e,n,up(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new _e(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function Sf(t,e,...n){if(t=st(t),Bb("collection","path",e),t instanceof nc){const r=Ge.fromString(e,...n);return lv(r),new Ur(t,null,r)}{if(!(t instanceof Ht||t instanceof Ur))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return lv(r),new Ur(t.firestore,null,r)}}function Ki(t,e,...n){if(t=st(t),arguments.length===1&&(e=x_.A()),Bb("doc","path",e),t instanceof nc){const r=Ge.fromString(e,...n);return av(r),new Ht(t,null,new _e(r))}{if(!(t instanceof Ht||t instanceof Ur))throw new ge(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return av(r),new Ht(t.firestore,t instanceof Ur?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mb(this,"async_queue_retry"),this.Xc=()=>{const n=Af();n&&ve("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Af();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new fr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!_a(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw pr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=wp.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Ee()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ia extends nc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Fb(this),this._firestoreClient.terminate()}}function nN(t,e){const n=typeof t=="object"?t:xd(),r=typeof t=="string"?t:e||"(default)",i=Pi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=VA("firestore");s&&eN(i,...s)}return i}function Ip(t){return t._firestoreClient||Fb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Fb(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new MO(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,jb(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new KC(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(Mt.fromBase64String(e))}catch(n){throw new ge(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _s(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=/^__.*__$/;class iN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new wa(e,this.data,n,this.fieldTransforms)}}class Ub{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Op{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Op(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Zl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(qb(this.ca)&&rN.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class sN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ju(e)}ya(e,n,r,i=!1){return new Op({ca:e,methodName:n,ga:r,path:Rt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kp(t){const e=t._freezeSettings(),n=Ju(t._databaseId);return new sN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oN(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);Np("Data must be an object, but it was:",o,r);const a=$b(r,o);let l,u;if(s.merge)l=new sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=qh(e,h,n);if(!o.contains(f))throw new ge(le.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Vb(c,f)||c.push(f)}l=new sn(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new iN(new Yt(a),l,u)}class sc extends ic{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sc}}class Cp extends ic{_toFieldTransform(e){return new sk(e.path,new Zo)}isEqual(e){return e instanceof Cp}}function aN(t,e,n,r){const i=t.ya(1,e,n);Np("Data must be an object, but it was:",i,r);const s=[],o=Yt.empty();Di(r,(l,u)=>{const c=Rp(e,l,n);u=st(u);const h=i.da(c);if(u instanceof sc)s.push(c);else{const f=Sa(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new sn(s);return new Ub(o,a,i.fieldTransforms)}function lN(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[qh(e,r,n)],l=[i];if(s.length%2!=0)throw new ge(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(qh(e,s[f])),l.push(s[f+1]);const u=[],c=Yt.empty();for(let f=a.length-1;f>=0;--f)if(!Vb(u,a[f])){const d=a[f];let p=l[f];p=st(p);const g=o.da(d);if(p instanceof sc)u.push(d);else{const _=Sa(p,g);_!=null&&(u.push(d),c.set(d,_))}}const h=new sn(u);return new Ub(c,h,o.fieldTransforms)}function uN(t,e,n,r=!1){return Sa(n,t.ya(r?4:3,e))}function Sa(t,e){if(Hb(t=st(t)))return Np("Unsupported field value:",e,t),$b(t,e);if(t instanceof ic)return function(n,r){if(!qb(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Sa(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=st(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nk(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=lt.fromDate(n);return{timestampValue:Xl(r.serializer,i)}}if(n instanceof lt){const i=new lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Xl(r.serializer,i)}}if(n instanceof Sp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _s)return{bytesValue:lb(r.serializer,n._byteString)};if(n instanceof Ht){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:pp(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${tc(n)}`)}(t,e)}function $b(t,e){const n={};return D_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,i)=>{const s=Sa(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Hb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Sp||t instanceof _s||t instanceof Ht||t instanceof ic)}function Np(t,e,n){if(!Hb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=tc(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function qh(t,e,n){if((e=st(e))instanceof rc)return e._internalPath;if(typeof e=="string")return Rp(t,e);throw Zl("Field path arguments must be of type string or ",t,!1,void 0,n)}const cN=new RegExp("[~\\*/\\[\\]]");function Rp(t,e,n){if(e.search(cN)>=0)throw Zl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rc(...e.split("."))._internalPath}catch{throw Zl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ge(le.INVALID_ARGUMENT,a+t+l)}function Vb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fN extends zb{data(){return super.data()}}function Pp(t,e){return typeof e=="string"?Rp(t,e):e instanceof rc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xp{}class Kb extends xp{}function Of(t,e,...n){let r=[];e instanceof xp&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Dp).length,o=i.filter(a=>a instanceof oc).length;if(s>1||s>0&&o>0)throw new ge(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class oc extends Kb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new oc(e,n,r)}_apply(e){const n=this._parse(e);return Gb(e._query,n),new Mi(e.firestore,e.converter,xh(e._query,n))}_parse(e){const n=kp(e.firestore);return function(i,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ge(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){hv(c,u);const f=[];for(const d of c)f.push(fv(a,i,d));h={arrayValue:{values:f}}}else h=fv(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||hv(c,u),h=uN(o,s,c,u==="in"||u==="not-in");return rt.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kf(t,e,n){const r=e,i=Pp("where",t);return oc._create(i,r,n)}class Dp extends xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Cn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Gb(s,a),s=xh(s,a)}(e._query,n),new Mi(e.firestore,e.converter,xh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lp extends Kb{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Lp(e,n,r)}_apply(e){return new Mi(e.firestore,e.converter,Ql(e._query,this._limit,this._limitType))}}function cv(t){return ZC("limit",t),Lp._create("limit",t,"F")}function fv(t,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new ge(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V_(e)&&n.indexOf("/")!==-1)throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!_e.isDocumentKey(r))throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dm(t,new _e(r))}if(n instanceof Ht)return Dm(t,n._key);throw new ge(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tc(n)}.`)}function hv(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gb(t,e){if(e.isInequality()){const r=cp(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ge(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=H_(t);s!==null&&dN(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function dN(t,e,n){if(!n.isEqual(e))throw new ge(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class pN{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Di(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Sp(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const n=zr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);We(db(r));const i=new Xo(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||pr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wb extends zb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Al(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Al extends Wb{data(e={}){return super.data(e)}}class mN{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Al(this._firestore,this._userDataWriter,r.key,r,new fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Al(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Al(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:vN(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){t=vr(t,Ht);const e=vr(t.firestore,Ia);return YC(Ip(e),t._key).then(n=>_N(e,t,n))}class Qb extends pN{constructor(e){super(),this.firestore=e}convertBytes(e){return new _s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function Cf(t){t=vr(t,Mi);const e=vr(t.firestore,Ia),n=Ip(e),r=new Qb(e);return hN(t._query),XC(n,t._query).then(i=>new mN(e,r,t,i))}function Nf(t,e,n){t=vr(t,Ht);const r=vr(t.firestore,Ia),i=gN(t.converter,e,n);return Yb(r,[oN(kp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Hn.none())])}function Rf(t,e,n,...r){t=vr(t,Ht);const i=vr(t.firestore,Ia),s=kp(i);let o;return o=typeof(e=st(e))=="string"||e instanceof rc?lN(s,"updateDoc",t._key,e,n,r):aN(s,"updateDoc",t._key,e),Yb(i,[o.toMutation(t._key,Hn.exists(!0))])}function Yb(t,e){return function(n,r){const i=new fr;return n.asyncQueue.enqueueAndForget(async()=>MC(await QC(n),r,i)),i.promise}(Ip(t),e)}function _N(t,e,n){const r=n.docs.get(e._key),i=new Qb(t);return new Wb(t,i,e._key,r,new fo(n.hasPendingWrites,n.fromCache),e.converter)}function bN(){return new Cp("serverTimestamp")}(function(t,e=!0){(function(n){Ns=n})(Os),Wn(new On("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ia(new EO(n.getProvider("auth-internal")),new SO(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ge(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),vn(Cm,"3.12.1",t),vn(Cm,"3.12.1","esm2017")})();var wN="firebase",EN="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn(wN,EN,"app");const TN=(t,e)=>e.some(n=>t instanceof n);let dv,pv;function AN(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IN(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xb=new WeakMap,$h=new WeakMap,Jb=new WeakMap,Pf=new WeakMap,Mp=new WeakMap;function SN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Xb.set(n,t)}).catch(()=>{}),Mp.set(e,t),e}function ON(t){if($h.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$h.set(t,e)}let Hh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $h.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kN(t){Hh=t(Hh)}function CN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xf(this),e,...n);return Jb.set(r,e.sort?e.sort():[e]),qr(r)}:IN().includes(t)?function(...e){return t.apply(xf(this),e),qr(Xb.get(this))}:function(...e){return qr(t.apply(xf(this),e))}}function NN(t){return typeof t=="function"?CN(t):(t instanceof IDBTransaction&&ON(t),TN(t,AN())?new Proxy(t,Hh):t)}function qr(t){if(t instanceof IDBRequest)return SN(t);if(Pf.has(t))return Pf.get(t);const e=NN(t);return e!==t&&(Pf.set(t,e),Mp.set(e,t)),e}const xf=t=>Mp.get(t);function RN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qr(o.result),l.oldVersion,l.newVersion,qr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const PN=["get","getKey","getAll","getAllKeys","count"],xN=["put","add","delete","clear"],Df=new Map;function gv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Df.set(e,s),s}kN(t=>({...t,get:(e,n,r)=>gv(e,n)||t.get(e,n,r),has:(e,n)=>!!gv(e,n)||t.has(e,n)}));const Zb="@firebase/installations",jp="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=1e4,t1=`w:${jp}`,n1="FIS_v2",DN="https://firebaseinstallations.googleapis.com/v1",LN=60*60*1e3,MN="installations",jN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},ki=new Ri(MN,jN,BN);function r1(t){return t instanceof Rn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1({projectId:t}){return`${DN}/projects/${t}/installations`}function s1(t){return{token:t.token,requestStatus:2,expiresIn:UN(t.expiresIn),creationTime:Date.now()}}async function o1(t,e){const r=(await e.json()).error;return ki.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function a1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function FN(t,{refreshToken:e}){const n=a1(t);return n.append("Authorization",qN(e)),n}async function l1(t){const e=await t();return e.status>=500&&e.status<600?t():e}function UN(t){return Number(t.replace("s","000"))}function qN(t){return`${n1} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=i1(t),i=a1(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:n1,appId:t.appId,sdkVersion:t1},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await l1(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:s1(u.authToken)}}else throw await o1("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=/^[cdef][\w-]{21}$/,Vh="";function zN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=KN(t);return VN.test(n)?n:Vh}catch{return Vh}}function KN(t){return HN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Map;function f1(t,e){const n=ac(t);h1(n,e),GN(n,e)}function h1(t,e){const n=c1.get(t);if(n)for(const r of n)r(e)}function GN(t,e){const n=WN();n&&n.postMessage({key:t,fid:e}),QN()}let yi=null;function WN(){return!yi&&"BroadcastChannel"in self&&(yi=new BroadcastChannel("[Firebase] FID Change"),yi.onmessage=t=>{h1(t.data.key,t.data.fid)}),yi}function QN(){c1.size===0&&yi&&(yi.close(),yi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebase-installations-database",XN=1,Ci="firebase-installations-store";let Lf=null;function Bp(){return Lf||(Lf=RN(YN,XN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ci)}}})),Lf}async function eu(t,e){const n=ac(t),i=(await Bp()).transaction(Ci,"readwrite"),s=i.objectStore(Ci),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&f1(t,e.fid),e}async function d1(t){const e=ac(t),r=(await Bp()).transaction(Ci,"readwrite");await r.objectStore(Ci).delete(e),await r.done}async function lc(t,e){const n=ac(t),i=(await Bp()).transaction(Ci,"readwrite"),s=i.objectStore(Ci),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&f1(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(t){let e;const n=await lc(t.appConfig,r=>{const i=JN(r),s=ZN(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Vh?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function JN(t){const e=t||{fid:zN(),registrationStatus:0};return p1(e)}function ZN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ki.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=eR(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tR(t)}:{installationEntry:e}}async function eR(t,e){try{const n=await $N(t,e);return eu(t.appConfig,n)}catch(n){throw r1(n)&&n.customData.serverCode===409?await d1(t.appConfig):await eu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function tR(t){let e=await mv(t.appConfig);for(;e.registrationStatus===1;)await u1(100),e=await mv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Fp(t);return r||n}return e}function mv(t){return lc(t,e=>{if(!e)throw ki.create("installation-not-found");return p1(e)})}function p1(t){return nR(t)?{fid:t.fid,registrationStatus:0}:t}function nR(t){return t.registrationStatus===1&&t.registrationTime+e1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR({appConfig:t,heartbeatServiceProvider:e},n){const r=iR(t,n),i=FN(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:t1,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await l1(()=>fetch(r,a));if(l.ok){const u=await l.json();return s1(u)}else throw await o1("Generate Auth Token",l)}function iR(t,{fid:e}){return`${i1(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t,e=!1){let n;const r=await lc(t.appConfig,s=>{if(!g1(s))throw ki.create("not-registered");const o=s.authToken;if(!e&&aR(o))return s;if(o.requestStatus===1)return n=sR(t,e),s;{if(!navigator.onLine)throw ki.create("app-offline");const a=uR(s);return n=oR(t,a),a}});return n?await n:r.authToken}async function sR(t,e){let n=await vv(t.appConfig);for(;n.authToken.requestStatus===1;)await u1(100),n=await vv(t.appConfig);const r=n.authToken;return r.requestStatus===0?Up(t,e):r}function vv(t){return lc(t,e=>{if(!g1(e))throw ki.create("not-registered");const n=e.authToken;return cR(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function oR(t,e){try{const n=await rR(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await eu(t.appConfig,r),n}catch(n){if(r1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await d1(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await eu(t.appConfig,r)}throw n}}function g1(t){return t!==void 0&&t.registrationStatus===2}function aR(t){return t.requestStatus===2&&!lR(t)}function lR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+LN}function uR(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function cR(t){return t.requestStatus===1&&t.requestTime+e1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t){const e=t,{installationEntry:n,registrationPromise:r}=await Fp(e);return r?r.catch(console.error):Up(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e=!1){const n=t;return await dR(n),(await Up(n,e)).token}async function dR(t){const{registrationPromise:e}=await Fp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t){if(!t||!t.options)throw Mf("App Configuration");if(!t.name)throw Mf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Mf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Mf(t){return ki.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="installations",gR="installations-internal",mR=t=>{const e=t.getProvider("app").getImmediate(),n=pR(e),r=Pi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vR=t=>{const e=t.getProvider("app").getImmediate(),n=Pi(e,m1).getImmediate();return{getId:()=>fR(n),getToken:i=>hR(n,i)}};function yR(){Wn(new On(m1,mR,"PUBLIC")),Wn(new On(gR,vR,"PRIVATE"))}yR();vn(Zb,jp);vn(Zb,jp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="analytics",_R="firebase_id",bR="origin",wR=60*1e3,ER="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt=new Nu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},an=new Ri("analytics","Analytics",TR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){if(!t.startsWith(qp)){const e=an.create("invalid-gtag-resource",{gtagURL:t});return Jt.warn(e.message),""}return t}function v1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function IR(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function SR(t,e){const n=IR("firebase-js-sdk-policy",{createScriptURL:AR}),r=document.createElement("script"),i=`${qp}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function OR(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function kR(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await v1(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Jt.error(a)}t("config",i,s)}async function CR(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await v1(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Jt.error(s)}}function NR(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await CR(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await kR(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Jt.error(a)}}return i}function RR(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=NR(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function PR(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(qp)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=30,DR=1e3;class LR{constructor(e={},n=DR){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const y1=new LR;function MR(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function jR(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:MR(r)},s=ER.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw an.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function BR(t,e=y1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw an.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw an.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new qR;return setTimeout(async()=>{a.abort()},n!==void 0?n:wR),_1({appId:r,apiKey:i,measurementId:s},o,a,e)}async function _1(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=y1){var s;const{appId:o,measurementId:a}=t;try{await FR(r,e)}catch(l){if(a)return Jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await jR(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!UR(u)){if(i.deleteThrottleMetadata(o),a)return Jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?am(n,i.intervalMillis,xR):am(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),Jt.debug(`Calling attemptFetch again in ${c} millis`),_1(t,h,r,i)}}function FR(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(an.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function UR(t){if(!(t instanceof Rn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class qR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $R(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(){if(T0())try{await A0()}catch(t){return Jt.warn(an.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Jt.warn(an.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VR(t,e,n,r,i,s,o){var a;const l=BR(t);l.then(d=>{n[d.measurementId]=d.appId,t.options.measurementId&&d.measurementId!==t.options.measurementId&&Jt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Jt.error(d)),e.push(l);const u=HR().then(d=>{if(d)return r.getId()}),[c,h]=await Promise.all([l,u]);PR(s)||SR(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[bR]="firebase",f.update=!0,h!=null&&(f[_R]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.app=e}_delete(){return delete To[this.app.options.appId],Promise.resolve()}}let To={},yv=[];const _v={};let jf="dataLayer",KR="gtag",bv,b1,wv=!1;function GR(){const t=[];if(E0()&&t.push("This is a browser extension environment."),YA()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=an.create("invalid-analytics-context",{errorInfo:e});Jt.warn(n.message)}}function WR(t,e,n){GR();const r=t.options.appId;if(!r)throw an.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw an.create("no-api-key");if(To[r]!=null)throw an.create("already-exists",{id:r});if(!wv){OR(jf);const{wrappedGtag:s,gtagCore:o}=RR(To,yv,_v,jf,KR);b1=s,bv=o,wv=!0}return To[r]=VR(t,yv,_v,e,bv,jf,n),new zR(t)}function QR(t=xd()){t=st(t);const e=Pi(t,tu);return e.isInitialized()?e.getImmediate():YR(t)}function YR(t,e={}){const n=Pi(t,tu);if(n.isInitialized()){const i=n.getImmediate();if(Fo(e,n.getOptions()))return i;throw an.create("already-initialized")}return n.initialize({options:e})}function XR(t,e,n,r){t=st(t),$R(b1,To[t.app.options.appId],e,n,r).catch(i=>Jt.error(i))}const Ev="@firebase/analytics",Tv="0.10.0";function JR(){Wn(new On(tu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return WR(r,i,n)},"PUBLIC")),Wn(new On("analytics-internal",t,"PRIVATE")),vn(Ev,Tv),vn(Ev,Tv,"esm2017");function t(e){try{const n=e.getProvider(tu).getImmediate();return{logEvent:(r,i,s)=>XR(n,r,i,s)}}catch(n){throw an.create("interop-component-reg-failed",{reason:n})}}}JR();function $p(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function w1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZR=w1,E1=new Ri("auth","Firebase",w1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=new Nu("@firebase/auth");function eP(t,...e){nu.logLevel<=Me.WARN&&nu.warn(`Auth (${Os}): ${t}`,...e)}function Il(t,...e){nu.logLevel<=Me.ERROR&&nu.error(`Auth (${Os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw Hp(t,...e)}function zn(t,...e){return Hp(t,...e)}function T1(t,e,n){const r=Object.assign(Object.assign({},ZR()),{[e]:n});return new Ri("auth","Firebase",r).create(e,{appName:t.name})}function tP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yn(t,"argument-error"),T1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return E1.create(t,...e)}function ke(t,e,...n){if(!t)throw Hp(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Il(e),new Error(e)}function yr(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nP(){return Av()==="http:"||Av()==="https:"}function Av(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nP()||E0()||"connection"in navigator)?navigator.onLine:!0}function iP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=GA()||WA()}get(){return rP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new Oa(3e4,6e4);function I1(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ka(t,e,n,r,i={}){return S1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=la(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),A1.fetch()(O1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function S1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sP),e);try{const i=new lP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw cl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw cl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw cl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw T1(t,c,u);Yn(t,c)}}catch(i){if(i instanceof Rn)throw i;Yn(t,"network-request-failed",{message:String(i)})}}async function aP(t,e,n,r,i={}){const s=await ka(t,e,n,r,i);return"mfaPendingCredential"in s&&Yn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function O1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Vp(t.config,i):`${t.config.apiScheme}://${i}`}class lP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),oP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(t,e){return ka(t,"POST","/v1/accounts:delete",e)}async function cP(t,e){return ka(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fP(t,e=!1){const n=st(t),r=await n.getIdToken(e),i=zp(r);ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ao(Bf(i.auth_time)),issuedAtTime:Ao(Bf(i.iat)),expirationTime:Ao(Bf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Bf(t){return Number(t)*1e3}function zp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Il("JWT malformed, contained fewer than 3 sections"),null;try{const i=y0(n);return i?JSON.parse(i):(Il("Failed to decode base64 JWT payload"),null)}catch(i){return Il("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hP(t){const e=zp(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rn&&dP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t){var e;const n=t.auth,r=await t.getIdToken(),i=await na(t,cP(n,{idToken:r}));ke(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vP(s.providerUserInfo):[],a=mP(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new k1(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function gP(t){const e=st(t);await ru(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vP(t){return t.map(e=>{var{providerId:n}=e,r=$p(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(t,e){const n=await S1(t,{},async()=>{const r=la({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=O1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",A1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ke(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await yP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ra;return r&&(ke(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ke(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ra,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new k1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await na(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fP(this,e)}reload(){return gP(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ru(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await na(this,uP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:y,isAnonymous:E,providerData:k,stsTokenManager:S}=n;ke(b&&S,e,"internal-error");const I=ra.fromJSON(this.name,S);ke(typeof b=="string",e,"internal-error"),Or(h,e.name),Or(f,e.name),ke(typeof y=="boolean",e,"internal-error"),ke(typeof E=="boolean",e,"internal-error"),Or(d,e.name),Or(p,e.name),Or(g,e.name),Or(_,e.name),Or(m,e.name),Or(v,e.name);const R=new Ti({uid:b,auth:e,email:f,emailVerified:y,displayName:h,isAnonymous:E,photoURL:p,phoneNumber:d,tenantId:g,stsTokenManager:I,createdAt:m,lastLoginAt:v});return k&&Array.isArray(k)&&(R.providerData=k.map(O=>Object.assign({},O))),_&&(R._redirectEventId=_),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new ra;i.updateFromServerResponse(n);const s=new Ti({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ru(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;function ur(t){yr(t instanceof Function,"Expected a class definition");let e=Iv.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Iv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C1.type="NONE";const Sv=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t,e,n){return`firebase:${t}:${e}:${n}`}class ss{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Sl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Sl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ss(ur(Sv),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ur(Sv);const o=Sl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=Ti._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ss(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new ss(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D1(e))return"Blackberry";if(L1(e))return"Webos";if(Kp(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(x1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function N1(t=Lt()){return/firefox\//i.test(t)}function Kp(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(t=Lt()){return/crios\//i.test(t)}function P1(t=Lt()){return/iemobile/i.test(t)}function x1(t=Lt()){return/android/i.test(t)}function D1(t=Lt()){return/blackberry/i.test(t)}function L1(t=Lt()){return/webos/i.test(t)}function uc(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _P(t=Lt()){var e;return uc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bP(){return QA()&&document.documentMode===10}function M1(t=Lt()){return uc(t)||x1(t)||L1(t)||D1(t)||/windows phone/i.test(t)||P1(t)}function wP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e=[]){let n;switch(t){case"Browser":n=Ov(Lt());break;case"Worker":n=`${Ov(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${r}`}async function B1(t,e){return ka(t,"GET","/v2/recaptchaConfig",I1(t,e))}function kv(t){return t!==void 0&&t.enterprise!==void 0}class F1{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function U1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",EP().appendChild(r)})}function TP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const AP="https://www.google.com/recaptcha/enterprise.js?render=",IP="recaptcha-enterprise",SP="NO_RECAPTCHA";class OP{constructor(e){this.type=IP,this.auth=Ca(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{B1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new F1(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;kv(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(SP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&kv(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}U1(AP+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new kP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ss.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ru(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?st(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}async initializeRecaptchaConfig(){const e=await B1(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new F1(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new OP(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ri("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await ss.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ca(t){return st(t)}class Cv{constructor(e){this.auth=e,this.observer=null,this.addObserver=tI(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e){const n=Pi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fo(s,e??{}))return i;Yn(i,"already-initialized")}return n.initialize({options:e})}function RP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PP(t,e,n){const r=Ca(t);ke(r._canInitEmulator,r,"emulator-config-failed"),ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=q1(e),{host:o,port:a}=xP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||DP()}function q1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xP(t){const e=q1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Nv(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Nv(o)}}}function Nv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function os(t,e){return aP(t,"POST","/v1/accounts:signInWithIdp",I1(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="http://localhost";class Ni extends $1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=$p(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ni(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return os(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,os(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,os(e,n)}buildRequest(){const e={requestUri:LP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=la(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Gp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Na{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Na{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ni._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Na{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Na{constructor(){super("twitter.com")}static credential(e,n){return Ni._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ti._fromIdTokenResponse(e,r,i),o=Rv(r);return new bs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Rv(r);return new bs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Rv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Rn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,iu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new iu(e,n,r,i)}}function H1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?iu._fromErrorAndOperation(t,s,e,r):s})}async function MP(t,e,n=!1){const r=await na(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await na(t,H1(r,i,e,t),n);ke(s.idToken,r,"internal-error");const o=zp(s.idToken);ke(o,r,"internal-error");const{sub:a}=o;return ke(t.uid===a,r,"user-mismatch"),bs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e,n=!1){const r="signIn",i=await H1(t,r,e),s=await bs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t,e){return st(t).setPersistence(e)}function UP(t,e,n,r){return st(t).onIdTokenChanged(e,n,r)}function qP(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function BM(t,e,n,r){return st(t).onAuthStateChanged(e,n,r)}function FM(t){return st(t).signOut()}const su="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(su,"1"),this.storage.removeItem(su),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){const t=Lt();return Kp(t)||uc(t)}const HP=1e3,VP=10;class z1 extends V1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$P()&&wP(),this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);bP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},HP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}z1.type="LOCAL";const zP=z1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends V1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}K1.type="SESSION";const Wp=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await KP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Qp("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function WP(t){Kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function QP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function XP(){return G1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="firebaseLocalStorageDb",JP=1,ou="firebaseLocalStorage",Q1="fbase_key";class Ra{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fc(t,e){return t.transaction([ou],e?"readwrite":"readonly").objectStore(ou)}function ZP(){const t=indexedDB.deleteDatabase(W1);return new Ra(t).toPromise()}function Kh(){const t=indexedDB.open(W1,JP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ou,{keyPath:Q1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ou)?e(r):(r.close(),await ZP(),e(await Kh()))})})}async function Pv(t,e,n){const r=fc(t,!0).put({[Q1]:e,value:n});return new Ra(r).toPromise()}async function ex(t,e){const n=fc(t,!1).get(e),r=await new Ra(n).toPromise();return r===void 0?null:r.value}function xv(t,e){const n=fc(t,!0).delete(e);return new Ra(n).toPromise()}const tx=800,nx=3;class Y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cc._getInstance(XP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QP(),!this.activeServiceWorker)return;this.sender=new GP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kh();return await Pv(e,su,"1"),await xv(e,su),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Pv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ex(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fc(i,!1).getAll();return new Ra(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y1.type="LOCAL";const rx=Y1;new Oa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t,e){return e?ur(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends $1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return os(e,this._buildIdpRequest())}_linkToIdToken(e,n){return os(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return os(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ix(t){return BP(t.auth,new Yp(t),t.bypassAuthState)}function sx(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),jP(n,new Yp(t),t.bypassAuthState)}async function ox(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),MP(n,new Yp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ix;case"linkViaPopup":case"linkViaRedirect":return ox;case"reauthViaPopup":case"reauthViaRedirect":return sx;default:Yn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=new Oa(2e3,1e4);async function lx(t,e,n){const r=Ca(t);tP(t,e,Gp);const i=X1(r,n);return new _i(r,"signInViaPopup",e,i).executeNotNull()}class _i extends J1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_i.currentPopupAction&&_i.currentPopupAction.cancel(),_i.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_i.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ax.get())};e()}}_i.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="pendingRedirect",Ol=new Map;class cx extends J1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ol.get(this.auth._key());if(!e){try{const r=await fx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ol.set(this.auth._key(),e)}return this.bypassAuthState||Ol.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fx(t,e){const n=px(e),r=dx(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hx(t,e){Ol.set(t._key(),e)}function dx(t){return ur(t._redirectPersistence)}function px(t){return Sl(ux,t.config.apiKey,t.name)}async function gx(t,e,n=!1){const r=Ca(t),i=X1(r,e),o=await new cx(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=10*60*1e3;class vx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Z1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dv(e))}saveEventToCache(e){this.cachedEventUids.add(Dv(e)),this.lastProcessedEventTime=Date.now()}}function Dv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Z1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(t,e={}){return ka(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wx=/^https?/;async function Ex(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _x(t);for(const n of e)try{if(Tx(n))return}catch{}Yn(t,"unauthorized-domain")}function Tx(t){const e=zh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!wx.test(n))return!1;if(bx.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Oa(3e4,6e4);function Lv(){const t=Kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ix(t){return new Promise((e,n)=>{var r,i,s;function o(){Lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lv(),n(zn(t,"network-request-failed"))},timeout:Ax.get()})}if(!((i=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kn().gapi)===null||s===void 0)&&s.load)o();else{const a=TP("iframefcb");return Kn()[a]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},U1(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kl=null,e})}let kl=null;function Sx(t){return kl=kl||Ix(t),kl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new Oa(5e3,15e3),kx="__/auth/iframe",Cx="emulator/auth/iframe",Nx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Px(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vp(e,Cx):`https://${t.config.authDomain}/${kx}`,r={apiKey:e.apiKey,appName:t.name,v:Os},i=Rx.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${la(r).slice(1)}`}async function xx(t){const e=await Sx(t),n=Kn().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:Px(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nx,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zn(t,"network-request-failed"),a=Kn().setTimeout(()=>{s(o)},Ox.get());function l(){Kn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lx=500,Mx=600,jx="_blank",Bx="http://localhost";class Mv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fx(t,e,n,r=Lx,i=Mx){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Dx),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Lt().toLowerCase();n&&(a=R1(u)?jx:n),N1(u)&&(e=e||Bx,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(_P(u)&&a!=="_self")return Ux(e||"",a),new Mv(null);const h=window.open(e||"",a,c);ke(h,t,"popup-blocked");try{h.focus()}catch{}return new Mv(h)}function Ux(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="__/auth/handler",$x="emulator/auth/handler",Hx=encodeURIComponent("fac");async function jv(t,e,n,r,i,s){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Os,eventId:i};if(e instanceof Gp){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",eI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Na){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Hx}=${encodeURIComponent(l)}`:"";return`${Vx(t)}?${la(a).slice(1)}${u}`}function Vx({config:t}){return t.emulator?Vp(t,$x):`https://${t.authDomain}/${qx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class zx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wp,this._completeRedirectFn=gx,this._overrideRedirectResult=hx}async _openPopup(e,n,r,i){var s;yr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jv(e,n,r,zh(),i);return Fx(e,o,Qp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jv(e,n,r,zh(),i);return WP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xx(e),r=new vx(e);return n.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ff,{type:Ff},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ff];o!==void 0&&n(!!o),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ex(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M1()||Kp()||uc()}}const Kx=zx;var Bv="@firebase/auth",Fv="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Qx(t){Wn(new On("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(t)},u=new CP(r,i,s,l);return RP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wn(new On("auth-internal",e=>{const n=Ca(e.getProvider("auth").getImmediate());return(r=>new Gx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(Bv,Fv,Wx(t)),vn(Bv,Fv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=5*60,Xx=w0("authIdTokenMaxAge")||Yx;let Uv=null;const Jx=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Xx)return;const i=n==null?void 0:n.token;Uv!==i&&(Uv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Zx(t=xd()){const e=Pi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=NP(t,{popupRedirectResolver:Kx,persistence:[rx,zP,Wp]}),r=w0("authTokenSyncURL");if(r){const s=Jx(r);qP(n,s,()=>s(n.currentUser)),UP(n,o=>s(o))}const i=_0("auth");return i&&PP(n,`http://${i}`),n}Qx("Browser");const eD={apiKey:"AIzaSyCprJk8q_WfSlpGSNvtK_S1kRzDzEXG3A0",authDomain:"app-emt.firebaseapp.com",projectId:"app-emt",storageBucket:"app-emt.appspot.com",messagingSenderId:"461077002545",appId:"1:461077002545:web:d7b026093bd1094efdd810",measurementId:"G-GJN54DHEWQ"},Xp=O0(eD);QR(Xp);const li=nN(Xp),qv=Zx(Xp),dn=p0(()=>{const t=Ut({isAuthenticated:!1,tryToAuthenticated:!1}),e=Ut({isTeacher:!1,id:null,appData:{name:"",class:"",ruleNumber:""},evaluation:{}});return{userStatus:t,user:e,registerUser:()=>new Promise(r=>{dn().user.appData.name&&dn().user.appData.class&&dn().user.appData.ruleNumber?(dn().userStatus.tryToAuthenticated=!0,setTimeout(()=>{au.registerUser().then(()=>{dn().userStatus.tryToAuthenticated=!1,dn().user.status="active",setTimeout(()=>{r(!0)},3e3)})},3e3)):alert("data tidak boleh kosong")})}}),au={getAppCollection:t=>new Promise(async(e,n)=>{const r=Sf(li,t),i=await Cf(Of(r,kf("appName","==",t),cv(1)));if(i.empty)setTimeout(async()=>{await Nf(Ki(r),{appName:t,buildTime:bN()}),n(!1)},3e3);else{let s=0;const o={};i.forEach(a=>{s++,o[`${a.id}`]=a.data(),Ot().appData.appRef=`${t}/${a.id}`,s===i.size&&e(!0)})}}),getUserData:(t,e)=>new Promise(async n=>{const r=Sf(li,String(Ot().appData.appRef),"users"),i=await Cf(Of(r,kf("email","==",t),cv(1))),s=ht();i.empty?setTimeout(async()=>{await Nf(Ki(r),{email:t,registeredAt:Number(sr().value),isTeacher:!1,data:{...e==null?void 0:e.providerData[0]},appData:{name:e==null?void 0:e.providerData[0].displayName},status:"nonactive"}).then(()=>{au.getUserData(t,e)})},3e3):i.forEach(o=>{s.value={...o.data()},s.value.id=o.id,n(s.value)})}),registerUser:()=>new Promise(async t=>{const e=Ki(li,String(Ot().appData.appRef),`users/${dn().user.id}`);dn().user.appData.evaluation={};const n={appData:dn().user.appData,status:"active"},r=await Rf(e,n);t({status:!0,reason:r})}),updateUserAppData:()=>new Promise(async t=>{const e=Ki(li,String(Ot().appData.appRef),`users/${dn().user.id}`),n={appData:dn().user.appData},r=await Rf(e,n);t({status:!0,reason:r})}),getAllStudentData:()=>new Promise(async(t,e)=>{const n=Sf(li,String(Ot().appData.appRef),"users"),r=await Cf(Of(n,kf("isTeacher","==",!1)));Ot().allStudent.isGettingData=!0,setTimeout(()=>{if(r.empty)e(!1),Ot().allStudent.isGettingData=!1,Ot().allStudent.lastGettingData=sr().value;else{let i=[];r.forEach(s=>{i.push(s.data()),Object.keys(i).length===r.size&&(Ot().allStudent.data=i,t(i),Ot().allStudent.isGettingData=!1,Ot().allStudent.lastGettingData=sr().value)})}},3e3)}),getContentDoc:(t,e)=>new Promise(async(n,r)=>{const i=Ki(li,`${Ot().appData.appRef}/${t}`,e),s=await yN(i);s.exists()?n(s.data()):(Nf(i,{name:e,subContent:{}}),setTimeout(()=>{au.getContentDoc(t,e).then(a=>console.log(a)),r(!1)},3e3))}),updateContentDoc:(t,e,n)=>new Promise(async r=>{const i=Ki(li,`${Ot().appData.appRef}/${t}`,e),s=await Rf(i,n);r({status:!0,reason:s})})},tD={tryToAuthenticationUser:()=>new Promise(async t=>{FP(qv,Wp).then(async()=>{const e=new or;try{const r=(await lx(qv,e)).user.providerData;t({success:!!r,user:r})}catch(n){t({success:!n,user:null})}})})};var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ew(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ut={},Jp={},Zp={},Pa={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});var nD=`
`;Vt.NewLine=nD;var Gh;(function(t){t.Ordered="ordered",t.Bullet="bullet",t.Checked="checked",t.Unchecked="unchecked"})(Gh||(Gh={}));Vt.ListType=Gh;var Wh;(function(t){t.Sub="sub",t.Super="super"})(Wh||(Wh={}));Vt.ScriptType=Wh;var Qh;(function(t){t.Rtl="rtl"})(Qh||(Qh={}));Vt.DirectionType=Qh;var Yh;(function(t){t.Left="left",t.Center="center",t.Right="right",t.Justify="justify"})(Yh||(Yh={}));Vt.AlignType=Yh;var Xh;(function(t){t.Image="image",t.Video="video",t.Formula="formula",t.Text="text"})(Xh||(Xh={}));Vt.DataType=Xh;var Jh;(function(t){t.Block="block",t.InlineGroup="inline-group",t.List="list",t.Video="video",t.Table="table"})(Jh||(Jh={}));Vt.GroupType=Jh;var xs={};Object.defineProperty(xs,"__esModule",{value:!0});var rD=function(){function t(e,n){this.type=e,this.value=n}return t}();xs.InsertDataQuill=rD;var iD=function(){function t(e,n){this.type=e,this.value=n}return t}();xs.InsertDataCustom=iD;var lu={exports:{}};lu.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",h="[object Date]",f="[object Error]",d="[object Function]",p="[object GeneratorFunction]",g="[object Map]",_="[object Number]",m="[object Null]",v="[object Object]",b="[object Promise]",y="[object Proxy]",E="[object RegExp]",k="[object Set]",S="[object String]",I="[object Symbol]",R="[object Undefined]",O="[object WeakMap]",T="[object ArrayBuffer]",A="[object DataView]",C="[object Float32Array]",D="[object Float64Array]",q="[object Int8Array]",Q="[object Int16Array]",Y="[object Int32Array]",ie="[object Uint8Array]",X="[object Uint8ClampedArray]",B="[object Uint16Array]",N="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,U=/^\[object .+?Constructor\]$/,J=/^(?:0|[1-9]\d*)$/,K={};K[C]=K[D]=K[q]=K[Q]=K[Y]=K[ie]=K[X]=K[B]=K[N]=!0,K[a]=K[l]=K[T]=K[c]=K[A]=K[h]=K[f]=K[d]=K[g]=K[_]=K[v]=K[E]=K[k]=K[S]=K[O]=!1;var L=typeof qe=="object"&&qe&&qe.Object===Object&&qe,x=typeof self=="object"&&self&&self.Object===Object&&self,V=L||x||Function("return this")(),$=e&&!e.nodeType&&e,ee=$&&!0&&t&&!t.nodeType&&t,fe=ee&&ee.exports===$,M=fe&&L.process,F=function(){try{return M&&M.binding&&M.binding("util")}catch{}}(),z=F&&F.isTypedArray;function re(w,P){for(var H=-1,oe=w==null?0:w.length,Se=0,ye=[];++H<oe;){var Pe=w[H];P(Pe,H,w)&&(ye[Se++]=Pe)}return ye}function se(w,P){for(var H=-1,oe=P.length,Se=w.length;++H<oe;)w[Se+H]=P[H];return w}function ae(w,P){for(var H=-1,oe=w==null?0:w.length;++H<oe;)if(P(w[H],H,w))return!0;return!1}function W(w,P){for(var H=-1,oe=Array(w);++H<w;)oe[H]=P(H);return oe}function G(w){return function(P){return w(P)}}function te(w,P){return w.has(P)}function Z(w,P){return w==null?void 0:w[P]}function ne(w){var P=-1,H=Array(w.size);return w.forEach(function(oe,Se){H[++P]=[Se,oe]}),H}function ue(w,P){return function(H){return w(P(H))}}function ce(w){var P=-1,H=Array(w.size);return w.forEach(function(oe){H[++P]=oe}),H}var de=Array.prototype,be=Function.prototype,Ie=Object.prototype,me=V["__core-js_shared__"],He=be.toString,Te=Ie.hasOwnProperty,Je=function(){var w=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),Yr=Ie.toString,Xn=RegExp("^"+He.call(Te).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wr=fe?V.Buffer:void 0,Ze=V.Symbol,jt=V.Uint8Array,Jn=Ie.propertyIsEnumerable,Xr=de.splice,_n=Ze?Ze.toStringTag:void 0,Bi=Object.getOwnPropertySymbols,Ls=wr?wr.isBuffer:void 0,Jr=ue(Object.keys,Object),Ms=er(V,"DataView"),Zr=er(V,"Map"),js=er(V,"Promise"),Bs=er(V,"Set"),Fs=er(V,"WeakMap"),Er=er(Object,"create"),Ma=Bt(Ms),Zn=Bt(Zr),vc=Bt(js),yc=Bt(Bs),_c=Bt(Fs),ja=Ze?Ze.prototype:void 0,Us=ja?ja.valueOf:void 0;function gt(w){var P=-1,H=w==null?0:w.length;for(this.clear();++P<H;){var oe=w[P];this.set(oe[0],oe[1])}}function bc(){this.__data__=Er?Er(null):{},this.size=0}function wc(w){var P=this.has(w)&&delete this.__data__[w];return this.size-=P?1:0,P}function Ec(w){var P=this.__data__;if(Er){var H=P[w];return H===r?void 0:H}return Te.call(P,w)?P[w]:void 0}function Tc(w){var P=this.__data__;return Er?P[w]!==void 0:Te.call(P,w)}function Ac(w,P){var H=this.__data__;return this.size+=this.has(w)?0:1,H[w]=Er&&P===void 0?r:P,this}gt.prototype.clear=bc,gt.prototype.delete=wc,gt.prototype.get=Ec,gt.prototype.has=Tc,gt.prototype.set=Ac;function Tt(w){var P=-1,H=w==null?0:w.length;for(this.clear();++P<H;){var oe=w[P];this.set(oe[0],oe[1])}}function Ic(){this.__data__=[],this.size=0}function Sc(w){var P=this.__data__,H=qi(P,w);if(H<0)return!1;var oe=P.length-1;return H==oe?P.pop():Xr.call(P,H,1),--this.size,!0}function Oc(w){var P=this.__data__,H=qi(P,w);return H<0?void 0:P[H][1]}function kc(w){return qi(this.__data__,w)>-1}function Cc(w,P){var H=this.__data__,oe=qi(H,w);return oe<0?(++this.size,H.push([w,P])):H[oe][1]=P,this}Tt.prototype.clear=Ic,Tt.prototype.delete=Sc,Tt.prototype.get=Oc,Tt.prototype.has=kc,Tt.prototype.set=Cc;function Kt(w){var P=-1,H=w==null?0:w.length;for(this.clear();++P<H;){var oe=w[P];this.set(oe[0],oe[1])}}function Nc(){this.size=0,this.__data__={hash:new gt,map:new(Zr||Tt),string:new gt}}function Rc(w){var P=bn(this,w).delete(w);return this.size-=P?1:0,P}function Pc(w){return bn(this,w).get(w)}function xc(w){return bn(this,w).has(w)}function Dc(w,P){var H=bn(this,w),oe=H.size;return H.set(w,P),this.size+=H.size==oe?0:1,this}Kt.prototype.clear=Nc,Kt.prototype.delete=Rc,Kt.prototype.get=Pc,Kt.prototype.has=xc,Kt.prototype.set=Dc;function Fi(w){var P=-1,H=w==null?0:w.length;for(this.__data__=new Kt;++P<H;)this.add(w[P])}function Ba(w){return this.__data__.set(w,r),this}function Ui(w){return this.__data__.has(w)}Fi.prototype.add=Fi.prototype.push=Ba,Fi.prototype.has=Ui;function Pn(w){var P=this.__data__=new Tt(w);this.size=P.size}function qs(){this.__data__=new Tt,this.size=0}function Lc(w){var P=this.__data__,H=P.delete(w);return this.size=P.size,H}function Mc(w){return this.__data__.get(w)}function jc(w){return this.__data__.has(w)}function Bc(w,P){var H=this.__data__;if(H instanceof Tt){var oe=H.__data__;if(!Zr||oe.length<n-1)return oe.push([w,P]),this.size=++H.size,this;H=this.__data__=new Kt(oe)}return H.set(w,P),this.size=H.size,this}Pn.prototype.clear=qs,Pn.prototype.delete=Lc,Pn.prototype.get=Mc,Pn.prototype.has=jc,Pn.prototype.set=Bc;function Fc(w,P){var H=$i(w),oe=!H&&Ha(w),Se=!H&&!oe&&Hi(w),ye=!H&&!oe&&!Se&&Ka(w),Pe=H||oe||Se||ye,De=Pe?W(w.length,String):[],et=De.length;for(var Fe in w)(P||Te.call(w,Fe))&&!(Pe&&(Fe=="length"||Se&&(Fe=="offset"||Fe=="parent")||ye&&(Fe=="buffer"||Fe=="byteLength"||Fe=="byteOffset")||Gc(Fe,et)))&&De.push(Fe);return De}function qi(w,P){for(var H=w.length;H--;)if($a(w[H][0],P))return H;return-1}function $s(w,P,H){var oe=P(w);return $i(w)?oe:se(oe,H(w))}function ei(w){return w==null?w===void 0?R:m:_n&&_n in Object(w)?tr(w):qa(w)}function Fa(w){return Dn(w)&&ei(w)==a}function Ua(w,P,H,oe,Se){return w===P?!0:w==null||P==null||!Dn(w)&&!Dn(P)?w!==w&&P!==P:Uc(w,P,H,oe,Ua,Se)}function Uc(w,P,H,oe,Se,ye){var Pe=$i(w),De=$i(P),et=Pe?l:xn(w),Fe=De?l:xn(P);et=et==a?v:et,Fe=Fe==a?v:Fe;var At=et==v,Gt=Fe==v,ot=et==Fe;if(ot&&Hi(w)){if(!Hi(P))return!1;Pe=!0,At=!1}if(ot&&!At)return ye||(ye=new Pn),Pe||Ka(w)?Hs(w,P,H,oe,Se,ye):Vc(w,P,et,H,oe,Se,ye);if(!(H&i)){var It=At&&Te.call(w,"__wrapped__"),mt=Gt&&Te.call(P,"__wrapped__");if(It||mt){var Tr=It?w.value():w,nr=mt?P.value():P;return ye||(ye=new Pn),Se(Tr,nr,H,oe,ye)}}return ot?(ye||(ye=new Pn),zc(w,P,H,oe,Se,ye)):!1}function qc(w){if(!za(w)||Qc(w))return!1;var P=Va(w)?Xn:U;return P.test(Bt(w))}function $c(w){return Dn(w)&&zs(w.length)&&!!K[ei(w)]}function Hc(w){if(!Yc(w))return Jr(w);var P=[];for(var H in Object(w))Te.call(w,H)&&H!="constructor"&&P.push(H);return P}function Hs(w,P,H,oe,Se,ye){var Pe=H&i,De=w.length,et=P.length;if(De!=et&&!(Pe&&et>De))return!1;var Fe=ye.get(w);if(Fe&&ye.get(P))return Fe==P;var At=-1,Gt=!0,ot=H&s?new Fi:void 0;for(ye.set(w,P),ye.set(P,w);++At<De;){var It=w[At],mt=P[At];if(oe)var Tr=Pe?oe(mt,It,At,P,w,ye):oe(It,mt,At,w,P,ye);if(Tr!==void 0){if(Tr)continue;Gt=!1;break}if(ot){if(!ae(P,function(nr,ni){if(!te(ot,ni)&&(It===nr||Se(It,nr,H,oe,ye)))return ot.push(ni)})){Gt=!1;break}}else if(!(It===mt||Se(It,mt,H,oe,ye))){Gt=!1;break}}return ye.delete(w),ye.delete(P),Gt}function Vc(w,P,H,oe,Se,ye,Pe){switch(H){case A:if(w.byteLength!=P.byteLength||w.byteOffset!=P.byteOffset)return!1;w=w.buffer,P=P.buffer;case T:return!(w.byteLength!=P.byteLength||!ye(new jt(w),new jt(P)));case c:case h:case _:return $a(+w,+P);case f:return w.name==P.name&&w.message==P.message;case E:case S:return w==P+"";case g:var De=ne;case k:var et=oe&i;if(De||(De=ce),w.size!=P.size&&!et)return!1;var Fe=Pe.get(w);if(Fe)return Fe==P;oe|=s,Pe.set(w,P);var At=Hs(De(w),De(P),oe,Se,ye,Pe);return Pe.delete(w),At;case I:if(Us)return Us.call(w)==Us.call(P)}return!1}function zc(w,P,H,oe,Se,ye){var Pe=H&i,De=ti(w),et=De.length,Fe=ti(P),At=Fe.length;if(et!=At&&!Pe)return!1;for(var Gt=et;Gt--;){var ot=De[Gt];if(!(Pe?ot in P:Te.call(P,ot)))return!1}var It=ye.get(w);if(It&&ye.get(P))return It==P;var mt=!0;ye.set(w,P),ye.set(P,w);for(var Tr=Pe;++Gt<et;){ot=De[Gt];var nr=w[ot],ni=P[ot];if(oe)var mg=Pe?oe(ni,nr,ot,P,w,ye):oe(nr,ni,ot,w,P,ye);if(!(mg===void 0?nr===ni||Se(nr,ni,H,oe,ye):mg)){mt=!1;break}Tr||(Tr=ot=="constructor")}if(mt&&!Tr){var Ga=w.constructor,Wa=P.constructor;Ga!=Wa&&"constructor"in w&&"constructor"in P&&!(typeof Ga=="function"&&Ga instanceof Ga&&typeof Wa=="function"&&Wa instanceof Wa)&&(mt=!1)}return ye.delete(w),ye.delete(P),mt}function ti(w){return $s(w,Ks,Kc)}function bn(w,P){var H=w.__data__;return Wc(P)?H[typeof P=="string"?"string":"hash"]:H.map}function er(w,P){var H=Z(w,P);return qc(H)?H:void 0}function tr(w){var P=Te.call(w,_n),H=w[_n];try{w[_n]=void 0;var oe=!0}catch{}var Se=Yr.call(w);return oe&&(P?w[_n]=H:delete w[_n]),Se}var Kc=Bi?function(w){return w==null?[]:(w=Object(w),re(Bi(w),function(P){return Jn.call(w,P)}))}:Jc,xn=ei;(Ms&&xn(new Ms(new ArrayBuffer(1)))!=A||Zr&&xn(new Zr)!=g||js&&xn(js.resolve())!=b||Bs&&xn(new Bs)!=k||Fs&&xn(new Fs)!=O)&&(xn=function(w){var P=ei(w),H=P==v?w.constructor:void 0,oe=H?Bt(H):"";if(oe)switch(oe){case Ma:return A;case Zn:return g;case vc:return b;case yc:return k;case _c:return O}return P});function Gc(w,P){return P=P??o,!!P&&(typeof w=="number"||J.test(w))&&w>-1&&w%1==0&&w<P}function Wc(w){var P=typeof w;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?w!=="__proto__":w===null}function Qc(w){return!!Je&&Je in w}function Yc(w){var P=w&&w.constructor,H=typeof P=="function"&&P.prototype||Ie;return w===H}function qa(w){return Yr.call(w)}function Bt(w){if(w!=null){try{return He.call(w)}catch{}try{return w+""}catch{}}return""}function $a(w,P){return w===P||w!==w&&P!==P}var Ha=Fa(function(){return arguments}())?Fa:function(w){return Dn(w)&&Te.call(w,"callee")&&!Jn.call(w,"callee")},$i=Array.isArray;function Vs(w){return w!=null&&zs(w.length)&&!Va(w)}var Hi=Ls||Zc;function Xc(w,P){return Ua(w,P)}function Va(w){if(!za(w))return!1;var P=ei(w);return P==d||P==p||P==u||P==y}function zs(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=o}function za(w){var P=typeof w;return w!=null&&(P=="object"||P=="function")}function Dn(w){return w!=null&&typeof w=="object"}var Ka=z?G(z):$c;function Ks(w){return Vs(w)?Fc(w):Hc(w)}function Jc(){return[]}function Zc(){return!1}t.exports=Xc})(lu,lu.exports);var eg=lu.exports,sD=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pa,"__esModule",{value:!0});var en=Vt,$v=xs,oD=sD(eg),aD=function(){function t(e,n){typeof e=="string"&&(e=new $v.InsertDataQuill(en.DataType.Text,e+"")),this.insert=e,this.attributes=n||{}}return t.createNewLineOp=function(){return new t(en.NewLine)},t.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},t.prototype.isBlockAttribute=function(){var e=this.attributes;return!!(e.align||e.direction||e.indent)},t.prototype.isBlockquote=function(){return!!this.attributes.blockquote},t.prototype.isHeader=function(){return!!this.attributes.header},t.prototype.isTable=function(){return!!this.attributes.table},t.prototype.isSameHeaderAs=function(e){return e.attributes.header===this.attributes.header&&this.isHeader()},t.prototype.hasSameAdiAs=function(e){return this.attributes.align===e.attributes.align&&this.attributes.direction===e.attributes.direction&&this.attributes.indent===e.attributes.indent},t.prototype.hasSameIndentationAs=function(e){return this.attributes.indent===e.attributes.indent},t.prototype.hasSameAttr=function(e){return oD.default(this.attributes,e.attributes)},t.prototype.hasHigherIndentThan=function(e){return(Number(this.attributes.indent)||0)>(Number(e.attributes.indent)||0)},t.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},t.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},t.prototype.hasSameLangAs=function(e){return this.attributes["code-block"]===e.attributes["code-block"]},t.prototype.isJustNewline=function(){return this.insert.value===en.NewLine},t.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},t.prototype.isOrderedList=function(){return this.attributes.list===en.ListType.Ordered},t.prototype.isBulletList=function(){return this.attributes.list===en.ListType.Bullet},t.prototype.isCheckedList=function(){return this.attributes.list===en.ListType.Checked},t.prototype.isUncheckedList=function(){return this.attributes.list===en.ListType.Unchecked},t.prototype.isACheckList=function(){return this.attributes.list==en.ListType.Unchecked||this.attributes.list===en.ListType.Checked},t.prototype.isSameListAs=function(e){return!!e.attributes.list&&(this.attributes.list===e.attributes.list||e.isACheckList()&&this.isACheckList())},t.prototype.isSameTableRowAs=function(e){return!!e.isTable()&&this.isTable()&&this.attributes.table===e.attributes.table},t.prototype.isText=function(){return this.insert.type===en.DataType.Text},t.prototype.isImage=function(){return this.insert.type===en.DataType.Image},t.prototype.isFormula=function(){return this.insert.type===en.DataType.Formula},t.prototype.isVideo=function(){return this.insert.type===en.DataType.Video},t.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},t.prototype.isCustomEmbed=function(){return this.insert instanceof $v.InsertDataCustom},t.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},t.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},t.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},t}();Pa.DeltaInsertOp=aD;var hc={},tg={},xa={},ng={};Object.defineProperty(ng,"__esModule",{value:!0});function lD(t){var e=t;e=e.replace(/^\s*/gm,"");var n=/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/;return n.test(e)?e:"unsafe:"+e}ng.sanitize=lD;var br={};Object.defineProperty(br,"__esModule",{value:!0});var ws;(function(t){t[t.Html=0]="Html",t[t.Url=1]="Url"})(ws||(ws={}));function uD(t,e){if(e===void 0&&(e=void 0),!t)return"";var n="";if(e){var r=[].concat(e);n=r.map(function(s){return s.key+(s.value?'="'+s.value+'"':"")}).join(" ")}var i=">";return(t==="img"||t==="br")&&(i="/>"),n?"<"+t+" "+n+i:"<"+t+i}br.makeStartTag=uD;function cD(t){return t===void 0&&(t=""),t&&"</"+t+">"||""}br.makeEndTag=cD;function tw(t){return rg(ws.Html).reduce(rw,t)}br.decodeHtml=tw;function fD(t,e){return e===void 0&&(e=!0),e&&(t=tw(t)),rg(ws.Html).reduce(nw,t)}br.encodeHtml=fD;function hD(t){var e=rg(ws.Url),n=e.reduce(rw,t);return e.reduce(nw,n)}br.encodeLink=hD;function rg(t){var e=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return t===ws.Html?e.filter(function(n){var r=n[0];return n[1],r.indexOf("(")===-1&&r.indexOf(")")===-1}):e.filter(function(n){var r=n[0];return n[1],r.indexOf("/")===-1})}function nw(t,e){return t.replace(new RegExp(e[0],"g"),e[1])}function rw(t,e){return t.replace(new RegExp(e[1],"g"),e[0].replace("\\",""))}var dD=qe&&qe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(xa,"__esModule",{value:!0});var pD=dD(ng),gD=br,mD=function(){function t(){}return t.sanitize=function(e,n){var r=function(){};n&&typeof n.urlSanitizer=="function"&&(r=n.urlSanitizer);var i=r(e);return typeof i=="string"?i:gD.encodeLink(pD.sanitize(e))},t}();xa.OpLinkSanitizer=mD;Object.defineProperty(tg,"__esModule",{value:!0});var Hv=xa,vD=function(){function t(){}return t.sanitize=function(e,n){var r={};return!e||typeof e!="object"||(e.class&&t.IsValidClass(e.class)&&(r.class=e.class),e.id&&t.IsValidId(e.id)&&(r.id=e.id),t.IsValidTarget(e.target+"")&&(r.target=e.target),e.avatar&&(r.avatar=Hv.OpLinkSanitizer.sanitize(e.avatar+"",n)),e["end-point"]&&(r["end-point"]=Hv.OpLinkSanitizer.sanitize(e["end-point"]+"",n)),e.slug&&(r.slug=e.slug+"")),r},t.IsValidClass=function(e){return!!e.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},t.IsValidId=function(e){return!!e.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},t.IsValidTarget=function(e){return["_self","_blank","_parent","_top"].indexOf(e)>-1},t}();tg.MentionSanitizer=vD;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});function yD(t){return t.length===0?null:t.length>=2?t[1]:t[0]}yn.preferSecond=yD;function iw(t){return t.reduce(function(e,n){return e.concat(Array.isArray(n)?iw(n):n)},[])}yn.flatten=iw;function _D(t,e){if(Array.prototype.find)return Array.prototype.find.call(t,e);for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}yn.find=_D;function bD(t,e){for(var n=[],r,i,s=0;s<t.length;s++)r=t[s],s>0&&e(r,t[s-1])?(i=n[n.length-1],i.push(r)):n.push([r]);return n.map(function(o){return o.length===1?o[0]:o})}yn.groupConsecutiveElementsWhile=bD;function wD(t,e,n){for(var r={elements:[],sliceStartsAt:-1},i=e;i>=0&&n(t[i]);i--)r.sliceStartsAt=i,r.elements.unshift(t[i]);return r}yn.sliceFromReverseWhile=wD;function ED(t,e){return t.reduce(function(n,r,i){return n.push(r),i<t.length-1&&n.push(e),n},[])}yn.intersperse=ED;Object.defineProperty(hc,"__esModule",{value:!0});var wn=Vt,TD=tg,AD=yn,ID=xa,SD=function(){function t(){}return t.sanitize=function(e,n){var r={};if(!e||typeof e!="object")return r;var i=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],s=["background","color"],o=e.font,a=e.size,l=e.link,u=e.script,c=e.list,h=e.header,f=e.align,d=e.direction,p=e.indent,g=e.mentions,_=e.mention,m=e.width,v=e.target,b=e.rel,y=e["code-block"],E=i.concat(s,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(i.forEach(function(S){var I=e[S];I&&(r[S]=!!I)}),s.forEach(function(S){var I=e[S];I&&(t.IsValidHexColor(I+"")||t.IsValidColorLiteral(I+"")||t.IsValidRGBColor(I+""))&&(r[S]=I)}),o&&t.IsValidFontName(o+"")&&(r.font=o),a&&t.IsValidSize(a+"")&&(r.size=a),m&&t.IsValidWidth(m+"")&&(r.width=m),l&&(r.link=ID.OpLinkSanitizer.sanitize(l+"",n)),v&&t.isValidTarget(v)&&(r.target=v),b&&t.IsValidRel(b)&&(r.rel=b),y&&(t.IsValidLang(y)?r["code-block"]=y:r["code-block"]=!!y),(u===wn.ScriptType.Sub||wn.ScriptType.Super===u)&&(r.script=u),(c===wn.ListType.Bullet||c===wn.ListType.Ordered||c===wn.ListType.Checked||c===wn.ListType.Unchecked)&&(r.list=c),Number(h)&&(r.header=Math.min(Number(h),6)),AD.find([wn.AlignType.Center,wn.AlignType.Right,wn.AlignType.Justify,wn.AlignType.Left],function(S){return S===f})&&(r.align=f),d===wn.DirectionType.Rtl&&(r.direction=d),p&&Number(p)&&(r.indent=Math.min(Number(p),30)),g&&_){var k=TD.MentionSanitizer.sanitize(_,n);Object.keys(k).length>0&&(r.mentions=!!g,r.mention=_)}return Object.keys(e).reduce(function(S,I){return E.indexOf(I)===-1&&(S[I]=e[I]),S},r)},t.IsValidHexColor=function(e){return!!e.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},t.IsValidColorLiteral=function(e){return!!e.match(/^[a-z]{1,50}$/i)},t.IsValidRGBColor=function(e){var n=/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i;return!!e.match(n)},t.IsValidFontName=function(e){return!!e.match(/^[a-z\s0-9\- ]{1,30}$/i)},t.IsValidSize=function(e){return!!e.match(/^[a-z0-9\-]{1,20}$/i)},t.IsValidWidth=function(e){return!!e.match(/^[0-9]*(px|em|%)?$/)},t.isValidTarget=function(e){return!!e.match(/^[_a-zA-Z0-9\-]{1,50}$/)},t.IsValidRel=function(e){return!!e.match(/^[a-zA-Z\s\-]{1,250}$/i)},t.IsValidLang=function(e){return typeof e=="boolean"?!0:!!e.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},t}();hc.OpAttributeSanitizer=SD;var ig={},sg={};Object.defineProperty(sg,"__esModule",{value:!0});function OD(t){var e=`
`;if(t===e)return[t];var n=t.split(e);if(n.length===1)return n;var r=n.length-1;return n.reduce(function(i,s,o){return o!==r?s!==""?i=i.concat(s,e):i.push(e):s!==""&&i.push(s),i},[])}sg.tokenizeWithNewLines=OD;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});function kD(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),i=0;i<e.length;i++){var s=e[i];if(s!=null)for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])}return r}Da.assign=kD;var sw=qe&&qe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(ig,"__esModule",{value:!0});var Uf=Vt,CD=sw(sg),Vv=sw(Da),ND=function(){function t(){}return t.denormalize=function(e){if(!e||typeof e!="object")return[];if(typeof e.insert=="object"||e.insert===Uf.NewLine)return[e];var n=CD.tokenizeWithNewLines(e.insert+"");if(n.length===1)return[e];var r=Vv.assign({},e,{insert:Uf.NewLine});return n.map(function(i){return i===Uf.NewLine?r:Vv.assign({},e,{insert:i})})},t}();ig.InsertOpDenormalizer=ND;Object.defineProperty(Zp,"__esModule",{value:!0});var RD=Pa,Mn=Vt,Ys=xs,PD=hc,xD=ig,zv=xa,DD=function(){function t(){}return t.convert=function(e,n){if(!Array.isArray(e))return[];for(var r=[].concat.apply([],e.map(xD.InsertOpDenormalizer.denormalize)),i=[],s,o,a=0,l=r;a<l.length;a++){var u=l[a];u.insert&&(s=t.convertInsertVal(u.insert,n),s&&(o=PD.OpAttributeSanitizer.sanitize(u.attributes,n),i.push(new RD.DeltaInsertOp(s,o))))}return i},t.convertInsertVal=function(e,n){if(typeof e=="string")return new Ys.InsertDataQuill(Mn.DataType.Text,e);if(!e||typeof e!="object")return null;var r=Object.keys(e);return r.length?Mn.DataType.Image in e?new Ys.InsertDataQuill(Mn.DataType.Image,zv.OpLinkSanitizer.sanitize(e[Mn.DataType.Image]+"",n)):Mn.DataType.Video in e?new Ys.InsertDataQuill(Mn.DataType.Video,zv.OpLinkSanitizer.sanitize(e[Mn.DataType.Video]+"",n)):Mn.DataType.Formula in e?new Ys.InsertDataQuill(Mn.DataType.Formula,e[Mn.DataType.Formula]):new Ys.InsertDataCustom(r[0],e[r[0]]):null},t}();Zp.InsertOpsConverter=DD;var og={};(function(t){var e=qe&&qe.__importStar||function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var h in u)Object.hasOwnProperty.call(u,h)&&(c[h]=u[h]);return c.default=u,c};Object.defineProperty(t,"__esModule",{value:!0});var n=br,r=Vt,i=e(Da),s=e(yn),o=hc,a={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};t.DEFAULT_INLINE_STYLES={font:function(u){return a[u]||"font-family:"+u},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(u,c){var h=parseInt(u,10)*3,f=c.attributes.direction==="rtl"?"right":"left";return"padding-"+f+":"+h+"em"},direction:function(u,c){if(u==="rtl")return"direction:rtl"+(c.attributes.align?"":"; text-align:inherit")}};var l=function(){function u(c,h){this.op=c,this.options=i.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},h)}return u.prototype.prefixClass=function(c){return this.options.classPrefix?this.options.classPrefix+"-"+c:c+""},u.prototype.getHtml=function(){var c=this.getHtmlParts();return c.openingTag+c.content+c.closingTag},u.prototype.getHtmlParts=function(){var c=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:r.NewLine};var h=this.getTags(),f=this.getTagAttributes();!h.length&&f.length&&h.push("span");for(var d=[],p=[],g="img",_=function(y){return y===g&&!!c.op.attributes.link},m=0,v=h;m<v.length;m++){var b=v[m];_(b)&&d.push(n.makeStartTag("a",this.getLinkAttrs())),d.push(n.makeStartTag(b,f)),p.push(b==="img"?"":n.makeEndTag(b)),_(b)&&p.push(n.makeEndTag("a")),f=[]}return p.reverse(),{openingTag:d.join(""),content:this.getContent(),closingTag:p.join("")}},u.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var c=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&n.encodeHtml(c)||c},u.prototype.getCssClasses=function(){var c=this.op.attributes;if(this.options.inlineStyles)return[];var h=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&h.push("background"),(this.getCustomCssClasses()||[]).concat(h.filter(function(f){return!!c[f]}).filter(function(f){return f==="background"?o.OpAttributeSanitizer.IsValidColorLiteral(c[f]):!0}).map(function(f){return f+"-"+c[f]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},u.prototype.getCssStyles=function(){var c=this,h=this.op.attributes,f=[["color"]];return(this.options.inlineStyles||!this.options.allowBackgroundClasses)&&f.push(["background","background-color"]),this.options.inlineStyles&&(f=f.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(f.filter(function(d){return!!h[d[0]]}).map(function(d){var p=d[0],g=h[p],_=c.options.inlineStyles&&c.options.inlineStyles[p]||t.DEFAULT_INLINE_STYLES[p];if(typeof _=="object")return _[g];if(typeof _=="function"){var m=_;return m(g,c.op)}else return s.preferSecond(d)+":"+g})).filter(function(d){return d!==void 0})},u.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var c=this.makeAttr.bind(this),h=this.getCustomTagAttributes(),f=h?Object.keys(this.getCustomTagAttributes()).map(function(m){return c(m,h[m])}):[],d=this.getCssClasses(),p=d.length?f.concat([c("class",d.join(" "))]):f;if(this.op.isImage())return this.op.attributes.width&&(p=p.concat(c("width",this.op.attributes.width))),p.concat(c("src",this.op.insert.value));if(this.op.isACheckList())return p.concat(c("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return p;if(this.op.isVideo())return p.concat(c("frameborder","0"),c("allowfullscreen","true"),c("src",this.op.insert.value));if(this.op.isMentions()){var g=this.op.attributes.mention;return g.class&&(p=p.concat(c("class",g.class))),g["end-point"]&&g.slug?p=p.concat(c("href",g["end-point"]+"/"+g.slug)):p=p.concat(c("href","about:blank")),g.target&&(p=p.concat(c("target",g.target))),p}var _=this.getCssStyles();return _.length&&p.push(c("style",_.join(";"))),this.op.isCodeBlock()&&typeof this.op.attributes["code-block"]=="string"?p.concat(c("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(p=p.concat(this.getLinkAttrs())),p)},u.prototype.makeAttr=function(c,h){return{key:c,value:h}},u.prototype.getLinkAttrs=function(){var c=[],h=o.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,f=o.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,d=this.op.attributes.target||h,p=this.op.attributes.rel||f;return c.concat(this.makeAttr("href",this.op.attributes.link)).concat(d?this.makeAttr("target",d):[]).concat(p?this.makeAttr("rel",p):[])},u.prototype.getCustomTag=function(c){if(this.options.customTag&&typeof this.options.customTag=="function")return this.options.customTag.apply(null,[c,this.op])},u.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&typeof this.options.customTagAttributes=="function")return this.options.customTagAttributes.apply(null,[this.op])},u.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&typeof this.options.customCssClasses=="function"){var c=this.options.customCssClasses.apply(null,[this.op]);if(c)return Array.isArray(c)?c:[c]}},u.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&typeof this.options.customCssStyles=="function"){var c=this.options.customCssStyles.apply(null,[this.op]);if(c)return Array.isArray(c)?c:[c]}},u.prototype.getTags=function(){var c=this,h=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var f=this.options.paragraphTag||"p",d=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",f],["direction",f],["indent",f]],p=0,g=d;p<g.length;p++){var _=g[p],m=_[0];if(h[m]){var v=this.getCustomTag(m);return v?[v]:m==="header"?["h"+h[m]]:[s.preferSecond(_)]}}if(this.op.isCustomTextBlock()){var v=this.getCustomTag("renderAsBlock");return v?[v]:[f]}var b=Object.keys(h).reduce(function(E,k){var S=c.getCustomTag(k);return S&&(E[k]=S),E},{}),y=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return y.filter(function(E){return!!h[E[0]]}).concat(Object.keys(b).filter(function(E){return!y.some(function(k){return k[0]==E})}).map(function(E){return[E,b[E]]})).map(function(E){return b[E[0]]?b[E[0]]:E[0]==="script"?h[E[0]]===r.ScriptType.Sub?"sub":"sup":s.preferSecond(E)})},u}();t.OpToHtmlConverter=l})(og);var ag={},zt={},ow=qe&&qe.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(zt,"__esModule",{value:!0});var LD=function(){function t(e){this.ops=e}return t}();zt.InlineGroup=LD;var aw=function(){function t(e){this.op=e}return t}(),MD=function(t){ow(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(aw);zt.VideoItem=MD;var jD=function(t){ow(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(aw);zt.BlotBlock=jD;var BD=function(){function t(e,n){this.op=e,this.ops=n}return t}();zt.BlockGroup=BD;var FD=function(){function t(e){this.items=e}return t}();zt.ListGroup=FD;var UD=function(){function t(e,n){n===void 0&&(n=null),this.item=e,this.innerList=n}return t}();zt.ListItem=UD;var qD=function(){function t(e){this.rows=e}return t}();zt.TableGroup=qD;var $D=function(){function t(e){this.cells=e}return t}();zt.TableRow=$D;var HD=function(){function t(e){this.item=e}return t}();zt.TableCell=HD;Object.defineProperty(ag,"__esModule",{value:!0});var VD=Pa,fl=yn,ui=zt,zD=function(){function t(){}return t.pairOpsWithTheirBlock=function(e){for(var n=[],r=function(u){return!(u.isJustNewline()||u.isCustomEmbedBlock()||u.isVideo()||u.isContainerBlock())},i=function(u){return u.isInline()},s=e.length-1,o,a=s;a>=0;a--){var l=e[a];l.isVideo()?n.push(new ui.VideoItem(l)):l.isCustomEmbedBlock()?n.push(new ui.BlotBlock(l)):l.isContainerBlock()?(o=fl.sliceFromReverseWhile(e,a-1,r),n.push(new ui.BlockGroup(l,o.elements)),a=o.sliceStartsAt>-1?o.sliceStartsAt:a):(o=fl.sliceFromReverseWhile(e,a-1,i),n.push(new ui.InlineGroup(o.elements.concat(l))),a=o.sliceStartsAt>-1?o.sliceStartsAt:a)}return n.reverse(),n},t.groupConsecutiveSameStyleBlocks=function(e,n){return n===void 0&&(n={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),fl.groupConsecutiveElementsWhile(e,function(r,i){return!(r instanceof ui.BlockGroup)||!(i instanceof ui.BlockGroup)?!1:n.codeBlocks&&t.areBothCodeblocksWithSameLang(r,i)||n.blockquotes&&t.areBothBlockquotesWithSameAdi(r,i)||n.header&&t.areBothSameHeadersWithSameAdi(r,i)||n.customBlocks&&t.areBothCustomBlockWithSameAttr(r,i)})},t.reduceConsecutiveSameStyleBlocksToOne=function(e){var n=VD.DeltaInsertOp.createNewLineOp();return e.map(function(r){if(!Array.isArray(r))return r instanceof ui.BlockGroup&&!r.ops.length&&r.ops.push(n),r;var i=r.length-1;return r[0].ops=fl.flatten(r.map(function(s,o){return s.ops.length?s.ops.concat(o<i?[n]:[]):[n]})),r[0]})},t.areBothCodeblocksWithSameLang=function(e,n){return e.op.isCodeBlock()&&n.op.isCodeBlock()&&e.op.hasSameLangAs(n.op)},t.areBothSameHeadersWithSameAdi=function(e,n){return e.op.isSameHeaderAs(n.op)&&e.op.hasSameAdiAs(n.op)},t.areBothBlockquotesWithSameAdi=function(e,n){return e.op.isBlockquote()&&n.op.isBlockquote()&&e.op.hasSameAdiAs(n.op)},t.areBothCustomBlockWithSameAttr=function(e,n){return e.op.isCustomTextBlock()&&n.op.isCustomTextBlock()&&e.op.hasSameAttr(n.op)},t}();ag.Grouper=zD;var lg={};Object.defineProperty(lg,"__esModule",{value:!0});var cn=zt,Xs=yn,KD=function(){function t(){}return t.prototype.nest=function(e){var n=this,r=this.convertListBlocksToListGroups(e),i=this.groupConsecutiveListGroups(r),s=Xs.flatten(i.map(function(a){return Array.isArray(a)?n.nestListSection(a):a})),o=Xs.groupConsecutiveElementsWhile(s,function(a,l){return a instanceof cn.ListGroup&&l instanceof cn.ListGroup?a.items[0].item.op.isSameListAs(l.items[0].item.op):!1});return o.map(function(a){if(!Array.isArray(a))return a;var l=a.map(function(u){return u.items});return new cn.ListGroup(Xs.flatten(l))})},t.prototype.convertListBlocksToListGroups=function(e){var n=Xs.groupConsecutiveElementsWhile(e,function(r,i){return r instanceof cn.BlockGroup&&i instanceof cn.BlockGroup&&r.op.isList()&&i.op.isList()&&r.op.isSameListAs(i.op)&&r.op.hasSameIndentationAs(i.op)});return n.map(function(r){return Array.isArray(r)?new cn.ListGroup(r.map(function(i){return new cn.ListItem(i)})):r instanceof cn.BlockGroup&&r.op.isList()?new cn.ListGroup([new cn.ListItem(r)]):r})},t.prototype.groupConsecutiveListGroups=function(e){return Xs.groupConsecutiveElementsWhile(e,function(n,r){return n instanceof cn.ListGroup&&r instanceof cn.ListGroup})},t.prototype.nestListSection=function(e){var n=this,r=this.groupByIndent(e);return Object.keys(r).map(Number).sort().reverse().forEach(function(i){r[i].forEach(function(s){var o=e.indexOf(s);n.placeUnderParent(s,e.slice(0,o))&&e.splice(o,1)})}),e},t.prototype.groupByIndent=function(e){return e.reduce(function(n,r){var i=r.items[0].item.op.attributes.indent;return i&&(n[i]=n[i]||[],n[i].push(r)),n},{})},t.prototype.placeUnderParent=function(e,n){for(var r=n.length-1;r>=0;r--){var i=n[r];if(e.items[0].item.op.hasHigherIndentThan(i.items[0].item.op)){var s=i.items[i.items.length-1];return s.innerList?s.innerList.items=s.innerList.items.concat(e.items):s.innerList=e,!0}}return!1},t}();lg.ListNester=KD;var ug={};Object.defineProperty(ug,"__esModule",{value:!0});var fn=zt,Kv=yn,GD=function(){function t(){}return t.prototype.group=function(e){var n=this.convertTableBlocksToTableGroups(e);return n},t.prototype.convertTableBlocksToTableGroups=function(e){var n=this,r=Kv.groupConsecutiveElementsWhile(e,function(i,s){return i instanceof fn.BlockGroup&&s instanceof fn.BlockGroup&&i.op.isTable()&&s.op.isTable()});return r.map(function(i){return Array.isArray(i)?new fn.TableGroup(n.convertTableBlocksToTableRows(i)):i instanceof fn.BlockGroup&&i.op.isTable()?new fn.TableGroup([new fn.TableRow([new fn.TableCell(i)])]):i})},t.prototype.convertTableBlocksToTableRows=function(e){var n=Kv.groupConsecutiveElementsWhile(e,function(r,i){return r instanceof fn.BlockGroup&&i instanceof fn.BlockGroup&&r.op.isTable()&&i.op.isTable()&&r.op.isSameTableRowAs(i.op)});return n.map(function(r){return new fn.TableRow(Array.isArray(r)?r.map(function(i){return new fn.TableCell(i)}):[new fn.TableCell(r)])})},t}();ug.TableGrouper=GD;var WD=qe&&qe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(Jp,"__esModule",{value:!0});var QD=Zp,Js=og,qf=ag,Zs=zt,YD=lg,tn=br,XD=WD(Da),eo=Vt,JD=ug,to="<br/>",ZD=function(){function t(e,n){this.rawDeltaOps=[],this.callbacks={},this.options=XD.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},n,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"});var r;this.options.inlineStyles?typeof this.options.inlineStyles=="object"?r=this.options.inlineStyles:r={}:r=void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:r,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=e}return t.prototype._getListTag=function(e){return e.isOrderedList()?this.options.orderedListTag+"":e.isBulletList()?this.options.bulletListTag+"":e.isCheckedList()?this.options.bulletListTag+"":e.isUncheckedList()?this.options.bulletListTag+"":""},t.prototype.getGroupedOps=function(){var e=QD.InsertOpsConverter.convert(this.rawDeltaOps,this.options),n=qf.Grouper.pairOpsWithTheirBlock(e),r=qf.Grouper.groupConsecutiveSameStyleBlocks(n,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),i=qf.Grouper.reduceConsecutiveSameStyleBlocksToOne(r),s=new JD.TableGrouper;i=s.group(i);var o=new YD.ListNester;return o.nest(i)},t.prototype.convert=function(){var e=this,n=this.getGroupedOps();return n.map(function(r){if(r instanceof Zs.ListGroup)return e._renderWithCallbacks(eo.GroupType.List,r,function(){return e._renderList(r)});if(r instanceof Zs.TableGroup)return e._renderWithCallbacks(eo.GroupType.Table,r,function(){return e._renderTable(r)});if(r instanceof Zs.BlockGroup){var i=r;return e._renderWithCallbacks(eo.GroupType.Block,r,function(){return e._renderBlock(i.op,i.ops)})}else return r instanceof Zs.BlotBlock?e._renderCustom(r.op,null):r instanceof Zs.VideoItem?e._renderWithCallbacks(eo.GroupType.Video,r,function(){var s=r,o=new Js.OpToHtmlConverter(s.op,e.converterOptions);return o.getHtml()}):e._renderWithCallbacks(eo.GroupType.InlineGroup,r,function(){return e._renderInlines(r.ops,!0)})}).join("")},t.prototype._renderWithCallbacks=function(e,n,r){var i="",s=this.callbacks.beforeRender_cb;i=typeof s=="function"?s.apply(null,[e,n]):"",i||(i=r());var o=this.callbacks.afterRender_cb;return i=typeof o=="function"?o.apply(null,[e,i]):i,i},t.prototype._renderList=function(e){var n=this,r=e.items[0];return tn.makeStartTag(this._getListTag(r.item.op))+e.items.map(function(i){return n._renderListItem(i)}).join("")+tn.makeEndTag(this._getListTag(r.item.op))},t.prototype._renderListItem=function(e){e.item.op.attributes.indent=0;var n=new Js.OpToHtmlConverter(e.item.op,this.converterOptions),r=n.getHtmlParts(),i=this._renderInlines(e.item.ops,!1);return r.openingTag+i+(e.innerList?this._renderList(e.innerList):"")+r.closingTag},t.prototype._renderTable=function(e){var n=this;return tn.makeStartTag("table")+tn.makeStartTag("tbody")+e.rows.map(function(r){return n._renderTableRow(r)}).join("")+tn.makeEndTag("tbody")+tn.makeEndTag("table")},t.prototype._renderTableRow=function(e){var n=this;return tn.makeStartTag("tr")+e.cells.map(function(r){return n._renderTableCell(r)}).join("")+tn.makeEndTag("tr")},t.prototype._renderTableCell=function(e){var n=new Js.OpToHtmlConverter(e.item.op,this.converterOptions),r=n.getHtmlParts(),i=this._renderInlines(e.item.ops,!1);return tn.makeStartTag("td",{key:"data-row",value:e.item.op.attributes.table})+r.openingTag+i+r.closingTag+tn.makeEndTag("td")},t.prototype._renderBlock=function(e,n){var r=this,i=new Js.OpToHtmlConverter(e,this.converterOptions),s=i.getHtmlParts();if(e.isCodeBlock())return s.openingTag+tn.encodeHtml(n.map(function(a){return a.isCustomEmbed()?r._renderCustom(a,e):a.insert.value}).join(""))+s.closingTag;var o=n.map(function(a){return r._renderInline(a,e)}).join("");return s.openingTag+(o||to)+s.closingTag},t.prototype._renderInlines=function(e,n){var r=this;n===void 0&&(n=!0);var i=e.length-1,s=e.map(function(l,u){return u>0&&u===i&&l.isJustNewline()?"":r._renderInline(l,null)}).join("");if(!n)return s;var o=tn.makeStartTag(this.options.paragraphTag),a=tn.makeEndTag(this.options.paragraphTag);return s===to||this.options.multiLineParagraph?o+s+a:o+s.split(to).map(function(l){return l===""?to:l}).join(a+o)+a},t.prototype._renderInline=function(e,n){if(e.isCustomEmbed())return this._renderCustom(e,n);var r=new Js.OpToHtmlConverter(e,this.converterOptions);return r.getHtml().replace(/\n/g,to)},t.prototype._renderCustom=function(e,n){var r=this.callbacks.renderCustomOp_cb;return typeof r=="function"?r.apply(null,[e,n]):""},t.prototype.beforeRender=function(e){typeof e=="function"&&(this.callbacks.beforeRender_cb=e)},t.prototype.afterRender=function(e){typeof e=="function"&&(this.callbacks.afterRender_cb=e)},t.prototype.renderCustomWith=function(e){this.callbacks.renderCustomOp_cb=e},t}();Jp.QuillDeltaToHtmlConverter=ZD;Object.defineProperty(ut,"__esModule",{value:!0});var eL=Jp,tL=ut.QuillDeltaToHtmlConverter=eL.QuillDeltaToHtmlConverter,nL=og;ut.OpToHtmlConverter=nL.OpToHtmlConverter;var Ds=zt;ut.InlineGroup=Ds.InlineGroup;ut.VideoItem=Ds.VideoItem;ut.BlockGroup=Ds.BlockGroup;ut.ListGroup=Ds.ListGroup;ut.ListItem=Ds.ListItem;ut.BlotBlock=Ds.BlotBlock;var rL=Pa;ut.DeltaInsertOp=rL.DeltaInsertOp;var lw=xs;ut.InsertDataQuill=lw.InsertDataQuill;ut.InsertDataCustom=lw.InsertDataCustom;var ji=Vt;ut.NewLine=ji.NewLine;ut.ListType=ji.ListType;ut.ScriptType=ji.ScriptType;ut.DirectionType=ji.DirectionType;ut.AlignType=ji.AlignType;ut.DataType=ji.DataType;ut.GroupType=ji.GroupType;const Ot=p0(()=>{const t=ht(!0),e=ht(!1),n=async _=>new Promise(async m=>{au.getAppCollection(_).then(()=>{e.value=!0,m(e.value)}).catch(()=>{setTimeout(()=>{n(_)},3e3)})}),r=Ut({menu:[{name:"overview",collection:null},{name:"siswa",collection:"users"},{name:"kata pengantar",collection:"application content"},{name:"petunjuk penggunaan",collection:"application content"},{name:"kompetensi",collection:"application content"},{name:"tujuan pembelajaran",collection:"application content"},{name:"pembelajaran",collection:"learning materials"},{name:"daftar pustaka",collection:"application content"},{name:"biografi pengembang",collection:"application content"}],subContentActive:{},sidebarOpened:!0,error:{admin:{status:!1,message:""}}}),i=Ut({}),s=Ut({isGettingData:!1,lastGettingData:0,data:[]}),o=()=>{dn().userStatus.tryToAuthenticated=!0,tD.tryToAuthenticationUser().then(_=>{_.success})},a=Ut({status:!1,action:()=>{},excution:()=>{a.action(),a.status=!1}}),l=Ut({data:{}}),u=Ut({}),c=()=>{const _=String(prompt("Nama sub-konten baru :"));alert(_)},h=new class{constructor(){ri(this,"new subcontent",{name:"",focus:!1});ri(this,"new page",{name:"",focus:!1});ri(this,"sub content",Ut(this["new subcontent"]));ri(this,"page",Ut(this["new page"]));ri(this,"submit",_=>new Promise((m,v)=>{if(this[`${_}`].focus)if(this[`${_}`].name!==""){if(_==="sub content"){const b=sr().value;u[`${l.data.name}`].subContent={...u[`${l.data.name}`].subContent,[`${b}`]:{name:this[`${_}`].name,page:[]}},l.data.name==="pembelajaran"&&(u[`${l.data.name}`].evaluation={...u[`${l.data.name}`].evaluation,[`${b}`]:[]}),this.blur(_,0),m({success:!0})}else _==="page"&&(u[`${l.data.name}`].lastSelectedSubContent===0?alert("pilih sub konten terlebih dahulu"):(u[`${l.data.name}`].subContent[`${u[`${l.data.name}`].lastSelectedSubContent}`].page.push({[`${sr().value}`]:{name:this[`${_}`].name,type:"delta",data:{ops:[{insert:"halaman baru"}]}}}),this.blur(_,0),m({success:!0})));u[`${l.data.name}`].updatedAt=sr().value}else v({succes:!1,error:`nama ${_} tidak boleh kosong`});else this[`${_}`].focus=!0}));ri(this,"blur",(_,m)=>{setTimeout(()=>{this[`${_}`].name="",this[`${_}`].focus=!1},Number(m))})}};return{splashScreenStatus:t,loadedApp:e,loadApp:n,appData:r,modal:i,allStudent:s,tryToLogin:o,saveChanged:a,activeContent:l,appCacheData:u,addSubContent:c,newContentData:h,deleteSubContent:_=>new Promise(m=>{delete u[`${l.data.name}`].subContent[`${_}`],l.data.name==="pembelajaran"&&delete u[`${l.data.name}`].evaluation[`${_}`],u[`${l.data.name}`].updatedAt=sr().value,m(!0)}),deletePage:_=>new Promise(m=>{_>-1&&u[`${l.data.name}`].subContent[`${u[`${l.data.name}`].lastSelectedSubContent}`].page.splice(_,1),u[`${l.data.name}`].updatedAt=sr().value,m(!0)}),updatePageContent:()=>new Promise(_=>{u[`${l.data.name}`].updatedAt=sr().value,_(!0)}),quilToHTML:_=>new tL(_.ops)}}),iL=t=>(HE("data-v-fb1f190c"),t=t(),VE(),t),sL={class:"splash"},oL={class:"d-flex flex-column"},aL={key:0,class:"img-fluid",src:TA,alt:""},lL={key:0,class:"d-flex flex-column gap-2 text-center"},uL=iL(()=>us("img",{class:"img-fluid",src:AA,alt:""},null,-1)),cL=aa({__name:"Splash",setup(t){const e=ht("loka");return console.log("splash"),setTimeout(()=>{e.value="",setTimeout(()=>{e.value="appLogo",setTimeout(()=>{Ot().splashScreenStatus.value=!1},3e3)},1e3)},3e3),(n,r)=>{const i=EA;return cr(),mo("div",sL,[us("div",oL,[at(jo,{name:"fade"},{default:Do(()=>[Xt(e)==="loka"?(cr(),mo("img",aL)):uh("",!0)]),_:1}),at(jo,{name:"fade"},{default:Do(()=>[Xt(e)==="appLogo"?(cr(),mo("div",lL,[uL,at(i,{class:"h1"})])):uh("",!0)]),_:1})])])}}});const fL=d0(cL,[["__scopeId","data-v-fb1f190c"]]);function Zh(t,e={},n){for(const r in t){const i=t[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Zh(i,e,s):typeof i=="function"&&(e[s]=i)}return e}const hL={run:t=>t()},dL=()=>hL,uw=typeof console.createTask<"u"?console.createTask:dL;function pL(t,e){const n=e.shift(),r=uw(n);return t.reduce((i,s)=>i.then(()=>r.run(()=>s(...e))),Promise.resolve())}function gL(t,e){const n=e.shift(),r=uw(n);return Promise.all(t.map(i=>r.run(()=>i(...e))))}function $f(t,e){for(const n of[...t])n(e)}class mL{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const i=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!r.allowDeprecated){let o=s.message;o||(o=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(e,i),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const i of r)this.hook(e,i)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Zh(e),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(e){const n=Zh(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(pL,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(gL,e,...n)}callHookWith(e,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&$f(this._before,i);const s=e(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&$f(this._after,i)}):(this._after&&i&&$f(this._after,i),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function vL(){return new mL}function yL(t){return Array.isArray(t)?t:[t]}const cw=["title","script","style","noscript"],fw=["base","meta","link","style","script","noscript"],_L=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],bL=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],wL=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function hw(t){let e=9;for(let n=0;n<t.length;)e=Math.imul(e^t.charCodeAt(n++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function ed(t){return hw(`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([e,n])=>`${e}:${String(n)}`).join(",")}`)}function EL(t){let e=9;for(const n of t)for(let r=0;r<n.length;)e=Math.imul(e^n.charCodeAt(r++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function dw(t,e){const{props:n,tag:r}=t;if(bL.includes(r))return r;if(r==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const i=["id"];r==="meta"&&i.push("name","property","http-equiv");for(const s of i)if(typeof n[s]<"u"){const o=String(n[s]);return e&&!e(o)?!1:`${r}:${s}:${o}`}return!1}function Gv(t,e){return t==null?e||null:typeof t=="function"?t(e):t}function hl(t,e=!1,n){const{tag:r,$el:i}=t;i&&(Object.entries(r.props).forEach(([s,o])=>{o=String(o);const a=`attr:${s}`;if(s==="class"){if(!o)return;for(const l of o.split(" ")){const u=`${a}:${l}`;n&&n(t,u,()=>i.classList.remove(l)),i.classList.contains(l)||i.classList.add(l)}return}n&&!s.startsWith("data-h-")&&n(t,a,()=>i.removeAttribute(s)),(e||i.getAttribute(s)!==o)&&i.setAttribute(s,o)}),cw.includes(r.tag)&&(r.textContent&&r.textContent!==i.textContent?i.textContent=r.textContent:r.innerHTML&&r.innerHTML!==i.innerHTML&&(i.innerHTML=r.innerHTML)))}let no=!1;async function pw(t,e={}){var f,d;const n={shouldRender:!0};if(await t.hooks.callHook("dom:beforeRender",n),!n.shouldRender)return;const r=e.document||t.resolvedOptions.document||window.document,i=(await t.resolveTags()).map(a);if(t.resolvedOptions.experimentalHashHydration&&(no=no||t._hash||!1,no)){const p=EL(i.map(g=>g.tag._h));if(no===p)return;no=p}const s=t._popSideEffectQueue();t.headEntries().map(p=>p._sde).forEach(p=>{Object.entries(p).forEach(([g,_])=>{s[g]=_})});const o=(p,g,_)=>{g=`${p.renderId}:${g}`,p.entry&&(p.entry._sde[g]=_),delete s[g]};function a(p){const g=t.headEntries().find(m=>m._i===p._e),_={renderId:p._d||ed(p),$el:null,shouldRender:!0,tag:p,entry:g,markSideEffect:(m,v)=>o(_,m,v)};return _}const l=[],u={body:[],head:[]},c=p=>{t._elMap[p.renderId]=p.$el,l.push(p),o(p,"el",()=>{var g;(g=p.$el)==null||g.remove(),delete t._elMap[p.renderId]})};for(const p of i){if(await t.hooks.callHook("dom:beforeRenderTag",p),!p.shouldRender)continue;const{tag:g}=p;if(g.tag==="title"){r.title=g.textContent||"",l.push(p);continue}if(g.tag==="htmlAttrs"||g.tag==="bodyAttrs"){p.$el=r[g.tag==="htmlAttrs"?"documentElement":"body"],hl(p,!1,o),l.push(p);continue}if(p.$el=t._elMap[p.renderId],!p.$el&&g.key&&(p.$el=r.querySelector(`${(f=g.tagPosition)!=null&&f.startsWith("body")?"body":"head"} > ${g.tag}[data-h-${g._h}]`)),p.$el){p.tag._d&&hl(p),c(p);continue}u[(d=g.tagPosition)!=null&&d.startsWith("body")?"body":"head"].push(p)}const h={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(u).forEach(([p,g])=>{var m;if(!g.length)return;const _=(m=r==null?void 0:r[p])==null?void 0:m.children;if(_){for(const v of[..._].reverse()){const b=v.tagName.toLowerCase();if(!fw.includes(b))continue;const y=v.getAttributeNames().reduce((I,R)=>({...I,[R]:v.getAttribute(R)}),{}),E={tag:b,props:y};v.innerHTML&&(E.innerHTML=v.innerHTML);const k=ed(E);let S=g.findIndex(I=>(I==null?void 0:I.renderId)===k);if(S===-1){const I=dw(E);S=g.findIndex(R=>(R==null?void 0:R.tag._d)&&R.tag._d===I)}if(S!==-1){const I=g[S];I.$el=v,hl(I),c(I),delete g[S]}}g.forEach(v=>{const b=v.tag.tagPosition||"head";h[b]=h[b]||r.createDocumentFragment(),v.$el||(v.$el=r.createElement(v.tag.tag),hl(v,!0)),h[b].appendChild(v.$el),c(v)})}}),h.head&&r.head.appendChild(h.head),h.bodyOpen&&r.body.insertBefore(h.bodyOpen,r.body.firstChild),h.bodyClose&&r.body.appendChild(h.bodyClose);for(const p of l)await t.hooks.callHook("dom:renderTag",p);Object.values(s).forEach(p=>p())}let Hf=null;async function gw(t,e={}){function n(){return Hf=null,pw(t,e)}const r=e.delayFn||(i=>setTimeout(i,10));return Hf=Hf||new Promise(i=>r(()=>i(n())))}function TL(t){return{hooks:{"entries:updated":function(e){if(typeof(t==null?void 0:t.document)>"u"&&typeof window>"u")return;let n=t==null?void 0:t.delayFn;!n&&typeof requestAnimationFrame<"u"&&(n=requestAnimationFrame),gw(e,{document:(t==null?void 0:t.document)||window.document,delayFn:n})}}}}function AL(t){var e;return((e=t==null?void 0:t.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:e.getAttribute("content"))||!1}const Wv={critical:2,high:9,low:12,base:-1,title:1,meta:10};function Qv(t){if(typeof t.tagPriority=="number")return t.tagPriority;if(t.tag==="meta"){if(t.props.charset)return-2;if(t.props["http-equiv"]==="content-security-policy")return 0}const e=t.tagPriority||t.tag;return e in Wv?Wv[e]:10}const IL=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function SL(){return{hooks:{"tags:resolve":t=>{const e=n=>{var r;return(r=t.tags.find(i=>i._d===n))==null?void 0:r._p};for(const{prefix:n,offset:r}of IL)for(const i of t.tags.filter(s=>typeof s.tagPriority=="string"&&s.tagPriority.startsWith(n))){const s=e(i.tagPriority.replace(n,""));typeof s<"u"&&(i._p=s+r)}t.tags.sort((n,r)=>n._p-r._p).sort((n,r)=>Qv(n)-Qv(r))}}}}function OL(){return{hooks:{"tags:resolve":t=>{const{tags:e}=t;let n=e.findIndex(i=>i.tag==="titleTemplate");const r=e.findIndex(i=>i.tag==="title");if(r!==-1&&n!==-1){const i=Gv(e[n].textContent,e[r].textContent);i!==null?e[r].textContent=i||e[r].textContent:delete e[r]}else if(n!==-1){const i=Gv(e[n].textContent);i!==null&&(e[n].textContent=i,e[n].tag="title",n=-1)}n!==-1&&delete e[n],t.tags=e.filter(Boolean)}}}}function kL(){return{hooks:{"tag:normalise":function({tag:t}){typeof t.props.body<"u"&&(t.tagPosition="bodyClose",delete t.props.body)}}}}const CL=["link","style","script","noscript"];function NL(){return{hooks:{"tag:normalise":({tag:t,resolvedOptions:e})=>{e.experimentalHashHydration===!0&&(t._h=ed(t)),t.key&&CL.includes(t.tag)&&(t._h=hw(t.key),t.props[`data-h-${t._h}`]="")}}}}const Yv=["script","link","bodyAttrs"];function RL(){const t=(e,n)=>{const r={},i={};Object.entries(n.props).forEach(([o,a])=>{o.startsWith("on")&&typeof a=="function"?i[o]=a:r[o]=a});let s;return e==="dom"&&n.tag==="script"&&typeof r.src=="string"&&typeof i.onload<"u"&&(s=r.src,delete r.src),{props:r,eventHandlers:i,delayedSrc:s}};return{hooks:{"ssr:render":function(e){e.tags=e.tags.map(n=>(!Yv.includes(n.tag)||!Object.entries(n.props).find(([r,i])=>r.startsWith("on")&&typeof i=="function")||(n.props=t("ssr",n).props),n))},"dom:beforeRenderTag":function(e){if(!Yv.includes(e.tag.tag)||!Object.entries(e.tag.props).find(([s,o])=>s.startsWith("on")&&typeof o=="function"))return;const{props:n,eventHandlers:r,delayedSrc:i}=t("dom",e.tag);Object.keys(r).length&&(e.tag.props=n,e.tag._eventHandlers=r,e.tag._delayedSrc=i)},"dom:renderTag":function(e){const n=e.$el;if(!e.tag._eventHandlers||!n)return;const r=e.tag.tag==="bodyAttrs"&&typeof window<"u"?window:n;Object.entries(e.tag._eventHandlers).forEach(([i,s])=>{const o=`${e.tag._d||e.tag._p}:${i}`,a=i.slice(2).toLowerCase(),l=`data-h-${a}`;if(e.markSideEffect(o,()=>{}),n.hasAttribute(l))return;const u=s;n.setAttribute(l,""),r.addEventListener(a,u),e.entry&&(e.entry._sde[o]=()=>{r.removeEventListener(a,u),n.removeAttribute(l)})}),e.tag._delayedSrc&&n.setAttribute("src",e.tag._delayedSrc)}}}}const PL=["templateParams","htmlAttrs","bodyAttrs"];function xL(){return{hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(r=>{t.props[r]&&(t.key=t.props[r],delete t.props[r])});const n=dw(t)||(t.key?`${t.tag}:${t.key}`:!1);n&&(t._d=n)},"tags:resolve":function(t){const e={};t.tags.forEach(r=>{const i=(r.key?`${r.tag}:${r.key}`:r._d)||r._p,s=e[i];if(s){let a=r==null?void 0:r.tagDuplicateStrategy;if(!a&&PL.includes(r.tag)&&(a="merge"),a==="merge"){const l=s.props;["class","style"].forEach(u=>{r.props[u]&&l[u]&&(u==="style"&&!l[u].endsWith(";")&&(l[u]+=";"),r.props[u]=`${l[u]} ${r.props[u]}`)}),e[i].props={...l,...r.props};return}else if(r._e===s._e){s._duped=s._duped||[],r._d=`${s._d}:${s._duped.length+1}`,s._duped.push(r);return}}const o=Object.keys(r.props).length+(r.innerHTML?1:0)+(r.textContent?1:0);if(fw.includes(r.tag)&&o===0){delete e[i];return}e[i]=r});const n=[];Object.values(e).forEach(r=>{const i=r._duped;delete r._duped,n.push(r),i&&n.push(...i)}),t.tags=n}}}}function dl(t,e){function n(s){if(["s","pageTitle"].includes(s))return e.pageTitle;let o;return s.includes(".")?o=s.split(".").reduce((a,l)=>a&&a[l]||void 0,e):o=e[s],typeof o<"u"?o||"":!1}let r=t;try{r=decodeURI(t)}catch{}return(r.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(s=>{const o=n(s.slice(1));typeof o=="string"&&(t=t.replace(new RegExp(`\\${s}(\\W|$)`,"g"),`${o}$1`).trim())}),e.separator&&(t.endsWith(e.separator)&&(t=t.slice(0,-e.separator.length).trim()),t.startsWith(e.separator)&&(t=t.slice(e.separator.length).trim()),t=t.replace(new RegExp(`\\${e.separator}\\s*\\${e.separator}`,"g"),e.separator)),t}function DL(){return{hooks:{"tags:resolve":t=>{var s;const{tags:e}=t,n=(s=e.find(o=>o.tag==="title"))==null?void 0:s.textContent,r=e.findIndex(o=>o.tag==="templateParams"),i=r!==-1?e[r].props:{};i.pageTitle=i.pageTitle||n||"";for(const o of e)if(["titleTemplate","title"].includes(o.tag)&&typeof o.textContent=="string")o.textContent=dl(o.textContent,i);else if(o.tag==="meta"&&typeof o.props.content=="string")o.props.content=dl(o.props.content,i);else if(o.tag==="link"&&typeof o.props.href=="string")o.props.href=dl(o.props.href,i);else if(o.tag==="script"&&["application/json","application/ld+json"].includes(o.props.type)&&typeof o.innerHTML=="string")try{o.innerHTML=JSON.stringify(JSON.parse(o.innerHTML),(a,l)=>typeof l=="string"?dl(l,i):l)}catch{}t.tags=e.filter(o=>o.tag!=="templateParams")}}}}const LL=typeof window<"u";let mw;function ML(t){return mw=t}function jL(){return mw}async function BL(t,e){const n={tag:t,props:{}};return t==="templateParams"?(n.props=e,n):["title","titleTemplate"].includes(t)?(n.textContent=e instanceof Promise?await e:e,n):typeof e=="string"?["script","noscript","style"].includes(t)?(t==="script"&&(/^(https?:)?\/\//.test(e)||e.startsWith("/"))?n.props.src=e:n.innerHTML=e,n):!1:(n.props=await UL(t,{...e}),n.props.children&&(n.props.innerHTML=n.props.children),delete n.props.children,Object.keys(n.props).filter(r=>wL.includes(r)).forEach(r=>{(!["innerHTML","textContent"].includes(r)||cw.includes(n.tag))&&(n[r]=n.props[r]),delete n.props[r]}),["innerHTML","textContent"].forEach(r=>{if(n.tag==="script"&&typeof n[r]=="string"&&["application/ld+json","application/json"].includes(n.props.type))try{n[r]=JSON.parse(n[r])}catch{n[r]=""}typeof n[r]=="object"&&(n[r]=JSON.stringify(n[r]))}),n.props.class&&(n.props.class=FL(n.props.class)),n.props.content&&Array.isArray(n.props.content)?n.props.content.map(r=>({...n,props:{...n.props,content:r}})):n)}function FL(t){return typeof t=="object"&&!Array.isArray(t)&&(t=Object.keys(t).filter(e=>t[e])),(Array.isArray(t)?t.join(" "):t).split(" ").filter(e=>e.trim()).filter(Boolean).join(" ")}async function UL(t,e){for(const n of Object.keys(e)){const r=n.startsWith("data-");e[n]instanceof Promise&&(e[n]=await e[n]),String(e[n])==="true"?e[n]=r?"true":"":String(e[n])==="false"&&(r?e[n]="false":delete e[n])}return e}const qL=10;async function $L(t){const e=[];return Object.entries(t.resolvedInput).filter(([n,r])=>typeof r<"u"&&_L.includes(n)).forEach(([n,r])=>{const i=yL(r);e.push(...i.map(s=>BL(n,s)).flat())}),(await Promise.all(e)).flat().filter(Boolean).map((n,r)=>(n._e=t._i,n._p=(t._i<<qL)+r,n))}function HL(){return[xL(),SL(),DL(),OL(),NL(),RL(),kL()]}function VL(t={}){return[TL({document:t==null?void 0:t.document,delayFn:t==null?void 0:t.domDelayFn})]}function zL(t={}){const e=KL({...t,plugins:[...VL(t),...(t==null?void 0:t.plugins)||[]]});return t.experimentalHashHydration&&e.resolvedOptions.document&&(e._hash=AL(e.resolvedOptions.document)),ML(e),e}function KL(t={}){let e=[],n={},r=0;const i=vL();t!=null&&t.hooks&&i.addHooks(t.hooks),t.plugins=[...HL(),...(t==null?void 0:t.plugins)||[]],t.plugins.forEach(a=>a.hooks&&i.addHooks(a.hooks)),t.document=t.document||(LL?document:void 0);const s=()=>i.callHook("entries:updated",o),o={resolvedOptions:t,headEntries(){return e},get hooks(){return i},use(a){a.hooks&&i.addHooks(a.hooks)},push(a,l){const u={_i:r++,input:a,_sde:{}};return l!=null&&l.mode&&(u._m=l==null?void 0:l.mode),l!=null&&l.transform&&(u._t=l==null?void 0:l.transform),e.push(u),s(),{dispose(){e=e.filter(c=>c._i!==u._i?!0:(n={...n,...c._sde||{}},c._sde={},s(),!1))},patch(c){e=e.map(h=>(h._i===u._i&&(u.input=h.input=c,s()),h))}}},async resolveTags(){const a={tags:[],entries:[...e]};await i.callHook("entries:resolve",a);for(const l of a.entries){const u=l._t||(c=>c);if(l.resolvedInput=u(l.resolvedInput||l.input),l.resolvedInput)for(const c of await $L(l)){const h={tag:c,entry:l,resolvedOptions:o.resolvedOptions};await i.callHook("tag:normalise",h),a.tags.push(h.tag)}}return await i.callHook("tags:resolve",a),a.tags},_popSideEffectQueue(){const a={...n};return n={},a},_elMap:{}};return o.hooks.callHook("init",o),o}function GL(t){return typeof t=="function"?t():Xt(t)}function uu(t,e=""){if(t instanceof Promise)return t;const n=GL(t);return!t||!n?n:Array.isArray(n)?n.map(r=>uu(r,e)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([r,i])=>r==="titleTemplate"||r.startsWith("on")?[r,Xt(i)]:[r,uu(i,r)])):n}const WL=Nd.startsWith("3"),QL=typeof window<"u",vw="usehead";function cg(){return Su()&&on(vw)||jL()}function YL(t){return{install(n){WL&&(n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(vw,t))}}.install}function XL(t={}){const e=zL({...t,domDelayFn:n=>setTimeout(()=>Po(()=>n()),10),plugins:[JL(),...(t==null?void 0:t.plugins)||[]]});return e.install=YL(e),e}function JL(){return{hooks:{"entries:resolve":function(t){for(const e of t.entries)e.resolvedInput=uu(e.input)}}}}function ZL(t,e={}){const n=cg(),r=ht(!1),i=ht({});XE(()=>{i.value=r.value?{}:uu(t)});const s=n.push(i.value,e);return Sn(i,a=>{s.patch(a)}),Su()&&(Tu(()=>{s.dispose()}),Td(()=>{r.value=!0}),Ed(()=>{r.value=!1})),s}function e2(t,e={}){return cg().push(t,e)}function yw(t,e={}){var r;const n=cg();if(n){const i=QL||!!((r=n.resolvedOptions)!=null&&r.document);return e.mode==="server"&&i||e.mode==="client"&&!i?void 0:i?ZL(t,e):e2(t,e)}}function t2(t,e){const n=XL(e||{}),r={unhead:n,install(i){Nd.startsWith("3")&&(i.config.globalProperties.$head=n,i.provide("usehead",n))},use(i){n.use(i)},resolveTags(){return n.resolveTags()},headEntries(){return n.headEntries()},headTags(){return n.resolveTags()},push(i,s){return n.push(i,s)},addEntry(i,s){return n.push(i,s)},addHeadObjs(i,s){return n.push(i,s)},addReactiveEntry(i,s){const o=yw(i,s);return typeof o<"u"?o.dispose:()=>{}},removeHeadObjs(){},updateDOM(i,s){s?pw(n,{document:i}):gw(n,{delayFn:o=>setTimeout(()=>o(),50),document:i})},internalHooks:n.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return n.addHeadObjs=r.addHeadObjs,n.updateDOM=r.updateDOM,n.hooks.hook("dom:beforeRender",i=>{for(const s of r.hooks["before:dom"])s()===!1&&(i.shouldRender=!1)}),t&&r.addHeadObjs(t),r}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Qi=typeof window<"u";function n2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ue=Object.assign;function Vf(t,e){const n={};for(const r in e){const i=e[r];n[r]=Nn(i)?i.map(t):t(i)}return n}const Io=()=>{},Nn=Array.isArray,r2=/\/$/,i2=t=>t.replace(r2,"");function zf(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=l2(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function s2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Xv(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function o2(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Es(e.matched[r],n.matched[i])&&_w(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Es(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function _w(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!a2(t[n],e[n]))return!1;return!0}function a2(t,e){return Nn(t)?Jv(t,e):Nn(e)?Jv(e,t):t===e}function Jv(t,e){return Nn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function l2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var ia;(function(t){t.pop="pop",t.push="push"})(ia||(ia={}));var So;(function(t){t.back="back",t.forward="forward",t.unknown=""})(So||(So={}));function u2(t){if(!t)if(Qi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),i2(t)}const c2=/^[^#]+#/;function f2(t,e){return t.replace(c2,"#")+e}function h2(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const dc=()=>({left:window.pageXOffset,top:window.pageYOffset});function d2(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=h2(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Zv(t,e){return(history.state?history.state.position-e:-1)+t}const td=new Map;function p2(t,e){td.set(t,e)}function g2(t){const e=td.get(t);return td.delete(t),e}let m2=()=>location.protocol+"//"+location.host;function bw(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Xv(l,"")}return Xv(n,t)+r+i}function v2(t,e,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const d=bw(t,location),p=n.value,g=e.value;let _=0;if(f){if(n.value=d,e.value=f,o&&o===p){o=null;return}_=g?f.position-g.position:0}else r(d);i.forEach(m=>{m(n.value,p,{delta:_,type:ia.pop,direction:_?_>0?So.forward:So.back:So.unknown})})};function l(){o=n.value}function u(f){i.push(f);const d=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return s.push(d),d}function c(){const{history:f}=window;f.state&&f.replaceState(Ue({},f.state,{scroll:dc()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function ey(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?dc():null}}function y2(t){const{history:e,location:n}=window,r={value:bw(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:m2()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(d){console.error(d),n[c?"replace":"assign"](f)}}function o(l,u){const c=Ue({},e.state,ey(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=Ue({},i.value,e.state,{forward:l,scroll:dc()});s(c.current,c,!0);const h=Ue({},ey(r.value,l,null),{position:c.position+1},u);s(l,h,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function _2(t){t=u2(t);const e=y2(t),n=v2(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Ue({location:"",base:t,go:r,createHref:f2.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function b2(t){return typeof t=="string"||t&&typeof t=="object"}function ww(t){return typeof t=="string"||typeof t=="symbol"}const kr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ew=Symbol("");var ty;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ty||(ty={}));function Ts(t,e){return Ue(new Error,{type:t,[Ew]:!0},e)}function rr(t,e){return t instanceof Error&&Ew in t&&(e==null||!!(t.type&e))}const ny="[^/]+?",w2={sensitive:!1,strict:!1,start:!0,end:!0},E2=/[.+*?^${}()[\]/\\]/g;function T2(t,e){const n=Ue({},w2,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(E2,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:g,optional:_,regexp:m}=f;s.push({name:p,repeatable:g,optional:_});const v=m||ny;if(v!==ny){d+=10;try{new RegExp(`(${v})`)}catch(y){throw new Error(`Invalid custom RegExp for param "${p}" (${v}): `+y.message)}}let b=g?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;h||(b=_&&u.length<2?`(?:/${b})`:"/"+b),_&&(b+="?"),i+=b,d+=20,_&&(d+=-8),g&&(d+=-20),v===".*"&&(d+=-50)}c.push(d)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const d=c[f]||"",p=s[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const d of f)if(d.type===0)c+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:_}=d,m=p in u?u[p]:"";if(Nn(m)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const v=Nn(m)?m.join("/"):m;if(!v)if(_)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);c+=v}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function A2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function I2(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=A2(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(ry(r))return 1;if(ry(i))return-1}return i.length-r.length}function ry(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const S2={type:0,value:""},O2=/[a-zA-Z0-9_]/;function k2(t){if(!t)return[[]];if(t==="/")return[[S2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${u}": ${d}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:O2.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}function C2(t,e,n){const r=T2(k2(t.path),n),i=Ue(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function N2(t,e){const n=[],r=new Map;e=oy({strict:!1,end:!0,sensitive:!1},e);function i(c){return r.get(c)}function s(c,h,f){const d=!f,p=R2(c);p.aliasOf=f&&f.record;const g=oy(e,c),_=[p];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const y of b)_.push(Ue({},p,{components:f?f.record.components:p.components,path:y,aliasOf:f?f.record:p}))}let m,v;for(const b of _){const{path:y}=b;if(h&&y[0]!=="/"){const E=h.record.path,k=E[E.length-1]==="/"?"":"/";b.path=h.record.path+(y&&k+y)}if(m=C2(b,h,g),f?f.alias.push(m):(v=v||m,v!==m&&v.alias.push(m),d&&c.name&&!sy(m)&&o(c.name)),p.children){const E=p.children;for(let k=0;k<E.length;k++)s(E[k],m,f&&f.children[k])}f=f||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&l(m)}return v?()=>{o(v)}:Io}function o(c){if(ww(c)){const h=r.get(c);h&&(r.delete(c),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(c);h>-1&&(n.splice(h,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let h=0;for(;h<n.length&&I2(c,n[h])>=0&&(c.record.path!==n[h].record.path||!Tw(c,n[h]));)h++;n.splice(h,0,c),c.record.name&&!sy(c)&&r.set(c.record.name,c)}function u(c,h){let f,d={},p,g;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw Ts(1,{location:c});g=f.record.name,d=Ue(iy(h.params,f.keys.filter(v=>!v.optional).map(v=>v.name)),c.params&&iy(c.params,f.keys.map(v=>v.name))),p=f.stringify(d)}else if("path"in c)p=c.path,f=n.find(v=>v.re.test(p)),f&&(d=f.parse(p),g=f.record.name);else{if(f=h.name?r.get(h.name):n.find(v=>v.re.test(h.path)),!f)throw Ts(1,{location:c,currentLocation:h});g=f.record.name,d=Ue({},h.params,c.params),p=f.stringify(d)}const _=[];let m=f;for(;m;)_.unshift(m.record),m=m.parent;return{name:g,path:p,params:d,matched:_,meta:x2(_)}}return t.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function iy(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function R2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:P2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function P2(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function sy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function x2(t){return t.reduce((e,n)=>Ue(e,n.meta),{})}function oy(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Tw(t,e){return e.children.some(n=>n===t||Tw(t,n))}const Aw=/#/g,D2=/&/g,L2=/\//g,M2=/=/g,j2=/\?/g,Iw=/\+/g,B2=/%5B/g,F2=/%5D/g,Sw=/%5E/g,U2=/%60/g,Ow=/%7B/g,q2=/%7C/g,kw=/%7D/g,$2=/%20/g;function fg(t){return encodeURI(""+t).replace(q2,"|").replace(B2,"[").replace(F2,"]")}function H2(t){return fg(t).replace(Ow,"{").replace(kw,"}").replace(Sw,"^")}function nd(t){return fg(t).replace(Iw,"%2B").replace($2,"+").replace(Aw,"%23").replace(D2,"%26").replace(U2,"`").replace(Ow,"{").replace(kw,"}").replace(Sw,"^")}function V2(t){return nd(t).replace(M2,"%3D")}function z2(t){return fg(t).replace(Aw,"%23").replace(j2,"%3F")}function K2(t){return t==null?"":z2(t).replace(L2,"%2F")}function cu(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function G2(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Iw," "),o=s.indexOf("="),a=cu(o<0?s:s.slice(0,o)),l=o<0?null:cu(s.slice(o+1));if(a in e){let u=e[a];Nn(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function ay(t){let e="";for(let n in t){const r=t[n];if(n=V2(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Nn(r)?r.map(s=>s&&nd(s)):[r&&nd(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function W2(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Nn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Cw=Symbol(""),ly=Symbol(""),pc=Symbol(""),hg=Symbol(""),rd=Symbol("");function ro(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Q2(t,e,n){const r=()=>{t[e].delete(n)};Ad(r),Td(r),Ed(()=>{t[e].add(n)}),t[e].add(n)}function UM(t){const e=on(Cw,{}).value;e&&Q2(e,"updateGuards",t)}function Nr(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Ts(4,{from:n,to:e})):h instanceof Error?a(h):b2(h)?a(Ts(2,{from:e,to:h})):(s&&r.enterCallbacks[i]===s&&typeof h=="function"&&s.push(h),o())},u=t.call(r&&r.instances[i],e,n,l);let c=Promise.resolve(u);t.length<3&&(c=c.then(l)),c.catch(h=>a(h))})}function Kf(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(Y2(a)){const u=(a.__vccOpts||a)[e];u&&i.push(Nr(u,n,r,s,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const c=n2(u)?u.default:u;s.components[o]=c;const f=(c.__vccOpts||c)[e];return f&&Nr(f,n,r,s,o)()}))}}return i}function Y2(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function uy(t){const e=on(pc),n=on(hg),r=qt(()=>e.resolve(Xt(t.to))),i=qt(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(Es.bind(null,c));if(f>-1)return f;const d=cy(l[u-2]);return u>1&&cy(c)===d&&h[h.length-1].path!==d?h.findIndex(Es.bind(null,l[u-2])):f}),s=qt(()=>i.value>-1&&eM(n.params,r.value.params)),o=qt(()=>i.value>-1&&i.value===n.matched.length-1&&_w(n.params,r.value.params));function a(l={}){return Z2(l)?e[Xt(t.replace)?"replace":"push"](Xt(t.to)).catch(Io):Promise.resolve()}return{route:r,href:qt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const X2=aa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:uy,setup(t,{slots:e}){const n=Ut(uy(t)),{options:r}=on(pc),i=qt(()=>({[fy(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[fy(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:ku("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),J2=X2;function Z2(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function eM(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Nn(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function cy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const fy=(t,e,n)=>t??e??n,tM=aa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=on(rd),i=qt(()=>t.route||r.value),s=on(ly,0),o=qt(()=>{let u=Xt(s);const{matched:c}=i.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=qt(()=>i.value.matched[o.value]);_l(ly,qt(()=>o.value+1)),_l(Cw,a),_l(rd,i);const l=ht();return Sn(()=>[l.value,a.value,t.name],([u,c,h],[f,d,p])=>{c&&(c.instances[h]=u,d&&d!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!Es(c,d)||!f)&&(c.enterCallbacks[h]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return hy(n.default,{Component:f,route:u});const d=h.props[c],p=d?d===!0?u.params:typeof d=="function"?d(u):d:null,_=ku(f,Ue({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return hy(n.default,{Component:_,route:u})||_}}});function hy(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const nM=tM;function rM(t){const e=N2(t.routes,t),n=t.parseQuery||G2,r=t.stringifyQuery||ay,i=t.history,s=ro(),o=ro(),a=ro(),l=PE(kr);let u=kr;Qi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Vf.bind(null,x=>""+x),h=Vf.bind(null,K2),f=Vf.bind(null,cu);function d(x,V){let $,ee;return ww(x)?($=e.getRecordMatcher(x),ee=V):ee=x,e.addRoute(ee,$)}function p(x){const V=e.getRecordMatcher(x);V&&e.removeRoute(V)}function g(){return e.getRoutes().map(x=>x.record)}function _(x){return!!e.getRecordMatcher(x)}function m(x,V){if(V=Ue({},V||l.value),typeof x=="string"){const z=zf(n,x,V.path),re=e.resolve({path:z.path},V),se=i.createHref(z.fullPath);return Ue(z,re,{params:f(re.params),hash:cu(z.hash),redirectedFrom:void 0,href:se})}let $;if("path"in x)$=Ue({},x,{path:zf(n,x.path,V.path).path});else{const z=Ue({},x.params);for(const re in z)z[re]==null&&delete z[re];$=Ue({},x,{params:h(z)}),V.params=h(V.params)}const ee=e.resolve($,V),fe=x.hash||"";ee.params=c(f(ee.params));const M=s2(r,Ue({},x,{hash:H2(fe),path:ee.path})),F=i.createHref(M);return Ue({fullPath:M,hash:fe,query:r===ay?W2(x.query):x.query||{}},ee,{redirectedFrom:void 0,href:F})}function v(x){return typeof x=="string"?zf(n,x,l.value.path):Ue({},x)}function b(x,V){if(u!==x)return Ts(8,{from:V,to:x})}function y(x){return S(x)}function E(x){return y(Ue(v(x),{replace:!0}))}function k(x){const V=x.matched[x.matched.length-1];if(V&&V.redirect){const{redirect:$}=V;let ee=typeof $=="function"?$(x):$;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=v(ee):{path:ee},ee.params={}),Ue({query:x.query,hash:x.hash,params:"path"in ee?{}:x.params},ee)}}function S(x,V){const $=u=m(x),ee=l.value,fe=x.state,M=x.force,F=x.replace===!0,z=k($);if(z)return S(Ue(v(z),{state:typeof z=="object"?Ue({},fe,z.state):fe,force:M,replace:F}),V||$);const re=$;re.redirectedFrom=V;let se;return!M&&o2(r,ee,$)&&(se=Ts(16,{to:re,from:ee}),N(ee,ee,!0,!1)),(se?Promise.resolve(se):O(re,ee)).catch(ae=>rr(ae)?rr(ae,2)?ae:B(ae):ie(ae,re,ee)).then(ae=>{if(ae){if(rr(ae,2))return S(Ue({replace:F},v(ae.to),{state:typeof ae.to=="object"?Ue({},fe,ae.to.state):fe,force:M}),V||re)}else ae=A(re,ee,!0,F,fe);return T(re,ee,ae),ae})}function I(x,V){const $=b(x,V);return $?Promise.reject($):Promise.resolve()}function R(x){const V=J.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(x):x()}function O(x,V){let $;const[ee,fe,M]=iM(x,V);$=Kf(ee.reverse(),"beforeRouteLeave",x,V);for(const z of ee)z.leaveGuards.forEach(re=>{$.push(Nr(re,x,V))});const F=I.bind(null,x,V);return $.push(F),L($).then(()=>{$=[];for(const z of s.list())$.push(Nr(z,x,V));return $.push(F),L($)}).then(()=>{$=Kf(fe,"beforeRouteUpdate",x,V);for(const z of fe)z.updateGuards.forEach(re=>{$.push(Nr(re,x,V))});return $.push(F),L($)}).then(()=>{$=[];for(const z of x.matched)if(z.beforeEnter&&!V.matched.includes(z))if(Nn(z.beforeEnter))for(const re of z.beforeEnter)$.push(Nr(re,x,V));else $.push(Nr(z.beforeEnter,x,V));return $.push(F),L($)}).then(()=>(x.matched.forEach(z=>z.enterCallbacks={}),$=Kf(M,"beforeRouteEnter",x,V),$.push(F),L($))).then(()=>{$=[];for(const z of o.list())$.push(Nr(z,x,V));return $.push(F),L($)}).catch(z=>rr(z,8)?z:Promise.reject(z))}function T(x,V,$){for(const ee of a.list())R(()=>ee(x,V,$))}function A(x,V,$,ee,fe){const M=b(x,V);if(M)return M;const F=V===kr,z=Qi?history.state:{};$&&(ee||F?i.replace(x.fullPath,Ue({scroll:F&&z&&z.scroll},fe)):i.push(x.fullPath,fe)),l.value=x,N(x,V,$,F),B()}let C;function D(){C||(C=i.listen((x,V,$)=>{if(!K.listening)return;const ee=m(x),fe=k(ee);if(fe){S(Ue(fe,{replace:!0}),ee).catch(Io);return}u=ee;const M=l.value;Qi&&p2(Zv(M.fullPath,$.delta),dc()),O(ee,M).catch(F=>rr(F,12)?F:rr(F,2)?(S(F.to,ee).then(z=>{rr(z,20)&&!$.delta&&$.type===ia.pop&&i.go(-1,!1)}).catch(Io),Promise.reject()):($.delta&&i.go(-$.delta,!1),ie(F,ee,M))).then(F=>{F=F||A(ee,M,!1),F&&($.delta&&!rr(F,8)?i.go(-$.delta,!1):$.type===ia.pop&&rr(F,20)&&i.go(-1,!1)),T(ee,M,F)}).catch(Io)}))}let q=ro(),Q=ro(),Y;function ie(x,V,$){B(x);const ee=Q.list();return ee.length?ee.forEach(fe=>fe(x,V,$)):console.error(x),Promise.reject(x)}function X(){return Y&&l.value!==kr?Promise.resolve():new Promise((x,V)=>{q.add([x,V])})}function B(x){return Y||(Y=!x,D(),q.list().forEach(([V,$])=>x?$(x):V()),q.reset()),x}function N(x,V,$,ee){const{scrollBehavior:fe}=t;if(!Qi||!fe)return Promise.resolve();const M=!$&&g2(Zv(x.fullPath,0))||(ee||!$)&&history.state&&history.state.scroll||null;return Po().then(()=>fe(x,V,M)).then(F=>F&&d2(F)).catch(F=>ie(F,x,V))}const j=x=>i.go(x);let U;const J=new Set,K={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:_,getRoutes:g,resolve:m,options:t,push:y,replace:E,go:j,back:()=>j(-1),forward:()=>j(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:Q.add,isReady:X,install(x){const V=this;x.component("RouterLink",J2),x.component("RouterView",nM),x.config.globalProperties.$router=V,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>Xt(l)}),Qi&&!U&&l.value===kr&&(U=!0,y(i.location).catch(fe=>{}));const $={};for(const fe in kr)$[fe]=qt(()=>l.value[fe]);x.provide(pc,V),x.provide(hg,Ut($)),x.provide(rd,l);const ee=x.unmount;J.add(x),x.unmount=function(){J.delete(x),J.size<1&&(u=kr,C&&C(),C=null,l.value=kr,U=!1,Y=!1),ee()}}};function L(x){return x.reduce((V,$)=>V.then(()=>R($)),Promise.resolve())}return K}function iM(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Es(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Es(u,l))||i.push(l))}return[n,r,i]}function sM(){return on(pc)}function qM(){return on(hg)}const oM={class:"app"},aM=aa({__name:"App",setup(t){yw({title:"SEAFOD",titleTemplate:s=>`${s==="SEAFOD"?s:s+" - SEAFOD"} | E-Module Terintegrasi`,meta:[{charset:"UTF-8"},{name:"viewport",content:"width=device-width, initial-scale=1.0 max-scale=1.0"},{name:"description",content:"E-Module Terintegrasi - SEAFOD | Sex education for children"},{name:"theme-color",content:"#39b6bb"},{name:"msapplication-config",content:"/browserconfig.xml"},{name:"msapplication-TileColor",content:"#39b6bb"}],link:[{rel:"shortcut icon",type:"image/svg+xml",href:"/favicon.ico"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"},{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"},{rel:"manifest",href:"/site.webmanifest"},{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#39b6bb"},{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.css",integrity:"sha512-Z0kTB03S7BU+JFU0nw9mjSBcRnZm2Bvm0tzOX9/OuOuz01XQfOpa0w/N9u6Jf2f1OAdegdIPWZ9nIZZ+keEvBw==",crossorigin:"anonymous"},{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Rowdies:wght@300;400;700&display=swap",crossorigin:"anonymous"}],script:[{src:"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js",integrity:"sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==",crossorigin:"anonymous"},{src:"https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.3.1/mdb.min.js",integrity:"sha512-DXEKT9U5aI4s0iPRILUN6itJ0BkIdMYmJg+nnirpdAklNOz972QQhjvdHYnDCn+5W/HBvAiXYG2UaHEHH87gpg==",crossorigin:"anonymous"}]});const e=ht(!1),n=ht("seafod"),r=sM(),i=ht(!0);return e?setTimeout(()=>{i.value=!1},500):setTimeout(()=>{i.value=!1},8e3),r.isReady().then(()=>{Ot().loadApp(n.value).then(()=>{})}),(s,o)=>{const a=fL,l=cT("router-view");return cr(),mo("div",oM,[at(l,null,{default:Do(({Component:u})=>[at(jo,{name:"fade"},{default:Do(()=>[Xt(i)?(cr(),Ll(a,{key:0})):!Xt(i)&&("AppStore"in s?s.AppStore:Xt(Ot))().loadedApp.value?(cr(),Ll(fT(u),{key:1})):uh("",!0)]),_:2},1024)]),_:1})])}}}),lM="modulepreload",uM=function(t,e){return new URL(t,e).href},dy={},nn=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=uM(s,r),s in dy)return;dy[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":lM,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};function cM(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const u=async(h=!0)=>{await l};async function c(){if("serviceWorker"in navigator){const{Workbox:h}=await nn(()=>import("./workbox-window.prod.es5-08b2315b.js"),[],import.meta.url);a=new h("./sw.js",{scope:"./",type:"classic"}),a.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),a.addEventListener("installed",f=>{f.isUpdate||r==null||r()}),a.register({immediate:e}).then(f=>{s?s("./sw.js",f):i==null||i(f)}).catch(f=>{o==null||o(f)})}}return l=c(),u}const fM=[{name:"user",path:"/",component:()=>nn(()=>import("./User-8570ea56.js"),["./User-8570ea56.js","./EMTTitle-11c512fd.js","./EMTTitle-6612a69f.css","./User-9691c710.css"],import.meta.url),children:[{name:"landing",path:"",component:()=>nn(()=>import("./Landing-24dd5cc2.js"),["./Landing-24dd5cc2.js","./EMTTitle-11c512fd.js","./EMTTitle-6612a69f.css","./Landing-97de1607.css"],import.meta.url)},{name:"get-started",path:"get-started",component:()=>nn(()=>import("./GetStarted-57b7d4d8.js"),["./GetStarted-57b7d4d8.js","./EMTTitle-11c512fd.js","./EMTTitle-6612a69f.css","./GetStarted-3cc8dd8b.css"],import.meta.url)},{name:"menu",path:"menu",meta:{playing:!0},component:()=>nn(()=>import("./Menu-e969e578.js"),["./Menu-e969e578.js","./EMTTitle-11c512fd.js","./EMTTitle-6612a69f.css","./Url-6980f45c.js","./Menu-7994390b.css"],import.meta.url)},{name:"play",path:"play/:playingContent",meta:{playing:!0},component:()=>nn(()=>import("./Play-32d5fda4.js"),["./Play-32d5fda4.js","./Url-6980f45c.js","./Play-e7ea10d0.css"],import.meta.url)}]},{name:"admin",path:"/admin",redirect:{path:"/login"},component:()=>nn(()=>import("./Admin-1e00aedf.js"),["./Admin-1e00aedf.js","./Admin-6597ba0d.css"],import.meta.url),children:[{name:"auth",path:"/auth",component:()=>nn(()=>import("./Login-a24de7e4.js"),["./Login-a24de7e4.js","./EMTTitle-11c512fd.js","./EMTTitle-6612a69f.css","./Login-94305be8.css"],import.meta.url),children:[{name:"login",path:"login",alias:"/login",component:()=>nn(()=>import("./Login-a24de7e4.js"),["./Login-a24de7e4.js","./EMTTitle-11c512fd.js","./EMTTitle-6612a69f.css","./Login-94305be8.css"],import.meta.url)},{name:"registration",path:"registration",alias:"/registration",component:()=>nn(()=>import("./Registration-6b1fa3cc.js"),[],import.meta.url)}]},{name:"dashboard",path:"/dashboard",redirect:{name:"dashboard-manage-content",params:{selectedContent:"overview"}},meta:{admin:!0},component:()=>nn(()=>import("./Dashboard-122b6698.js"),["./Dashboard-122b6698.js","./EMTTitle-11c512fd.js","./EMTTitle-6612a69f.css","./Url-6980f45c.js","./Dashboard-0be9c926.css"],import.meta.url),children:[{name:"dashboard-manage-content",path:":selectedContent",component:()=>nn(()=>import("./ManageContent-76bad337.js"),["./ManageContent-76bad337.js","./Url-6980f45c.js","./ManageContent-68e6d215.css"],import.meta.url),meta:{admin:!0},children:[{name:"dashboard-edit-content",path:"/:selectedContent/edit-content",meta:{admin:!0},component:()=>nn(()=>import("./editContent-f39b1834.js"),["./editContent-f39b1834.js","./editContent-c8e6af0f.css"],import.meta.url)}]}]}]}],Oo=rM({history:_2("./"),routes:fM});Oo.beforeEach((t,e,n)=>{t.meta.playing&&!e.name?Oo.push({name:"landing"}):t.meta.admin&&!e.name&&Oo.push({name:"admin"}),n()});Oo.isReady().then(async()=>{cM({immediate:!0,onOfflineReady(){}})}).catch(()=>{});var Nw={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:qe,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:a})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),o=i(18),a=i(19),l=i(45),u=i(46),c=i(47),h=i(48),f=i(49),d=i(12),p=i(32),g=i(33),_=i(31),m=i(1),v={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:s.default,Format:o.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:f.default,Attributor:{Attribute:d.default,Class:p.default,Style:g.default,Store:_.default}};r.default=v},function(n,r,i){var s=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)v.hasOwnProperty(b)&&(m[b]=v[b])};return function(m,v){_(m,v);function b(){this.constructor=m}m.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(_){s(m,_);function m(v){var b=this;return v="[Parchment] "+v,b=_.call(this,v)||this,b.message=v,b.name=b.constructor.name,b}return m}(Error);r.ParchmentError=o;var a={},l={},u={},c={};r.DATA_KEY="__blot";var h;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function f(_,m){var v=p(_);if(v==null)throw new o("Unable to create "+_+" blot");var b=v,y=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:b.create(m);return new b(y,m)}r.create=f;function d(_,m){return m===void 0&&(m=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:m?d(_.parentNode,m):null}r.find=d;function p(_,m){m===void 0&&(m=h.ANY);var v;if(typeof _=="string")v=c[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)v=c.text;else if(typeof _=="number")_&h.LEVEL&h.BLOCK?v=c.block:_&h.LEVEL&h.INLINE&&(v=c.inline);else if(_ instanceof HTMLElement){var b=(_.getAttribute("class")||"").split(/\s+/);for(var y in b)if(v=l[b[y]],v)break;v=v||u[_.tagName]}return v==null?null:m&h.LEVEL&v.scope&&m&h.TYPE&v.scope?v:null}r.query=p;function g(){for(var _=[],m=0;m<arguments.length;m++)_[m]=arguments[m];if(_.length>1)return _.map(function(y){return g(y)});var v=_[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new o("Invalid definition");if(v.blotName==="abstract")throw new o("Cannot register abstract class");if(c[v.blotName||v.attrName]=v,typeof v.keyName=="string")a[v.keyName]=v;else if(v.className!=null&&(l[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(y){return y.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var b=Array.isArray(v.tagName)?v.tagName:[v.tagName];b.forEach(function(y){(u[y]==null||v.className==null)&&(u[y]=v)})}return v}r.register=g},function(n,r,i){var s=i(51),o=i(11),a=i(3),l=i(20),u=String.fromCharCode(0),c=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};c.prototype.insert=function(h,f){var d={};return h.length===0?this:(d.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(d.attributes=f),this.push(d))},c.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},c.prototype.retain=function(h,f){if(h<=0)return this;var d={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(d.attributes=f),this.push(d)},c.prototype.push=function(h){var f=this.ops.length,d=this.ops[f-1];if(h=a(!0,{},h),typeof d=="object"){if(typeof h.delete=="number"&&typeof d.delete=="number")return this.ops[f-1]={delete:d.delete+h.delete},this;if(typeof d.delete=="number"&&h.insert!=null&&(f-=1,d=this.ops[f-1],typeof d!="object"))return this.ops.unshift(h),this;if(o(h.attributes,d.attributes)){if(typeof h.insert=="string"&&typeof d.insert=="string")return this.ops[f-1]={insert:d.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof d.retain=="number")return this.ops[f-1]={retain:d.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},c.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},c.prototype.filter=function(h){return this.ops.filter(h)},c.prototype.forEach=function(h){this.ops.forEach(h)},c.prototype.map=function(h){return this.ops.map(h)},c.prototype.partition=function(h){var f=[],d=[];return this.forEach(function(p){var g=h(p)?f:d;g.push(p)}),[f,d]},c.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},c.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+l.length(f):f.delete?h-f.delete:h},0)},c.prototype.length=function(){return this.reduce(function(h,f){return h+l.length(f)},0)},c.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var d=[],p=l.iterator(this.ops),g=0;g<f&&p.hasNext();){var _;g<h?_=p.next(h-g):(_=p.next(f-g),d.push(_)),g+=l.length(_)}return new c(d)},c.prototype.compose=function(h){var f=l.iterator(this.ops),d=l.iterator(h.ops),p=[],g=d.peek();if(g!=null&&typeof g.retain=="number"&&g.attributes==null){for(var _=g.retain;f.peekType()==="insert"&&f.peekLength()<=_;)_-=f.peekLength(),p.push(f.next());g.retain-_>0&&d.next(g.retain-_)}for(var m=new c(p);f.hasNext()||d.hasNext();)if(d.peekType()==="insert")m.push(d.next());else if(f.peekType()==="delete")m.push(f.next());else{var v=Math.min(f.peekLength(),d.peekLength()),b=f.next(v),y=d.next(v);if(typeof y.retain=="number"){var E={};typeof b.retain=="number"?E.retain=v:E.insert=b.insert;var k=l.attributes.compose(b.attributes,y.attributes,typeof b.retain=="number");if(k&&(E.attributes=k),m.push(E),!d.hasNext()&&o(m.ops[m.ops.length-1],E)){var S=new c(f.rest());return m.concat(S).chop()}}else typeof y.delete=="number"&&typeof b.retain=="number"&&m.push(y)}return m.chop()},c.prototype.concat=function(h){var f=new c(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},c.prototype.diff=function(h,f){if(this.ops===h.ops)return new c;var d=[this,h].map(function(v){return v.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:u;var y=v===h?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),p=new c,g=s(d[0],d[1],f),_=l.iterator(this.ops),m=l.iterator(h.ops);return g.forEach(function(v){for(var b=v[1].length;b>0;){var y=0;switch(v[0]){case s.INSERT:y=Math.min(m.peekLength(),b),p.push(m.next(y));break;case s.DELETE:y=Math.min(b,_.peekLength()),_.next(y),p.delete(y);break;case s.EQUAL:y=Math.min(_.peekLength(),m.peekLength(),b);var E=_.next(y),k=m.next(y);o(E.insert,k.insert)?p.retain(y,l.attributes.diff(E.attributes,k.attributes)):p.push(k).delete(y);break}b-=y}}),p.chop()},c.prototype.eachLine=function(h,f){f=f||`
`;for(var d=l.iterator(this.ops),p=new c,g=0;d.hasNext();){if(d.peekType()!=="insert")return;var _=d.peek(),m=l.length(_)-d.peekLength(),v=typeof _.insert=="string"?_.insert.indexOf(f,m)-m:-1;if(v<0)p.push(d.next());else if(v>0)p.push(d.next(v));else{if(h(p,d.next(1).attributes||{},g)===!1)return;g+=1,p=new c}}p.length()>0&&h(p,{},g)},c.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var d=l.iterator(this.ops),p=l.iterator(h.ops),g=new c;d.hasNext()||p.hasNext();)if(d.peekType()==="insert"&&(f||p.peekType()!=="insert"))g.retain(l.length(d.next()));else if(p.peekType()==="insert")g.push(p.next());else{var _=Math.min(d.peekLength(),p.peekLength()),m=d.next(_),v=p.next(_);if(m.delete)continue;v.delete?g.push(v):g.retain(_,l.attributes.transform(m.attributes,v.attributes,f))}return g.chop()},c.prototype.transformPosition=function(h,f){f=!!f;for(var d=l.iterator(this.ops),p=0;d.hasNext()&&p<=h;){var g=d.peekLength(),_=d.peekType();if(d.next(),_==="delete"){h-=Math.min(g,h-p);continue}else _==="insert"&&(p<h||!f)&&(h+=g);p+=g}return h},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):s.call(d)==="[object Array]"},u=function(d){if(!d||s.call(d)!=="[object Object]")return!1;var p=i.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&i.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!g)return!1;var _;for(_ in d);return typeof _>"u"||i.call(d,_)},c=function(d,p){o&&p.name==="__proto__"?o(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},h=function(d,p){if(p==="__proto__")if(i.call(d,p)){if(a)return a(d,p).value}else return;return d[p]};n.exports=function f(){var d,p,g,_,m,v,b=arguments[0],y=1,E=arguments.length,k=!1;for(typeof b=="boolean"&&(k=b,b=arguments[1]||{},y=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});y<E;++y)if(d=arguments[y],d!=null)for(p in d)g=h(b,p),_=h(d,p),b!==_&&(k&&_&&(u(_)||(m=l(_)))?(m?(m=!1,v=g&&l(g)?g:[]):v=g&&u(g)?g:{},c(b,{name:p,newValue:f(k,v,_)})):typeof _<"u"&&c(b,{name:p,newValue:_}));return b}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var s=function(){function T(A,C){for(var D=0;D<C.length;D++){var q=C[D];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(A,q.key,q)}}return function(A,C,D){return C&&T(A.prototype,C),D&&T(A,D),A}}(),o=function T(A,C,D){A===null&&(A=Function.prototype);var q=Object.getOwnPropertyDescriptor(A,C);if(q===void 0){var Q=Object.getPrototypeOf(A);return Q===null?void 0:T(Q,C,D)}else{if("value"in q)return q.value;var Y=q.get;return Y===void 0?void 0:Y.call(D)}},a=i(3),l=b(a),u=i(2),c=b(u),h=i(0),f=b(h),d=i(16),p=b(d),g=i(6),_=b(g),m=i(7),v=b(m);function b(T){return T&&T.__esModule?T:{default:T}}function y(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function E(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:T}function k(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}var S=1,I=function(T){k(A,T);function A(){return y(this,A),E(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return s(A,[{key:"attach",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(D,q){var Q=f.default.query(D,f.default.Scope.BLOCK_ATTRIBUTE);Q!=null&&this.attributes.attribute(Q,q)}},{key:"formatAt",value:function(D,q,Q,Y){this.format(Q,Y)}},{key:"insertAt",value:function(D,q,Q){if(typeof q=="string"&&q.endsWith(`
`)){var Y=f.default.create(R.blotName);this.parent.insertBefore(Y,D===0?this:this.next),Y.insertAt(0,q.slice(0,-1))}else o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,D,q,Q)}}]),A}(f.default.Embed);I.scope=f.default.Scope.BLOCK_BLOT;var R=function(T){k(A,T);function A(C){y(this,A);var D=E(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C));return D.cache={},D}return s(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(D,q){return q.length()===0?D:D.insert(q.value(),O(q))},new c.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(D,q){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,D,q),this.cache={}}},{key:"formatAt",value:function(D,q,Q,Y){q<=0||(f.default.query(Q,f.default.Scope.BLOCK)?D+q===this.length()&&this.format(Q,Y):o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,D,Math.min(q,this.length()-D-1),Q,Y),this.cache={})}},{key:"insertAt",value:function(D,q,Q){if(Q!=null)return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,D,q,Q);if(q.length!==0){var Y=q.split(`
`),ie=Y.shift();ie.length>0&&(D<this.length()-1||this.children.tail==null?o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(D,this.length()-1),ie):this.children.tail.insertAt(this.children.tail.length(),ie),this.cache={});var X=this;Y.reduce(function(B,N){return X=X.split(B,!0),X.insertAt(0,N),N.length},D+ie.length)}}},{key:"insertBefore",value:function(D,q){var Q=this.children.head;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,D,q),Q instanceof p.default&&Q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(D,q){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,D,q),this.cache={}}},{key:"optimize",value:function(D){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,D),this.cache={}}},{key:"path",value:function(D){return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,D,!0)}},{key:"removeChild",value:function(D){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,D),this.cache={}}},{key:"split",value:function(D){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q&&(D===0||D>=this.length()-S)){var Q=this.clone();return D===0?(this.parent.insertBefore(Q,this),this):(this.parent.insertBefore(Q,this.next),Q)}else{var Y=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,D,q);return this.cache={},Y}}}]),A}(f.default.Block);R.blotName="block",R.tagName="P",R.defaultChild="break",R.allowedChildren=[_.default,f.default.Embed,v.default];function O(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(A=(0,l.default)(A,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?A:O(T.parent,A)}r.bubbleFormats=O,r.BlockEmbed=I,r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},o=function(){function X(B,N){var j=[],U=!0,J=!1,K=void 0;try{for(var L=B[Symbol.iterator](),x;!(U=(x=L.next()).done)&&(j.push(x.value),!(N&&j.length===N));U=!0);}catch(V){J=!0,K=V}finally{try{!U&&L.return&&L.return()}finally{if(J)throw K}}return j}return function(B,N){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return X(B,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function X(B,N){for(var j=0;j<N.length;j++){var U=N[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,U.key,U)}}return function(B,N,j){return N&&X(B.prototype,N),j&&X(B,j),B}}();i(50);var l=i(2),u=O(l),c=i(14),h=O(c),f=i(8),d=O(f),p=i(9),g=O(p),_=i(0),m=O(_),v=i(15),b=O(v),y=i(3),E=O(y),k=i(10),S=O(k),I=i(34),R=O(I);function O(X){return X&&X.__esModule?X:{default:X}}function T(X,B,N){return B in X?Object.defineProperty(X,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):X[B]=N,X}function A(X,B){if(!(X instanceof B))throw new TypeError("Cannot call a class as a function")}var C=(0,S.default)("quill"),D=function(){a(X,null,[{key:"debug",value:function(N){N===!0&&(N="log"),S.default.level(N)}},{key:"find",value:function(N){return N.__quill||m.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&C.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,j){var U=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var K=N.attrName||N.blotName;typeof K=="string"?this.register("formats/"+K,N,j):Object.keys(N).forEach(function(L){U.register(L,N[L],j)})}else this.imports[N]!=null&&!J&&C.warn("Overwriting "+N+" with",j),this.imports[N]=j,(N.startsWith("blots/")||N.startsWith("formats/"))&&j.blotName!=="abstract"?m.default.register(j):N.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function X(B){var N=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,X),this.options=q(B,j),this.container=this.options.container,this.container==null)return C.error("Invalid Quill container",B);this.options.debug&&X.debug(this.options.debug);var U=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(K){K===d.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(K,L){var x=N.selection.lastRange,V=x&&x.length===0?x.index:void 0;Q.call(N,function(){return N.editor.update(null,L,V)},K)});var J=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+U+"<p><br></p></div>");this.setContents(J),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(X,[{key:"addContainer",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var U=N;N=document.createElement("div"),N.classList.add(U)}return this.container.insertBefore(N,j),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,j,U){var J=this,K=Y(N,j,U),L=o(K,4);return N=L[0],j=L[1],U=L[3],Q.call(this,function(){return J.editor.deleteText(N,j)},U,N,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,j){var U=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return Q.call(this,function(){var K=U.getSelection(!0),L=new u.default;if(K==null)return L;if(m.default.query(N,m.default.Scope.BLOCK))L=U.editor.formatLine(K.index,K.length,T({},N,j));else{if(K.length===0)return U.selection.format(N,j),L;L=U.editor.formatText(K.index,K.length,T({},N,j))}return U.setSelection(K,d.default.sources.SILENT),L},J)}},{key:"formatLine",value:function(N,j,U,J,K){var L=this,x=void 0,V=Y(N,j,U,J,K),$=o(V,4);return N=$[0],j=$[1],x=$[2],K=$[3],Q.call(this,function(){return L.editor.formatLine(N,j,x)},K,N,0)}},{key:"formatText",value:function(N,j,U,J,K){var L=this,x=void 0,V=Y(N,j,U,J,K),$=o(V,4);return N=$[0],j=$[1],x=$[2],K=$[3],Q.call(this,function(){return L.editor.formatText(N,j,x)},K,N,0)}},{key:"getBounds",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=void 0;typeof N=="number"?U=this.selection.getBounds(N,j):U=this.selection.getBounds(N.index,N.length);var J=this.container.getBoundingClientRect();return{bottom:U.bottom-J.top,height:U.height,left:U.left-J.left,right:U.right-J.left,top:U.top-J.top,width:U.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,U=Y(N,j),J=o(U,2);return N=J[0],j=J[1],this.editor.getContents(N,j)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,j):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,j)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,U=Y(N,j),J=o(U,2);return N=J[0],j=J[1],this.editor.getText(N,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,j,U){var J=this,K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X.sources.API;return Q.call(this,function(){return J.editor.insertEmbed(N,j,U)},K,N)}},{key:"insertText",value:function(N,j,U,J,K){var L=this,x=void 0,V=Y(N,0,U,J,K),$=o(V,4);return N=$[0],x=$[2],K=$[3],Q.call(this,function(){return L.editor.insertText(N,j,x)},K,N,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,j,U){this.clipboard.dangerouslyPasteHTML(N,j,U)}},{key:"removeFormat",value:function(N,j,U){var J=this,K=Y(N,j,U),L=o(K,4);return N=L[0],j=L[1],U=L[3],Q.call(this,function(){return J.editor.removeFormat(N,j)},U,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return Q.call(this,function(){N=new u.default(N);var J=j.getLength(),K=j.editor.deleteText(0,J),L=j.editor.applyDelta(N),x=L.ops[L.ops.length-1];x!=null&&typeof x.insert=="string"&&x.insert[x.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),L.delete(1));var V=K.compose(L);return V},U)}},{key:"setSelection",value:function(N,j,U){if(N==null)this.selection.setRange(null,j||X.sources.API);else{var J=Y(N,j,U),K=o(J,4);N=K[0],j=K[1],U=K[3],this.selection.setRange(new v.Range(N,j),U),U!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,U=new u.default().insert(N);return this.setContents(U,j)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,j=this.scroll.update(N);return this.selection.update(N),j}},{key:"updateContents",value:function(N){var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return Q.call(this,function(){return N=new u.default(N),j.editor.applyDelta(N,U)},U,!0)}}]),X}();D.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},D.events=d.default.events,D.sources=d.default.sources,D.version="1.3.7",D.imports={delta:u.default,parchment:m.default,"core/module":g.default,"core/theme":R.default};function q(X,B){if(B=(0,E.default)(!0,{container:X,modules:{clipboard:!0,keyboard:!0,history:!0}},B),!B.theme||B.theme===D.DEFAULTS.theme)B.theme=R.default;else if(B.theme=D.import("themes/"+B.theme),B.theme==null)throw new Error("Invalid theme "+B.theme+". Did you register it?");var N=(0,E.default)(!0,{},B.theme.DEFAULTS);[N,B].forEach(function(J){J.modules=J.modules||{},Object.keys(J.modules).forEach(function(K){J.modules[K]===!0&&(J.modules[K]={})})});var j=Object.keys(N.modules).concat(Object.keys(B.modules)),U=j.reduce(function(J,K){var L=D.import("modules/"+K);return L==null?C.error("Cannot load "+K+" module. Are you sure you registered it?"):J[K]=L.DEFAULTS||{},J},{});return B.modules!=null&&B.modules.toolbar&&B.modules.toolbar.constructor!==Object&&(B.modules.toolbar={container:B.modules.toolbar}),B=(0,E.default)(!0,{},D.DEFAULTS,{modules:U},N,B),["bounds","container","scrollingContainer"].forEach(function(J){typeof B[J]=="string"&&(B[J]=document.querySelector(B[J]))}),B.modules=Object.keys(B.modules).reduce(function(J,K){return B.modules[K]&&(J[K]=B.modules[K]),J},{}),B}function Q(X,B,N,j){if(this.options.strict&&!this.isEnabled()&&B===d.default.sources.USER)return new u.default;var U=N==null?null:this.getSelection(),J=this.editor.delta,K=X();if(U!=null&&(N===!0&&(N=U.index),j==null?U=ie(U,K,B):j!==0&&(U=ie(U,N,j,B)),this.setSelection(U,d.default.sources.SILENT)),K.length()>0){var L,x=[d.default.events.TEXT_CHANGE,K,J,B];if((L=this.emitter).emit.apply(L,[d.default.events.EDITOR_CHANGE].concat(x)),B!==d.default.sources.SILENT){var V;(V=this.emitter).emit.apply(V,x)}}return K}function Y(X,B,N,j,U){var J={};return typeof X.index=="number"&&typeof X.length=="number"?typeof B!="number"?(U=j,j=N,N=B,B=X.length,X=X.index):(B=X.length,X=X.index):typeof B!="number"&&(U=j,j=N,N=B,B=0),(typeof N>"u"?"undefined":s(N))==="object"?(J=N,U=j):typeof N=="string"&&(j!=null?J[N]=j:U=N),U=U||d.default.sources.API,[X,B,J,U]}function ie(X,B,N,j){if(X==null)return null;var U=void 0,J=void 0;if(B instanceof u.default){var K=[X.index,X.index+X.length].map(function($){return B.transformPosition($,j!==d.default.sources.USER)}),L=o(K,2);U=L[0],J=L[1]}else{var x=[X.index,X.index+X.length].map(function($){return $<B||$===B&&j===d.default.sources.USER?$:N>=0?$+N:Math.max(B,$+N)}),V=o(x,2);U=V[0],J=V[1]}return new v.Range(U,J-U)}r.expandConfig=q,r.overload=Y,r.default=D},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(m,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,b){return v&&_(m.prototype,v),b&&_(m,b),m}}(),o=function _(m,v,b){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:_(E,v,b)}else{if("value"in y)return y.value;var k=y.get;return k===void 0?void 0:k.call(b)}},a=i(7),l=h(a),u=i(0),c=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function d(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function p(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var g=function(_){p(m,_);function m(){return f(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"formatAt",value:function(b,y,E,k){if(m.compare(this.statics.blotName,E)<0&&c.default.query(E,c.default.Scope.BLOT)){var S=this.isolate(b,y);k&&S.wrap(E,k)}else o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,b,y,E,k)}},{key:"optimize",value:function(b){if(o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,b),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(b,y){var E=m.order.indexOf(b),k=m.order.indexOf(y);return E>=0||k>=0?E-k:b===y?0:b<y?-1:1}}]),m}(c.default.Inline);g.allowedChildren=[g,c.default.Embed,l.default],g.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function v(b,y){for(var E=0;E<y.length;E++){var k=y[E];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,y,E){return y&&v(b.prototype,y),E&&v(b,E),b}}(),o=function v(b,y,E){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,y);if(k===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:v(S,y,E)}else{if("value"in k)return k.value;var I=k.get;return I===void 0?void 0:I.call(E)}},a=i(54),l=h(a),u=i(10),c=h(u);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function d(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function p(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var g=(0,c.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(v){document.addEventListener(v,function(){for(var b=arguments.length,y=Array(b),E=0;E<b;E++)y[E]=arguments[E];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var S;(S=k.__quill.emitter).handleDOM.apply(S,y)}})})});var m=function(v){p(b,v);function b(){f(this,b);var y=d(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return y.listeners={},y.on("error",g.error),y}return s(b,[{key:"emit",value:function(){g.log.apply(g,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(E){for(var k=arguments.length,S=Array(k>1?k-1:0),I=1;I<k;I++)S[I-1]=arguments[I];(this.listeners[E.type]||[]).forEach(function(R){var O=R.node,T=R.handler;(E.target===O||O.contains(E.target))&&T.apply(void 0,[E].concat(S))})}},{key:"listenDOM",value:function(E,k,S){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push({node:k,handler:S})}}]),b}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,a),this.quill=l,this.options=u};o.DEFAULTS={},r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=["error","warn","log","info"],o="warn";function a(u){if(s.indexOf(u)<=s.indexOf(o)){for(var c,h=arguments.length,f=Array(h>1?h-1:0),d=1;d<h;d++)f[d-1]=arguments[d];(c=console)[u].apply(c,f)}}function l(u){return s.reduce(function(c,h){return c[h]=a.bind(console,h,u),c},{})}a.level=l.level=function(u){o=u},r.default=l},function(n,r,i){var s=Array.prototype.slice,o=i(52),a=i(53),l=n.exports=function(f,d,p){return p||(p={}),f===d?!0:f instanceof Date&&d instanceof Date?f.getTime()===d.getTime():!f||!d||typeof f!="object"&&typeof d!="object"?p.strict?f===d:f==d:h(f,d,p)};function u(f){return f==null}function c(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,d,p){var g,_;if(u(f)||u(d)||f.prototype!==d.prototype)return!1;if(a(f))return a(d)?(f=s.call(f),d=s.call(d),l(f,d,p)):!1;if(c(f)){if(!c(d)||f.length!==d.length)return!1;for(g=0;g<f.length;g++)if(f[g]!==d[g])return!1;return!0}try{var m=o(f),v=o(d)}catch{return!1}if(m.length!=v.length)return!1;for(m.sort(),v.sort(),g=m.length-1;g>=0;g--)if(m[g]!=v[g])return!1;for(g=m.length-1;g>=0;g--)if(_=m[g],!l(f[_],d[_],p))return!1;return typeof f==typeof d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var h=s.Scope.TYPE&s.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&s.Scope.LEVEL|h:this.scope=s.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=s.query(l,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var s=function(){function I(R,O){var T=[],A=!0,C=!1,D=void 0;try{for(var q=R[Symbol.iterator](),Q;!(A=(Q=q.next()).done)&&(T.push(Q.value),!(O&&T.length===O));A=!0);}catch(Y){C=!0,D=Y}finally{try{!A&&q.return&&q.return()}finally{if(C)throw D}}return T}return function(R,O){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return I(R,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(R,O){for(var T=0;T<O.length;T++){var A=O[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(R,A.key,A)}}return function(R,O,T){return O&&I(R.prototype,O),T&&I(R,T),R}}(),a=function I(R,O,T){R===null&&(R=Function.prototype);var A=Object.getOwnPropertyDescriptor(R,O);if(A===void 0){var C=Object.getPrototypeOf(R);return C===null?void 0:I(C,O,T)}else{if("value"in A)return A.value;var D=A.get;return D===void 0?void 0:D.call(T)}},l=i(2),u=v(l),c=i(0),h=v(c),f=i(4),d=v(f),p=i(6),g=v(p),_=i(7),m=v(_);function v(I){return I&&I.__esModule?I:{default:I}}function b(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}function y(I,R){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:I}function E(I,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);I.prototype=Object.create(R&&R.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(I,R):I.__proto__=R)}var k=function(I){E(R,I);function R(){return b(this,R),y(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return R}(g.default);k.blotName="code",k.tagName="CODE";var S=function(I){E(R,I);function R(){return b(this,R),y(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"delta",value:function(){var T=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(C,D){return C.insert(D).insert(`
`,T.formats())},new u.default)}},{key:"format",value:function(T,A){if(!(T===this.statics.blotName&&A)){var C=this.descendant(m.default,this.length()-1),D=s(C,1),q=D[0];q!=null&&q.deleteAt(q.length()-1,1),a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,T,A)}}},{key:"formatAt",value:function(T,A,C,D){if(A!==0&&!(h.default.query(C,h.default.Scope.BLOCK)==null||C===this.statics.blotName&&D===this.statics.formats(this.domNode))){var q=this.newlineIndex(T);if(!(q<0||q>=T+A)){var Q=this.newlineIndex(T,!0)+1,Y=q-Q+1,ie=this.isolate(Q,Y),X=ie.next;ie.format(C,D),X instanceof R&&X.formatAt(0,T-Q+A-Y,C,D)}}}},{key:"insertAt",value:function(T,A,C){if(C==null){var D=this.descendant(m.default,T),q=s(D,2),Q=q[0],Y=q[1];Q.insertAt(Y,A)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var C=this.domNode.textContent.slice(T).indexOf(`
`);return C>-1?T+C:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,T);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(T),A.moveChildren(this),A.remove())}},{key:"replace",value:function(T){a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var C=h.default.find(A);C==null?A.parentNode.removeChild(A):C instanceof h.default.Embed?C.remove():C.unwrap()})}}],[{key:"create",value:function(T){var A=a(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,T);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),R}(d.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=k,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},o=function(){function X(B,N){var j=[],U=!0,J=!1,K=void 0;try{for(var L=B[Symbol.iterator](),x;!(U=(x=L.next()).done)&&(j.push(x.value),!(N&&j.length===N));U=!0);}catch(V){J=!0,K=V}finally{try{!U&&L.return&&L.return()}finally{if(J)throw K}}return j}return function(B,N){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return X(B,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function X(B,N){for(var j=0;j<N.length;j++){var U=N[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,U.key,U)}}return function(B,N,j){return N&&X(B.prototype,N),j&&X(B,j),B}}(),l=i(2),u=A(l),c=i(20),h=A(c),f=i(0),d=A(f),p=i(13),g=A(p),_=i(24),m=A(_),v=i(4),b=A(v),y=i(16),E=A(y),k=i(21),S=A(k),I=i(11),R=A(I),O=i(3),T=A(O);function A(X){return X&&X.__esModule?X:{default:X}}function C(X,B,N){return B in X?Object.defineProperty(X,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):X[B]=N,X}function D(X,B){if(!(X instanceof B))throw new TypeError("Cannot call a class as a function")}var q=/^[ -~]*$/,Q=function(){function X(B){D(this,X),this.scroll=B,this.delta=this.getDelta()}return a(X,[{key:"applyDelta",value:function(N){var j=this,U=!1;this.scroll.update();var J=this.scroll.length();return this.scroll.batchStart(),N=ie(N),N.reduce(function(K,L){var x=L.retain||L.delete||L.insert.length||1,V=L.attributes||{};if(L.insert!=null){if(typeof L.insert=="string"){var $=L.insert;$.endsWith(`
`)&&U&&(U=!1,$=$.slice(0,-1)),K>=J&&!$.endsWith(`
`)&&(U=!0),j.scroll.insertAt(K,$);var ee=j.scroll.line(K),fe=o(ee,2),M=fe[0],F=fe[1],z=(0,T.default)({},(0,v.bubbleFormats)(M));if(M instanceof b.default){var re=M.descendant(d.default.Leaf,F),se=o(re,1),ae=se[0];z=(0,T.default)(z,(0,v.bubbleFormats)(ae))}V=h.default.attributes.diff(z,V)||{}}else if(s(L.insert)==="object"){var W=Object.keys(L.insert)[0];if(W==null)return K;j.scroll.insertAt(K,W,L.insert[W])}J+=x}return Object.keys(V).forEach(function(G){j.scroll.formatAt(K,x,G,V[G])}),K+x},0),N.reduce(function(K,L){return typeof L.delete=="number"?(j.scroll.deleteAt(K,L.delete),K):K+(L.retain||L.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,j){return this.scroll.deleteAt(N,j),this.update(new u.default().retain(N).delete(j))}},{key:"formatLine",value:function(N,j){var U=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(J).forEach(function(K){if(!(U.scroll.whitelist!=null&&!U.scroll.whitelist[K])){var L=U.scroll.lines(N,Math.max(j,1)),x=j;L.forEach(function(V){var $=V.length();if(!(V instanceof g.default))V.format(K,J[K]);else{var ee=N-V.offset(U.scroll),fe=V.newlineIndex(ee+x)-ee+1;V.formatAt(ee,fe,K,J[K])}x-=$})}}),this.scroll.optimize(),this.update(new u.default().retain(N).retain(j,(0,S.default)(J)))}},{key:"formatText",value:function(N,j){var U=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(J).forEach(function(K){U.scroll.formatAt(N,j,K,J[K])}),this.update(new u.default().retain(N).retain(j,(0,S.default)(J)))}},{key:"getContents",value:function(N,j){return this.delta.slice(N,N+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,j){return N.concat(j.delta())},new u.default)}},{key:"getFormat",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=[],J=[];j===0?this.scroll.path(N).forEach(function(L){var x=o(L,1),V=x[0];V instanceof b.default?U.push(V):V instanceof d.default.Leaf&&J.push(V)}):(U=this.scroll.lines(N,j),J=this.scroll.descendants(d.default.Leaf,N,j));var K=[U,J].map(function(L){if(L.length===0)return{};for(var x=(0,v.bubbleFormats)(L.shift());Object.keys(x).length>0;){var V=L.shift();if(V==null)return x;x=Y((0,v.bubbleFormats)(V),x)}return x});return T.default.apply(T.default,K)}},{key:"getText",value:function(N,j){return this.getContents(N,j).filter(function(U){return typeof U.insert=="string"}).map(function(U){return U.insert}).join("")}},{key:"insertEmbed",value:function(N,j,U){return this.scroll.insertAt(N,j,U),this.update(new u.default().retain(N).insert(C({},j,U)))}},{key:"insertText",value:function(N,j){var U=this,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,j),Object.keys(J).forEach(function(K){U.scroll.formatAt(N,j.length,K,J[K])}),this.update(new u.default().retain(N).insert(j,(0,S.default)(J)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==b.default.blotName||N.children.length>1?!1:N.children.head instanceof E.default}},{key:"removeFormat",value:function(N,j){var U=this.getText(N,j),J=this.scroll.line(N+j),K=o(J,2),L=K[0],x=K[1],V=0,$=new u.default;L!=null&&(L instanceof g.default?V=L.newlineIndex(x)-x+1:V=L.length()-x,$=L.delta().slice(x,x+V-1).insert(`
`));var ee=this.getContents(N,j+V),fe=ee.diff(new u.default().insert(U).concat($)),M=new u.default().retain(N).concat(fe);return this.applyDelta(M)}},{key:"update",value:function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,J=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(q)&&d.default.find(j[0].target)){var K=d.default.find(j[0].target),L=(0,v.bubbleFormats)(K),x=K.offset(this.scroll),V=j[0].oldValue.replace(m.default.CONTENTS,""),$=new u.default().insert(V),ee=new u.default().insert(K.value()),fe=new u.default().retain(x).concat($.diff(ee,U));N=fe.reduce(function(M,F){return F.insert?M.insert(F.insert,L):M.push(F)},new u.default),this.delta=J.compose(N)}else this.delta=this.getDelta(),(!N||!(0,R.default)(J.compose(N),this.delta))&&(N=J.diff(this.delta,U));return N}}]),X}();function Y(X,B){return Object.keys(B).reduce(function(N,j){return X[j]==null||(B[j]===X[j]?N[j]=B[j]:Array.isArray(B[j])?B[j].indexOf(X[j])<0&&(N[j]=B[j].concat([X[j]])):N[j]=[B[j],X[j]]),N},{})}function ie(X){return X.reduce(function(B,N){if(N.insert===1){var j=(0,S.default)(N.attributes);return delete j.image,B.insert({image:N.attributes.image},j)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,S.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var U=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return B.insert(U,N.attributes)}return B.push(N)},new u.default)}r.default=Q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var s=function(){function I(R,O){var T=[],A=!0,C=!1,D=void 0;try{for(var q=R[Symbol.iterator](),Q;!(A=(Q=q.next()).done)&&(T.push(Q.value),!(O&&T.length===O));A=!0);}catch(Y){C=!0,D=Y}finally{try{!A&&q.return&&q.return()}finally{if(C)throw D}}return T}return function(R,O){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return I(R,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function I(R,O){for(var T=0;T<O.length;T++){var A=O[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(R,A.key,A)}}return function(R,O,T){return O&&I(R.prototype,O),T&&I(R,T),R}}(),a=i(0),l=m(a),u=i(21),c=m(u),h=i(11),f=m(h),d=i(8),p=m(d),g=i(10),_=m(g);function m(I){return I&&I.__esModule?I:{default:I}}function v(I){if(Array.isArray(I)){for(var R=0,O=Array(I.length);R<I.length;R++)O[R]=I[R];return O}else return Array.from(I)}function b(I,R){if(!(I instanceof R))throw new TypeError("Cannot call a class as a function")}var y=(0,_.default)("quill:selection"),E=function I(R){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,I),this.index=R,this.length=O},k=function(){function I(R,O){var T=this;b(this,I),this.emitter=O,this.scroll=R,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new E(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,p.default.sources.USER),1)}),this.emitter.on(p.default.events.EDITOR_CHANGE,function(A,C){A===p.default.events.TEXT_CHANGE&&C.length()>0&&T.update(p.default.sources.SILENT)}),this.emitter.on(p.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var A=T.getNativeRange();A!=null&&A.start.node!==T.cursor.textNode&&T.emitter.once(p.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(p.default.events.SCROLL_OPTIMIZE,function(A,C){if(C.range){var D=C.range,q=D.startNode,Q=D.startOffset,Y=D.endNode,ie=D.endOffset;T.setNativeRange(q,Q,Y,ie)}}),this.update(p.default.sources.SILENT)}return o(I,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var T=O.cursor.restore();if(!T)return;setTimeout(function(){O.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(p.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||l.default.query(O,l.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var C=l.default.find(A.start.node,!1);if(C==null)return;if(C instanceof l.default.Leaf){var D=C.split(A.start.offset);C.parent.insertBefore(this.cursor,D)}else C.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(O,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();O=Math.min(O,A-1),T=Math.min(O+T,A-1)-O;var C=void 0,D=this.scroll.leaf(O),q=s(D,2),Q=q[0],Y=q[1];if(Q==null)return null;var ie=Q.position(Y,!0),X=s(ie,2);C=X[0],Y=X[1];var B=document.createRange();if(T>0){B.setStart(C,Y);var N=this.scroll.leaf(O+T),j=s(N,2);if(Q=j[0],Y=j[1],Q==null)return null;var U=Q.position(Y,!0),J=s(U,2);return C=J[0],Y=J[1],B.setEnd(C,Y),B.getBoundingClientRect()}else{var K="left",L=void 0;return C instanceof Text?(Y<C.data.length?(B.setStart(C,Y),B.setEnd(C,Y+1)):(B.setStart(C,Y-1),B.setEnd(C,Y),K="right"),L=B.getBoundingClientRect()):(L=Q.domNode.getBoundingClientRect(),Y>0&&(K="right")),{bottom:L.top+L.height,height:L.height,left:L[K],right:L[K],top:L.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var T=O.getRangeAt(0);if(T==null)return null;var A=this.normalizeNative(T);return y.info("getNativeRange",A),A}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var T=this.normalizedToRange(O);return[T,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var T=this,A=[[O.start.node,O.start.offset]];O.native.collapsed||A.push([O.end.node,O.end.offset]);var C=A.map(function(Q){var Y=s(Q,2),ie=Y[0],X=Y[1],B=l.default.find(ie,!0),N=B.offset(T.scroll);return X===0?N:B instanceof l.default.Container?N+B.length():N+B.index(ie,X)}),D=Math.min(Math.max.apply(Math,v(C)),this.scroll.length()-1),q=Math.min.apply(Math,[D].concat(v(C)));return new E(q,D-q)}},{key:"normalizeNative",value:function(O){if(!S(this.root,O.startContainer)||!O.collapsed&&!S(this.root,O.endContainer))return null;var T={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[T.start,T.end].forEach(function(A){for(var C=A.node,D=A.offset;!(C instanceof Text)&&C.childNodes.length>0;)if(C.childNodes.length>D)C=C.childNodes[D],D=0;else if(C.childNodes.length===D)C=C.lastChild,D=C instanceof Text?C.data.length:C.childNodes.length+1;else break;A.node=C,A.offset=D}),T}},{key:"rangeToNative",value:function(O){var T=this,A=O.collapsed?[O.index]:[O.index,O.index+O.length],C=[],D=this.scroll.length();return A.forEach(function(q,Q){q=Math.min(D-1,q);var Y=void 0,ie=T.scroll.leaf(q),X=s(ie,2),B=X[0],N=X[1],j=B.position(N,Q!==0),U=s(j,2);Y=U[0],N=U[1],C.push(Y,N)}),C.length<2&&(C=C.concat(C)),C}},{key:"scrollIntoView",value:function(O){var T=this.lastRange;if(T!=null){var A=this.getBounds(T.index,T.length);if(A!=null){var C=this.scroll.length()-1,D=this.scroll.line(Math.min(T.index,C)),q=s(D,1),Q=q[0],Y=Q;if(T.length>0){var ie=this.scroll.line(Math.min(T.index+T.length,C)),X=s(ie,1);Y=X[0]}if(!(Q==null||Y==null)){var B=O.getBoundingClientRect();A.top<B.top?O.scrollTop-=B.top-A.top:A.bottom>B.bottom&&(O.scrollTop+=A.bottom-B.bottom)}}}}},{key:"setNativeRange",value:function(O,T){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",O,T,A,C),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||A.parentNode==null))){var q=document.getSelection();if(q!=null)if(O!=null){this.hasFocus()||this.root.focus();var Q=(this.getNativeRange()||{}).native;if(Q==null||D||O!==Q.startContainer||T!==Q.startOffset||A!==Q.endContainer||C!==Q.endOffset){O.tagName=="BR"&&(T=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),A.tagName=="BR"&&(C=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var Y=document.createRange();Y.setStart(O,T),Y.setEnd(A,C),q.removeAllRanges(),q.addRange(Y)}}else q.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof T=="string"&&(A=T,T=!1),y.info("setRange",O),O!=null){var C=this.rangeToNative(O);this.setNativeRange.apply(this,v(C).concat([T]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,T=this.lastRange,A=this.getRange(),C=s(A,2),D=C[0],q=C[1];if(this.lastRange=D,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(T,this.lastRange)){var Q;!this.composing&&q!=null&&q.native.collapsed&&q.start.node!==this.cursor.textNode&&this.cursor.restore();var Y=[p.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(T),O];if((Q=this.emitter).emit.apply(Q,[p.default.events.EDITOR_CHANGE].concat(Y)),O!==p.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,Y)}}}}]),I}();function S(I,R){try{R.parentNode}catch{return!1}return R instanceof Text&&(R=R.parentNode),I.contains(R)}r.Range=E,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(g,_){for(var m=0;m<_.length;m++){var v=_[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,_,m){return _&&p(g.prototype,_),m&&p(g,m),g}}(),o=function p(g,_,m){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,_);if(v===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:p(b,_,m)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(m)}},a=i(0),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var d=function(p){f(g,p);function g(){return c(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"insertInto",value:function(m,v){m.children.length===0?o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"insertInto",this).call(this,m,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),g}(l.default.Embed);d.blotName="break",d.tagName="BR",r.default=d},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)d.hasOwnProperty(p)&&(f[p]=d[p])};return function(f,d){h(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),a=i(30),l=i(1),u=function(h){s(f,h);function f(d){var p=h.call(this,d)||this;return p.build(),p}return f.prototype.appendChild=function(d){this.insertBefore(d)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},f.prototype.build=function(){var d=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(p){try{var g=c(p);d.insertBefore(g,d.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},f.prototype.deleteAt=function(d,p){if(d===0&&p===this.length())return this.remove();this.children.forEachAt(d,p,function(g,_,m){g.deleteAt(_,m)})},f.prototype.descendant=function(d,p){var g=this.children.find(p),_=g[0],m=g[1];return d.blotName==null&&d(_)||d.blotName!=null&&_ instanceof d?[_,m]:_ instanceof f?_.descendant(d,m):[null,-1]},f.prototype.descendants=function(d,p,g){p===void 0&&(p=0),g===void 0&&(g=Number.MAX_VALUE);var _=[],m=g;return this.children.forEachAt(p,g,function(v,b,y){(d.blotName==null&&d(v)||d.blotName!=null&&v instanceof d)&&_.push(v),v instanceof f&&(_=_.concat(v.descendants(d,b,m))),m-=y}),_},f.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(d,p,g,_){this.children.forEachAt(d,p,function(m,v,b){m.formatAt(v,b,g,_)})},f.prototype.insertAt=function(d,p,g){var _=this.children.find(d),m=_[0],v=_[1];if(m)m.insertAt(v,p,g);else{var b=g==null?l.create("text",p):l.create(p,g);this.appendChild(b)}},f.prototype.insertBefore=function(d,p){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return d instanceof g}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,p)},f.prototype.length=function(){return this.children.reduce(function(d,p){return d+p.length()},0)},f.prototype.moveChildren=function(d,p){this.children.forEach(function(g){d.insertBefore(g,p)})},f.prototype.optimize=function(d){if(h.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var p=l.create(this.statics.defaultChild);this.appendChild(p),p.optimize(d)}else this.remove()},f.prototype.path=function(d,p){p===void 0&&(p=!1);var g=this.children.find(d,p),_=g[0],m=g[1],v=[[this,d]];return _ instanceof f?v.concat(_.path(m,p)):(_!=null&&v.push([_,m]),v)},f.prototype.removeChild=function(d){this.children.remove(d)},f.prototype.replace=function(d){d instanceof f&&d.moveChildren(this),h.prototype.replace.call(this,d)},f.prototype.split=function(d,p){if(p===void 0&&(p=!1),!p){if(d===0)return this;if(d===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(d,this.length(),function(_,m,v){_=_.split(m,p),g.appendChild(_)}),g},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(d,p){var g=this,_=[],m=[];d.forEach(function(v){v.target===g.domNode&&v.type==="childList"&&(_.push.apply(_,v.addedNodes),m.push.apply(m,v.removedNodes))}),m.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=l.find(v);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===g.domNode)&&b.detach()}}),_.filter(function(v){return v.parentNode==g.domNode}).sort(function(v,b){return v===b?0:v.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var b=null;v.nextSibling!=null&&(b=l.find(v.nextSibling));var y=c(v);(y.next!=b||y.next==null)&&(y.parent!=null&&y.parent.removeChild(g),g.insertBefore(y,b||void 0))})},f}(a.default);function c(h){var f=l.find(h);if(f==null)try{f=l.create(h)}catch{f=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(p){f.domNode.appendChild(p)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)d.hasOwnProperty(p)&&(f[p]=d[p])};return function(f,d){h(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=i(31),l=i(17),u=i(1),c=function(h){s(f,h);function f(d){var p=h.call(this,d)||this;return p.attributes=new a.default(p.domNode),p}return f.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},f.prototype.format=function(d,p){var g=u.query(d);g instanceof o.default?this.attributes.attribute(g,p):p&&g!=null&&(d!==this.statics.blotName||this.formats()[d]!==p)&&this.replaceWith(d,p)},f.prototype.formats=function(){var d=this.attributes.values(),p=this.statics.formats(this.domNode);return p!=null&&(d[this.statics.blotName]=p),d},f.prototype.replaceWith=function(d,p){var g=h.prototype.replaceWith.call(this,d,p);return this.attributes.copy(g),g},f.prototype.update=function(d,p){var g=this;h.prototype.update.call(this,d,p),d.some(function(_){return _.target===g.domNode&&_.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(d,p){var g=h.prototype.wrap.call(this,d,p);return g instanceof f&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},f}(l.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),a=i(1),l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(h){return!0},c.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},c.prototype.position=function(h,f){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(d+=1),[this.parent.domNode,d]},c.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=i(11),o=i(3),a={attributes:{compose:function(u,c,h){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=o(!0,{},c);h||(f=Object.keys(f).reduce(function(p,g){return f[g]!=null&&(p[g]=f[g]),p},{}));for(var d in u)u[d]!==void 0&&c[d]===void 0&&(f[d]=u[d]);return Object.keys(f).length>0?f:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=Object.keys(u).concat(Object.keys(c)).reduce(function(f,d){return s(u[d],c[d])||(f[d]=c[d]===void 0?null:c[d]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(u,c,h){if(typeof u!="object")return c;if(typeof c=="object"){if(!h)return c;var f=Object.keys(c).reduce(function(d,p){return u[p]===void 0&&(d[p]=c[p]),d},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var h=this.offset,f=a.length(c);if(u>=f-h?(u=f-h,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var d={};return c.attributes&&(d.attributes=c.attributes),typeof c.retain=="number"?d.retain=u:typeof c.insert=="string"?d.insert=c.insert.substr(h,u):d.insert=c.insert,d}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=c,[h].concat(f)}else return[]},n.exports=a},function(n,r){var i=function(){function s(g,_){return _!=null&&g instanceof _}var o;try{o=Map}catch{o=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(g,_,m,v,b){typeof _=="object"&&(m=_.depth,v=_.prototype,b=_.includeNonEnumerable,_=_.circular);var y=[],E=[],k=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof m>"u"&&(m=1/0);function S(I,R){if(I===null)return null;if(R===0)return I;var O,T;if(typeof I!="object")return I;if(s(I,o))O=new o;else if(s(I,a))O=new a;else if(s(I,l))O=new l(function(B,N){I.then(function(j){B(S(j,R-1))},function(j){N(S(j,R-1))})});else if(u.__isArray(I))O=[];else if(u.__isRegExp(I))O=new RegExp(I.source,p(I)),I.lastIndex&&(O.lastIndex=I.lastIndex);else if(u.__isDate(I))O=new Date(I.getTime());else{if(k&&Buffer.isBuffer(I))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(I.length):O=new Buffer(I.length),I.copy(O),O;s(I,Error)?O=Object.create(I):typeof v>"u"?(T=Object.getPrototypeOf(I),O=Object.create(T)):(O=Object.create(v),T=v)}if(_){var A=y.indexOf(I);if(A!=-1)return E[A];y.push(I),E.push(O)}s(I,o)&&I.forEach(function(B,N){var j=S(N,R-1),U=S(B,R-1);O.set(j,U)}),s(I,a)&&I.forEach(function(B){var N=S(B,R-1);O.add(N)});for(var C in I){var D;T&&(D=Object.getOwnPropertyDescriptor(T,C)),!(D&&D.set==null)&&(O[C]=S(I[C],R-1))}if(Object.getOwnPropertySymbols)for(var q=Object.getOwnPropertySymbols(I),C=0;C<q.length;C++){var Q=q[C],Y=Object.getOwnPropertyDescriptor(I,Q);Y&&!Y.enumerable&&!b||(O[Q]=S(I[Q],R-1),Y.enumerable||Object.defineProperty(O,Q,{enumerable:!1}))}if(b)for(var ie=Object.getOwnPropertyNames(I),C=0;C<ie.length;C++){var X=ie[C],Y=Object.getOwnPropertyDescriptor(I,X);Y&&Y.enumerable||(O[X]=S(I[X],R-1),Object.defineProperty(O,X,{enumerable:!1}))}return O}return S(g,m)}u.clonePrototype=function(_){if(_===null)return null;var m=function(){};return m.prototype=_,new m};function c(g){return Object.prototype.toString.call(g)}u.__objToStr=c;function h(g){return typeof g=="object"&&c(g)==="[object Date]"}u.__isDate=h;function f(g){return typeof g=="object"&&c(g)==="[object Array]"}u.__isArray=f;function d(g){return typeof g=="object"&&c(g)==="[object RegExp]"}u.__isRegExp=d;function p(g){var _="";return g.global&&(_+="g"),g.ignoreCase&&(_+="i"),g.multiline&&(_+="m"),_}return u.__getRegExpFlags=p,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function O(T,A){var C=[],D=!0,q=!1,Q=void 0;try{for(var Y=T[Symbol.iterator](),ie;!(D=(ie=Y.next()).done)&&(C.push(ie.value),!(A&&C.length===A));D=!0);}catch(X){q=!0,Q=X}finally{try{!D&&Y.return&&Y.return()}finally{if(q)throw Q}}return C}return function(T,A){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return O(T,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function O(T,A){for(var C=0;C<A.length;C++){var D=A[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,A,C){return A&&O(T.prototype,A),C&&O(T,C),T}}(),a=function O(T,A,C){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,A);if(D===void 0){var q=Object.getPrototypeOf(T);return q===null?void 0:O(q,A,C)}else{if("value"in D)return D.value;var Q=D.get;return Q===void 0?void 0:Q.call(C)}},l=i(0),u=y(l),c=i(8),h=y(c),f=i(4),d=y(f),p=i(16),g=y(p),_=i(13),m=y(_),v=i(25),b=y(v);function y(O){return O&&O.__esModule?O:{default:O}}function E(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}function k(O,T){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:O}function S(O,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);O.prototype=Object.create(T&&T.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(O,T):O.__proto__=T)}function I(O){return O instanceof d.default||O instanceof f.BlockEmbed}var R=function(O){S(T,O);function T(A,C){E(this,T);var D=k(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A));return D.emitter=C.emitter,Array.isArray(C.whitelist)&&(D.whitelist=C.whitelist.reduce(function(q,Q){return q[Q]=!0,q},{})),D.domNode.addEventListener("DOMNodeInserted",function(){}),D.optimize(),D.enable(),D}return o(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(C,D){var q=this.line(C),Q=s(q,2),Y=Q[0],ie=Q[1],X=this.line(C+D),B=s(X,1),N=B[0];if(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,C,D),N!=null&&Y!==N&&ie>0){if(Y instanceof f.BlockEmbed||N instanceof f.BlockEmbed){this.optimize();return}if(Y instanceof m.default){var j=Y.newlineIndex(Y.length(),!0);if(j>-1&&(Y=Y.split(j+1),Y===N)){this.optimize();return}}else if(N instanceof m.default){var U=N.newlineIndex(0);U>-1&&N.split(U+1)}var J=N.children.head instanceof g.default?null:N.children.head;Y.moveChildren(N,J),Y.remove()}this.optimize()}},{key:"enable",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",C)}},{key:"formatAt",value:function(C,D,q,Q){this.whitelist!=null&&!this.whitelist[q]||(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,C,D,q,Q),this.optimize())}},{key:"insertAt",value:function(C,D,q){if(!(q!=null&&this.whitelist!=null&&!this.whitelist[D])){if(C>=this.length())if(q==null||u.default.query(D,u.default.Scope.BLOCK)==null){var Q=u.default.create(this.statics.defaultChild);this.appendChild(Q),q==null&&D.endsWith(`
`)&&(D=D.slice(0,-1)),Q.insertAt(0,D,q)}else{var Y=u.default.create(D,q);this.appendChild(Y)}else a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,C,D,q);this.optimize()}}},{key:"insertBefore",value:function(C,D){if(C.statics.scope===u.default.Scope.INLINE_BLOT){var q=u.default.create(this.statics.defaultChild);q.appendChild(C),C=q}a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,C,D)}},{key:"leaf",value:function(C){return this.path(C).pop()||[null,-1]}},{key:"line",value:function(C){return C===this.length()?this.line(C-1):this.descendant(I,C)}},{key:"lines",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,q=function Q(Y,ie,X){var B=[],N=X;return Y.children.forEachAt(ie,X,function(j,U,J){I(j)?B.push(j):j instanceof u.default.Container&&(B=B.concat(Q(j,U,N))),N-=J}),B};return q(this,C,D)}},{key:"optimize",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,C,D),C.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,C,D))}},{key:"path",value:function(C){return a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,C).slice(1)}},{key:"update",value:function(C){if(this.batch!==!0){var D=h.default.sources.USER;typeof C=="string"&&(D=C),Array.isArray(C)||(C=this.observer.takeRecords()),C.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,D,C),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,C.concat([])),C.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,D,C)}}}]),T}(u.default.Scroll);R.blotName="scroll",R.className="ql-editor",R.tagName="DIV",R.defaultChild="block",R.allowedChildren=[d.default,f.BlockEmbed,b.default],r.default=R},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},o=function(){function L(x,V){var $=[],ee=!0,fe=!1,M=void 0;try{for(var F=x[Symbol.iterator](),z;!(ee=(z=F.next()).done)&&($.push(z.value),!(V&&$.length===V));ee=!0);}catch(re){fe=!0,M=re}finally{try{!ee&&F.return&&F.return()}finally{if(fe)throw M}}return $}return function(x,V){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return L(x,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function L(x,V){for(var $=0;$<V.length;$++){var ee=V[$];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(x,ee.key,ee)}}return function(x,V,$){return V&&L(x.prototype,V),$&&L(x,$),x}}(),l=i(21),u=O(l),c=i(11),h=O(c),f=i(3),d=O(f),p=i(2),g=O(p),_=i(20),m=O(_),v=i(0),b=O(v),y=i(5),E=O(y),k=i(10),S=O(k),I=i(9),R=O(I);function O(L){return L&&L.__esModule?L:{default:L}}function T(L,x,V){return x in L?Object.defineProperty(L,x,{value:V,enumerable:!0,configurable:!0,writable:!0}):L[x]=V,L}function A(L,x){if(!(L instanceof x))throw new TypeError("Cannot call a class as a function")}function C(L,x){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:L}function D(L,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);L.prototype=Object.create(x&&x.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(L,x):L.__proto__=x)}var q=(0,S.default)("quill:keyboard"),Q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Y=function(L){D(x,L),a(x,null,[{key:"match",value:function($,ee){return ee=K(ee),["altKey","ctrlKey","metaKey","shiftKey"].some(function(fe){return!!ee[fe]!==$[fe]&&ee[fe]!==null})?!1:ee.key===($.which||$.keyCode)}}]);function x(V,$){A(this,x);var ee=C(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,V,$));return ee.bindings={},Object.keys(ee.options.bindings).forEach(function(fe){fe==="list autofill"&&V.scroll.whitelist!=null&&!V.scroll.whitelist.list||ee.options.bindings[fe]&&ee.addBinding(ee.options.bindings[fe])}),ee.addBinding({key:x.keys.ENTER,shiftKey:null},j),ee.addBinding({key:x.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ee.addBinding({key:x.keys.BACKSPACE},{collapsed:!0},X),ee.addBinding({key:x.keys.DELETE},{collapsed:!0},B)):(ee.addBinding({key:x.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},X),ee.addBinding({key:x.keys.DELETE},{collapsed:!0,suffix:/^.?$/},B)),ee.addBinding({key:x.keys.BACKSPACE},{collapsed:!1},N),ee.addBinding({key:x.keys.DELETE},{collapsed:!1},N),ee.addBinding({key:x.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},X),ee.listen(),ee}return a(x,[{key:"addBinding",value:function($){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=K($);if(M==null||M.key==null)return q.warn("Attempted to add invalid keyboard binding",M);typeof ee=="function"&&(ee={handler:ee}),typeof fe=="function"&&(fe={handler:fe}),M=(0,d.default)(M,ee,fe),this.bindings[M.key]=this.bindings[M.key]||[],this.bindings[M.key].push(M)}},{key:"listen",value:function(){var $=this;this.quill.root.addEventListener("keydown",function(ee){if(!ee.defaultPrevented){var fe=ee.which||ee.keyCode,M=($.bindings[fe]||[]).filter(function(Te){return x.match(ee,Te)});if(M.length!==0){var F=$.quill.getSelection();if(!(F==null||!$.quill.hasFocus())){var z=$.quill.getLine(F.index),re=o(z,2),se=re[0],ae=re[1],W=$.quill.getLeaf(F.index),G=o(W,2),te=G[0],Z=G[1],ne=F.length===0?[te,Z]:$.quill.getLeaf(F.index+F.length),ue=o(ne,2),ce=ue[0],de=ue[1],be=te instanceof b.default.Text?te.value().slice(0,Z):"",Ie=ce instanceof b.default.Text?ce.value().slice(de):"",me={collapsed:F.length===0,empty:F.length===0&&se.length()<=1,format:$.quill.getFormat(F),offset:ae,prefix:be,suffix:Ie},He=M.some(function(Te){if(Te.collapsed!=null&&Te.collapsed!==me.collapsed||Te.empty!=null&&Te.empty!==me.empty||Te.offset!=null&&Te.offset!==me.offset)return!1;if(Array.isArray(Te.format)){if(Te.format.every(function(Je){return me.format[Je]==null}))return!1}else if(s(Te.format)==="object"&&!Object.keys(Te.format).every(function(Je){return Te.format[Je]===!0?me.format[Je]!=null:Te.format[Je]===!1?me.format[Je]==null:(0,h.default)(Te.format[Je],me.format[Je])}))return!1;return Te.prefix!=null&&!Te.prefix.test(me.prefix)||Te.suffix!=null&&!Te.suffix.test(me.suffix)?!1:Te.handler.call($,F,me)!==!0});He&&ee.preventDefault()}}}})}}]),x}(R.default);Y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Y.DEFAULTS={bindings:{bold:J("bold"),italic:J("italic"),underline:J("underline"),indent:{key:Y.keys.TAB,format:["blockquote","indent","list"],handler:function(x,V){if(V.collapsed&&V.offset!==0)return!0;this.quill.format("indent","+1",E.default.sources.USER)}},outdent:{key:Y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(x,V){if(V.collapsed&&V.offset!==0)return!0;this.quill.format("indent","-1",E.default.sources.USER)}},"outdent backspace":{key:Y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(x,V){V.format.indent!=null?this.quill.format("indent","-1",E.default.sources.USER):V.format.list!=null&&this.quill.format("list",!1,E.default.sources.USER)}},"indent code-block":U(!0),"outdent code-block":U(!1),"remove tab":{key:Y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(x){this.quill.deleteText(x.index-1,1,E.default.sources.USER)}},tab:{key:Y.keys.TAB,handler:function(x){this.quill.history.cutoff();var V=new g.default().retain(x.index).delete(x.length).insert("	");this.quill.updateContents(V,E.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(x.index+1,E.default.sources.SILENT)}},"list empty enter":{key:Y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(x,V){this.quill.format("list",!1,E.default.sources.USER),V.format.indent&&this.quill.format("indent",!1,E.default.sources.USER)}},"checklist enter":{key:Y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(x){var V=this.quill.getLine(x.index),$=o(V,2),ee=$[0],fe=$[1],M=(0,d.default)({},ee.formats(),{list:"checked"}),F=new g.default().retain(x.index).insert(`
`,M).retain(ee.length()-fe-1).retain(1,{list:"unchecked"});this.quill.updateContents(F,E.default.sources.USER),this.quill.setSelection(x.index+1,E.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(x,V){var $=this.quill.getLine(x.index),ee=o($,2),fe=ee[0],M=ee[1],F=new g.default().retain(x.index).insert(`
`,V.format).retain(fe.length()-M-1).retain(1,{header:null});this.quill.updateContents(F,E.default.sources.USER),this.quill.setSelection(x.index+1,E.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(x,V){var $=V.prefix.length,ee=this.quill.getLine(x.index),fe=o(ee,2),M=fe[0],F=fe[1];if(F>$)return!0;var z=void 0;switch(V.prefix.trim()){case"[]":case"[ ]":z="unchecked";break;case"[x]":z="checked";break;case"-":case"*":z="bullet";break;default:z="ordered"}this.quill.insertText(x.index," ",E.default.sources.USER),this.quill.history.cutoff();var re=new g.default().retain(x.index-F).delete($+1).retain(M.length()-2-F).retain(1,{list:z});this.quill.updateContents(re,E.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(x.index-$,E.default.sources.SILENT)}},"code exit":{key:Y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(x){var V=this.quill.getLine(x.index),$=o(V,2),ee=$[0],fe=$[1],M=new g.default().retain(x.index+ee.length()-fe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(M,E.default.sources.USER)}},"embed left":ie(Y.keys.LEFT,!1),"embed left shift":ie(Y.keys.LEFT,!0),"embed right":ie(Y.keys.RIGHT,!1),"embed right shift":ie(Y.keys.RIGHT,!0)}};function ie(L,x){var V,$=L===Y.keys.LEFT?"prefix":"suffix";return V={key:L,shiftKey:x,altKey:null},T(V,$,/^$/),T(V,"handler",function(fe){var M=fe.index;L===Y.keys.RIGHT&&(M+=fe.length+1);var F=this.quill.getLeaf(M),z=o(F,1),re=z[0];return re instanceof b.default.Embed?(L===Y.keys.LEFT?x?this.quill.setSelection(fe.index-1,fe.length+1,E.default.sources.USER):this.quill.setSelection(fe.index-1,E.default.sources.USER):x?this.quill.setSelection(fe.index,fe.length+1,E.default.sources.USER):this.quill.setSelection(fe.index+fe.length+1,E.default.sources.USER),!1):!0}),V}function X(L,x){if(!(L.index===0||this.quill.getLength()<=1)){var V=this.quill.getLine(L.index),$=o(V,1),ee=$[0],fe={};if(x.offset===0){var M=this.quill.getLine(L.index-1),F=o(M,1),z=F[0];if(z!=null&&z.length()>1){var re=ee.formats(),se=this.quill.getFormat(L.index-1,1);fe=m.default.attributes.diff(re,se)||{}}}var ae=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(x.prefix)?2:1;this.quill.deleteText(L.index-ae,ae,E.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(L.index-ae,ae,fe,E.default.sources.USER),this.quill.focus()}}function B(L,x){var V=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(x.suffix)?2:1;if(!(L.index>=this.quill.getLength()-V)){var $={},ee=0,fe=this.quill.getLine(L.index),M=o(fe,1),F=M[0];if(x.offset>=F.length()-1){var z=this.quill.getLine(L.index+1),re=o(z,1),se=re[0];if(se){var ae=F.formats(),W=this.quill.getFormat(L.index,1);$=m.default.attributes.diff(ae,W)||{},ee=se.length()}}this.quill.deleteText(L.index,V,E.default.sources.USER),Object.keys($).length>0&&this.quill.formatLine(L.index+ee-1,V,$,E.default.sources.USER)}}function N(L){var x=this.quill.getLines(L),V={};if(x.length>1){var $=x[0].formats(),ee=x[x.length-1].formats();V=m.default.attributes.diff(ee,$)||{}}this.quill.deleteText(L,E.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(L.index,1,V,E.default.sources.USER),this.quill.setSelection(L.index,E.default.sources.SILENT),this.quill.focus()}function j(L,x){var V=this;L.length>0&&this.quill.scroll.deleteAt(L.index,L.length);var $=Object.keys(x.format).reduce(function(ee,fe){return b.default.query(fe,b.default.Scope.BLOCK)&&!Array.isArray(x.format[fe])&&(ee[fe]=x.format[fe]),ee},{});this.quill.insertText(L.index,`
`,$,E.default.sources.USER),this.quill.setSelection(L.index+1,E.default.sources.SILENT),this.quill.focus(),Object.keys(x.format).forEach(function(ee){$[ee]==null&&(Array.isArray(x.format[ee])||ee!=="link"&&V.quill.format(ee,x.format[ee],E.default.sources.USER))})}function U(L){return{key:Y.keys.TAB,shiftKey:!L,format:{"code-block":!0},handler:function(V){var $=b.default.query("code-block"),ee=V.index,fe=V.length,M=this.quill.scroll.descendant($,ee),F=o(M,2),z=F[0],re=F[1];if(z!=null){var se=this.quill.getIndex(z),ae=z.newlineIndex(re,!0)+1,W=z.newlineIndex(se+re+fe),G=z.domNode.textContent.slice(ae,W).split(`
`);re=0,G.forEach(function(te,Z){L?(z.insertAt(ae+re,$.TAB),re+=$.TAB.length,Z===0?ee+=$.TAB.length:fe+=$.TAB.length):te.startsWith($.TAB)&&(z.deleteAt(ae+re,$.TAB.length),re-=$.TAB.length,Z===0?ee-=$.TAB.length:fe-=$.TAB.length),re+=te.length+1}),this.quill.update(E.default.sources.USER),this.quill.setSelection(ee,fe,E.default.sources.SILENT)}}}}function J(L){return{key:L[0].toUpperCase(),shortKey:!0,handler:function(V,$){this.quill.format(L,!$.format[L],E.default.sources.USER)}}}function K(L){if(typeof L=="string"||typeof L=="number")return K({key:L});if((typeof L>"u"?"undefined":s(L))==="object"&&(L=(0,u.default)(L,!1)),typeof L.key=="string")if(Y.keys[L.key.toUpperCase()]!=null)L.key=Y.keys[L.key.toUpperCase()];else if(L.key.length===1)L.key=L.key.toUpperCase().charCodeAt(0);else return null;return L.shortKey&&(L[Q]=L.shortKey,delete L.shortKey),L}r.default=Y,r.SHORTKEY=Q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(v,b){var y=[],E=!0,k=!1,S=void 0;try{for(var I=v[Symbol.iterator](),R;!(E=(R=I.next()).done)&&(y.push(R.value),!(b&&y.length===b));E=!0);}catch(O){k=!0,S=O}finally{try{!E&&I.return&&I.return()}finally{if(k)throw S}}return y}return function(v,b){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return m(v,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function m(v,b,y){v===null&&(v=Function.prototype);var E=Object.getOwnPropertyDescriptor(v,b);if(E===void 0){var k=Object.getPrototypeOf(v);return k===null?void 0:m(k,b,y)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(y)}},a=function(){function m(v,b){for(var y=0;y<b.length;y++){var E=b[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,b,y){return b&&m(v.prototype,b),y&&m(v,y),v}}(),l=i(0),u=f(l),c=i(7),h=f(c);function f(m){return m&&m.__esModule?m:{default:m}}function d(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function p(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function g(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var _=function(m){g(v,m),a(v,null,[{key:"value",value:function(){}}]);function v(b,y){d(this,v);var E=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return E.selection=y,E.textNode=document.createTextNode(v.CONTENTS),E.domNode.appendChild(E.textNode),E._length=0,E}return a(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,E){if(this._length!==0)return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,y,E);for(var k=this,S=0;k!=null&&k.statics.scope!==u.default.Scope.BLOCK_BLOT;)S+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=v.CONTENTS.length,k.optimize(),k.formatAt(S,v.CONTENTS.length,y,E),this._length=0)}},{key:"index",value:function(y,E){return y===this.textNode?0:o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,y,E)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,E=this.selection.getNativeRange(),k=void 0,S=void 0,I=void 0;if(E!=null&&E.start.node===y&&E.end.node===y){var R=[y,E.start.offset,E.end.offset];k=R[0],S=R[1],I=R[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var O=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof h.default?(k=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=v.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var T=[S,I].map(function(C){return Math.max(0,Math.min(k.data.length,C-1))}),A=s(T,2);return S=A[0],I=A[1],{startNode:k,startOffset:S,endNode:k,endOffset:I}}}}},{key:"update",value:function(y,E){var k=this;if(y.some(function(I){return I.type==="characterData"&&I.target===k.textNode})){var S=this.restore();S&&(E.range=S)}}},{key:"value",value:function(){return""}}]),v}(u.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=u(s),a=i(4),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var d=function(p){f(g,p);function g(){return c(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return g}(o.default.Container);d.allowedChildren=[l.default,a.BlockEmbed,d],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var s=function(){function _(m,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,b){return v&&_(m.prototype,v),b&&_(m,b),m}}(),o=function _(m,v,b){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:_(E,v,b)}else{if("value"in y)return y.value;var k=y.get;return k===void 0?void 0:k.call(b)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function c(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function h(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function f(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var d=function(_){f(m,_);function m(){return c(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"value",value:function(b){var y=o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,b);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(E){return("00"+parseInt(E).toString(16)).slice(-2)}).join("")):y}}]),m}(l.default.Attributor.Style),p=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),g=new d("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=d,r.ColorClass=p,r.ColorStyle=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var s=function(){function g(_,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,m,v){return m&&g(_.prototype,m),v&&g(_,v),_}}(),o=function g(_,m,v){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,m);if(b===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:g(y,m,v)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(v)}},a=i(6),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function h(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function f(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var d=function(g){f(_,g);function _(){return c(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"format",value:function(v,b){if(v!==this.statics.blotName||!b)return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,v,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(v){var b=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,v);return v=this.sanitize(v),b.setAttribute("href",v),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return p(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),_}(l.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function p(g,_){var m=document.createElement("a");m.href=g;var v=m.href.slice(0,m.href.indexOf(":"));return _.indexOf(v)>-1}r.default=d,r.sanitize=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},o=function(){function _(m,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,b){return v&&_(m.prototype,v),b&&_(m,b),m}}(),a=i(23),l=h(a),u=i(107),c=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}var d=0;function p(_,m){_.setAttribute(m,_.getAttribute(m)!=="true")}var g=function(){function _(m){var v=this;f(this,_),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:v.togglePicker();break;case l.default.keys.ESCAPE:v.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),p(this.label,"aria-expanded"),p(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var b=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),v.hasAttribute("value")&&y.setAttribute("data-value",v.getAttribute("value")),v.textContent&&y.setAttribute("data-label",v.textContent),y.addEventListener("click",function(){b.selectItem(y,!0)}),y.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:b.selectItem(y,!0),E.preventDefault();break;case l.default.keys.ESCAPE:b.escape(),E.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=c.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(y){var E=v.buildItem(y);b.appendChild(E),y.selected===!0&&v.selectItem(E)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(b){v.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(v!==y&&(y!=null&&y.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var E=document.createEvent("Event");E.initEvent("change",!0,!0),this.select.dispatchEvent(E)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var y=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),_}();r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(0),o=q(s),a=i(5),l=q(a),u=i(4),c=q(u),h=i(16),f=q(h),d=i(25),p=q(d),g=i(24),_=q(g),m=i(35),v=q(m),b=i(6),y=q(b),E=i(22),k=q(E),S=i(7),I=q(S),R=i(55),O=q(R),T=i(42),A=q(T),C=i(23),D=q(C);function q(Q){return Q&&Q.__esModule?Q:{default:Q}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":p.default,"blots/cursor":_.default,"blots/embed":v.default,"blots/inline":y.default,"blots/scroll":k.default,"blots/text":I.default,"modules/clipboard":O.default,"modules/history":A.default,"modules/keyboard":D.default}),o.default.register(c.default,f.default,_.default,y.default,k.default,I.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(1),o=function(){function a(l){this.domNode=l,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return s.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,h){var f=this.isolate(l,u);if(s.query(c,s.Scope.BLOT)!=null&&h)f.wrap(c,h);else if(s.query(c,s.Scope.ATTRIBUTE)!=null){var d=s.create(this.statics.scope);f.wrap(d),d.format(c,h)}},a.prototype.insertAt=function(l,u,c){var h=c==null?s.create("text",u):s.create(u,c),f=this.split(l);this.parent.insertBefore(h,f)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?s.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?s.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),o=i(32),a=i(33),l=i(1),u=function(){function c(h){this.attributes={},this.domNode=h,this.build()}return c.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},c.prototype.build=function(){var h=this;this.attributes={};var f=s.default.keys(this.domNode),d=o.default.keys(this.domNode),p=a.default.keys(this.domNode);f.concat(d).concat(p).forEach(function(g){var _=l.query(g,l.Scope.ATTRIBUTE);_ instanceof s.default&&(h.attributes[_.attrName]=_)})},c.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(d){var p=f.attributes[d].value(f.domNode);h.format(d,p)})},c.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(d){f.attributes[d].remove(f.domNode)}),this.attributes={}},c.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,d){return f[d]=h.attributes[d].value(h.domNode),f},{})},c}();r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(u,c){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(c+"-")===0})}var l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},c.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},c.prototype.remove=function(h){var f=a(h,this.keyName);f.forEach(function(d){h.classList.remove(d)}),h.classList.length===0&&h.removeAttribute("class")},c.prototype.value=function(h){var f=a(h,this.keyName)[0]||"",d=f.slice(this.keyName.length+1);return this.canAdd(h,d)?d:""},c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function a(u){var c=u.split("-"),h=c.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return c[0]+h}var l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var d=f.split(":");return d[0].trim()})},c.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[a(this.keyName)]=f,!0):!1},c.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},c.prototype.value=function(h){var f=h.style[a(this.keyName)];return this.canAdd(h,f)?f:""},c}(o.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(u,c){for(var h=0;h<c.length;h++){var f=c[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){o(this,l),this.quill=u,this.options=c,this.modules={}}return s(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(h){c.modules[h]==null&&c.addModule(h)})}},{key:"addModule",value:function(c){var h=this.quill.constructor.import("modules/"+c);return this.modules[c]=new h(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function m(v,b){for(var y=0;y<b.length;y++){var E=b[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,b,y){return b&&m(v.prototype,b),y&&m(v,y),v}}(),o=function m(v,b,y){v===null&&(v=Function.prototype);var E=Object.getOwnPropertyDescriptor(v,b);if(E===void 0){var k=Object.getPrototypeOf(v);return k===null?void 0:m(k,b,y)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(y)}},a=i(0),l=h(a),u=i(7),c=h(u);function h(m){return m&&m.__esModule?m:{default:m}}function f(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function d(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function p(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var g="\uFEFF",_=function(m){p(v,m);function v(b){f(this,v);var y=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(E){y.contentNode.appendChild(E)}),y.leftGuard=document.createTextNode(g),y.rightGuard=document.createTextNode(g),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return s(v,[{key:"index",value:function(y,E){return y===this.leftGuard?0:y===this.rightGuard?1:o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,y,E)}},{key:"restore",value:function(y){var E=void 0,k=void 0,S=y.data.split(g).join("");if(y===this.leftGuard)if(this.prev instanceof c.default){var I=this.prev.length();this.prev.insertAt(I,S),E={startNode:this.prev.domNode,startOffset:I+S.length}}else k=document.createTextNode(S),this.parent.insertBefore(l.default.create(k),this),E={startNode:k,startOffset:S.length};else y===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,S),E={startNode:this.next.domNode,startOffset:S.length}):(k=document.createTextNode(S),this.parent.insertBefore(l.default.create(k),this.next),E={startNode:k,startOffset:S.length}));return y.data=g,E}},{key:"update",value:function(y,E){var k=this;y.forEach(function(S){if(S.type==="characterData"&&(S.target===k.leftGuard||S.target===k.rightGuard)){var I=k.restore(S.target);I&&(E.range=I)}})}}]),v}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),h=new o.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var s=i(0),o=l(s),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var s=i(0),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),h=new o.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var s=function(){function m(v,b){for(var y=0;y<b.length;y++){var E=b[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(v,E.key,E)}}return function(v,b,y){return b&&m(v.prototype,b),y&&m(v,y),v}}(),o=function m(v,b,y){v===null&&(v=Function.prototype);var E=Object.getOwnPropertyDescriptor(v,b);if(E===void 0){var k=Object.getPrototypeOf(v);return k===null?void 0:m(k,b,y)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(y)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function c(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function h(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:m}function f(m,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}var d={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},p=new l.default.Attributor.Class("font","ql-font",d),g=function(m){f(v,m);function v(){return c(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,[{key:"value",value:function(y){return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),v}(l.default.Attributor.Style),_=new g("font","font-family",d);r.FontStyle=_,r.FontClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var s=i(0),o=a(s);function a(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var s=function(){function b(y,E){for(var k=0;k<E.length;k++){var S=E[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,E,k){return E&&b(y.prototype,E),k&&b(y,k),y}}(),o=i(0),a=f(o),l=i(5),u=f(l),c=i(9),h=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function d(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function p(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function g(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var _=function(b){g(y,b);function y(E,k){d(this,y);var S=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,E,k));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(u.default.events.EDITOR_CHANGE,function(I,R,O,T){I!==u.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||T===u.default.sources.USER?S.record(R,O):S.transform(R))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return s(y,[{key:"change",value:function(k,S){if(this.stack[k].length!==0){var I=this.stack[k].pop();this.stack[S].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[k],u.default.sources.USER),this.ignoreChange=!1;var R=v(I[k]);this.quill.setSelection(R)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,S){if(k.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(S),R=Date.now();if(this.lastRecorded+this.options.delay>R&&this.stack.undo.length>0){var O=this.stack.undo.pop();I=I.compose(O.undo),k=O.redo.compose(k)}else this.lastRecorded=R;this.stack.undo.push({redo:k,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=k.transform(S.undo,!0),S.redo=k.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(h.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(b){var y=b.ops[b.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(E){return a.default.query(E,a.default.Scope.BLOCK)!=null}):!1}function v(b){var y=b.reduce(function(k,S){return k+=S.delete||0,k},0),E=b.length()-y;return m(b)&&(E-=1),E}r.default=_,r.getLastChangeIndex=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var s=function(){function j(U,J){for(var K=0;K<J.length;K++){var L=J[K];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(U,L.key,L)}}return function(U,J,K){return J&&j(U.prototype,J),K&&j(U,K),U}}(),o=function j(U,J,K){U===null&&(U=Function.prototype);var L=Object.getOwnPropertyDescriptor(U,J);if(L===void 0){var x=Object.getPrototypeOf(U);return x===null?void 0:j(x,J,K)}else{if("value"in L)return L.value;var V=L.get;return V===void 0?void 0:V.call(K)}},a=i(3),l=R(a),u=i(2),c=R(u),h=i(8),f=R(h),d=i(23),p=R(d),g=i(34),_=R(g),m=i(59),v=R(m),b=i(60),y=R(b),E=i(28),k=R(E),S=i(61),I=R(S);function R(j){return j&&j.__esModule?j:{default:j}}function O(j,U){if(!(j instanceof U))throw new TypeError("Cannot call a class as a function")}function T(j,U){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:j}function A(j,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);j.prototype=Object.create(U&&U.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(j,U):j.__proto__=U)}var C=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],q=[!1,"serif","monospace"],Q=["1","2","3",!1],Y=["small",!1,"large","huge"],ie=function(j){A(U,j);function U(J,K){O(this,U);var L=T(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,J,K)),x=function V($){if(!document.body.contains(J.root))return document.body.removeEventListener("click",V);L.tooltip!=null&&!L.tooltip.root.contains($.target)&&document.activeElement!==L.tooltip.textbox&&!L.quill.hasFocus()&&L.tooltip.hide(),L.pickers!=null&&L.pickers.forEach(function(ee){ee.container.contains($.target)||ee.close()})};return J.emitter.listenDOM("click",document.body,x),L}return s(U,[{key:"addModule",value:function(K){var L=o(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"addModule",this).call(this,K);return K==="toolbar"&&this.extendToolbar(L),L}},{key:"buildButtons",value:function(K,L){K.forEach(function(x){var V=x.getAttribute("class")||"";V.split(/\s+/).forEach(function($){if($.startsWith("ql-")&&($=$.slice(3),L[$]!=null))if($==="direction")x.innerHTML=L[$][""]+L[$].rtl;else if(typeof L[$]=="string")x.innerHTML=L[$];else{var ee=x.value||"";ee!=null&&L[$][ee]&&(x.innerHTML=L[$][ee])}})})}},{key:"buildPickers",value:function(K,L){var x=this;this.pickers=K.map(function($){if($.classList.contains("ql-align"))return $.querySelector("option")==null&&N($,C),new y.default($,L.align);if($.classList.contains("ql-background")||$.classList.contains("ql-color")){var ee=$.classList.contains("ql-background")?"background":"color";return $.querySelector("option")==null&&N($,D,ee==="background"?"#ffffff":"#000000"),new v.default($,L[ee])}else return $.querySelector("option")==null&&($.classList.contains("ql-font")?N($,q):$.classList.contains("ql-header")?N($,Q):$.classList.contains("ql-size")&&N($,Y)),new k.default($)});var V=function(){x.pickers.forEach(function(ee){ee.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,V)}}]),U}(_.default);ie.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var U=this,J=this.container.querySelector("input.ql-image[type=file]");J==null&&(J=document.createElement("input"),J.setAttribute("type","file"),J.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),J.classList.add("ql-image"),J.addEventListener("change",function(){if(J.files!=null&&J.files[0]!=null){var K=new FileReader;K.onload=function(L){var x=U.quill.getSelection(!0);U.quill.updateContents(new c.default().retain(x.index).delete(x.length).insert({image:L.target.result}),f.default.sources.USER),U.quill.setSelection(x.index+1,f.default.sources.SILENT),J.value=""},K.readAsDataURL(J.files[0])}}),this.container.appendChild(J)),J.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var X=function(j){A(U,j);function U(J,K){O(this,U);var L=T(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,J,K));return L.textbox=L.root.querySelector('input[type="text"]'),L.listen(),L}return s(U,[{key:"listen",value:function(){var K=this;this.textbox.addEventListener("keydown",function(L){p.default.match(L,"enter")?(K.save(),L.preventDefault()):p.default.match(L,"escape")&&(K.cancel(),L.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),L!=null?this.textbox.value=L:K!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+K)||""),this.root.setAttribute("data-mode",K)}},{key:"restoreFocus",value:function(){var K=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=K}},{key:"save",value:function(){var K=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var L=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",K,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",K,f.default.sources.USER)),this.quill.root.scrollTop=L;break}case"video":K=B(K);case"formula":{if(!K)break;var x=this.quill.getSelection(!0);if(x!=null){var V=x.index+x.length;this.quill.insertEmbed(V,this.root.getAttribute("data-mode"),K,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(V+1," ",f.default.sources.USER),this.quill.setSelection(V+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),U}(I.default);function B(j){var U=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return U?(U[1]||"https")+"://www.youtube.com/embed/"+U[2]+"?showinfo=0":(U=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(U[1]||"https")+"://player.vimeo.com/video/"+U[2]+"/":j}function N(j,U){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;U.forEach(function(K){var L=document.createElement("option");K===J?L.setAttribute("selected","selected"):L.setAttribute("value",K),j.appendChild(L)})}r.BaseTooltip=X,r.default=ie},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},o.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},o.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},o.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},o.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},o.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var h=u.length();if(a<h||l&&a===h&&(u.next==null||u.next.length()!==0))return[u,a];a-=h}return[null,0]},o.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},o.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),h=c[0],f=c[1],d,p=a-f,g=this.iterator(h);(d=g())&&p<a+l;){var _=d.length();a>p?u(d,a-p,Math.min(l,p+_-a)):u(d,0,Math.min(_,a+l-p)),p+=_}},o.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},o.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},o}();r.default=s},function(n,r,i){var s=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)d.hasOwnProperty(p)&&(f[p]=d[p])};return function(f,d){h(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(h){s(f,h);function f(d){var p=h.call(this,d)||this;return p.scroll=p,p.observer=new MutationObserver(function(g){p.update(g)}),p.observer.observe(p.domNode,l),p.attach(),p}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(d,p){this.update(),d===0&&p===this.length()?this.children.forEach(function(g){g.remove()}):h.prototype.deleteAt.call(this,d,p)},f.prototype.formatAt=function(d,p,g,_){this.update(),h.prototype.formatAt.call(this,d,p,g,_)},f.prototype.insertAt=function(d,p,g){this.update(),h.prototype.insertAt.call(this,d,p,g)},f.prototype.optimize=function(d,p){var g=this;d===void 0&&(d=[]),p===void 0&&(p={}),h.prototype.optimize.call(this,p);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)d.push(_.pop());for(var m=function(E,k){k===void 0&&(k=!0),!(E==null||E===g)&&E.domNode.parentNode!=null&&(E.domNode[a.DATA_KEY].mutations==null&&(E.domNode[a.DATA_KEY].mutations=[]),k&&m(E.parent))},v=function(E){E.domNode[a.DATA_KEY]==null||E.domNode[a.DATA_KEY].mutations==null||(E instanceof o.default&&E.children.forEach(v),E.optimize(p))},b=d,y=0;b.length>0;y+=1){if(y>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(E){var k=a.find(E.target,!0);k!=null&&(k.domNode===E.target&&(E.type==="childList"?(m(a.find(E.previousSibling,!1)),[].forEach.call(E.addedNodes,function(S){var I=a.find(S,!1);m(I,!1),I instanceof o.default&&I.children.forEach(function(R){m(R,!1)})})):E.type==="attributes"&&m(k.prev)),m(k))}),this.children.forEach(v),b=[].slice.call(this.observer.takeRecords()),_=b.slice();_.length>0;)d.push(_.pop())}},f.prototype.update=function(d,p){var g=this;p===void 0&&(p={}),d=d||this.observer.takeRecords(),d.map(function(_){var m=a.find(_.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[_],m):(m.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===g||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],p)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,p),this.optimize(d,p)},f.blotName="scroll",f.defaultChild="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="DIV",f}(o.default);r.default=c},function(n,r,i){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){c(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1);function l(c,h){if(Object.keys(c).length!==Object.keys(h).length)return!1;for(var f in c)if(c[f]!==h[f])return!1;return!0}var u=function(c){s(h,c);function h(){return c!==null&&c.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return c.formats.call(this,f)},h.prototype.format=function(f,d){var p=this;f===this.statics.blotName&&!d?(this.children.forEach(function(g){g instanceof o.default||(g=g.wrap(h.blotName,!0)),p.attributes.copy(g)}),this.unwrap()):c.prototype.format.call(this,f,d)},h.prototype.formatAt=function(f,d,p,g){if(this.formats()[p]!=null||a.query(p,a.Scope.ATTRIBUTE)){var _=this.isolate(f,d);_.format(p,g)}else c.prototype.formatAt.call(this,f,d,p,g)},h.prototype.optimize=function(f){c.prototype.optimize.call(this,f);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var p=this.next;p instanceof h&&p.prev===this&&l(d,p.formats())&&(p.moveChildren(this),p.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(o.default);r.default=u},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),a=i(1),l=function(u){s(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(h){var f=a.query(c.blotName).tagName;if(h.tagName!==f)return u.formats.call(this,h)},c.prototype.format=function(h,f){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(c.blotName):u.prototype.format.call(this,h,f))},c.prototype.formatAt=function(h,f,d,p){a.query(d,a.Scope.BLOCK)!=null?this.format(d,p):u.prototype.formatAt.call(this,h,f,d,p)},c.prototype.insertAt=function(h,f,d){if(d==null||a.query(f,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,f,d);else{var p=this.split(h),g=a.create(f,d);p.parent.insertBefore(g,p)}},c.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,f)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);r.default=l},function(n,r,i){var s=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var h in c)c.hasOwnProperty(h)&&(u[h]=c[h])};return function(u,c){l(u,c);function h(){this.constructor=u}u.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=function(l){s(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,h){l.prototype.formatAt.call(this,0,this.length(),c,h)},u.prototype.formatAt=function(c,h,f,d){c===0&&h===this.length()?this.format(f,d):l.prototype.formatAt.call(this,c,h,f,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);r.default=a},function(n,r,i){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)h.hasOwnProperty(f)&&(c[f]=h[f])};return function(c,h){u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),a=i(1),l=function(u){s(c,u);function c(h){var f=u.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return c.create=function(h){return document.createTextNode(h)},c.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},c.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},c.prototype.index=function(h,f){return this.domNode===h?f:-1},c.prototype.insertAt=function(h,f,d){d==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,f,d)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(h,f){return[this.domNode,h]},c.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var d=a.create(this.domNode.splitText(h));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},c.prototype.update=function(h,f){var d=this;h.some(function(p){return p.type==="characterData"&&p.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(o.default);r.default=l},function(n,r,i){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:o.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,h=arguments[1],f,d=0;d<c;d++)if(f=u[d],l.call(h,f,d,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,s=1,o=0;function a(y,E,k){if(y==E)return y?[[o,y]]:[];(k<0||y.length<k)&&(k=null);var S=h(y,E),I=y.substring(0,S);y=y.substring(S),E=E.substring(S),S=f(y,E);var R=y.substring(y.length-S);y=y.substring(0,y.length-S),E=E.substring(0,E.length-S);var O=l(y,E);return I&&O.unshift([o,I]),R&&O.push([o,R]),p(O),k!=null&&(O=m(O,k)),O=v(O),O}function l(y,E){var k;if(!y)return[[s,E]];if(!E)return[[i,y]];var S=y.length>E.length?y:E,I=y.length>E.length?E:y,R=S.indexOf(I);if(R!=-1)return k=[[s,S.substring(0,R)],[o,I],[s,S.substring(R+I.length)]],y.length>E.length&&(k[0][0]=k[2][0]=i),k;if(I.length==1)return[[i,y],[s,E]];var O=d(y,E);if(O){var T=O[0],A=O[1],C=O[2],D=O[3],q=O[4],Q=a(T,C),Y=a(A,D);return Q.concat([[o,q]],Y)}return u(y,E)}function u(y,E){for(var k=y.length,S=E.length,I=Math.ceil((k+S)/2),R=I,O=2*I,T=new Array(O),A=new Array(O),C=0;C<O;C++)T[C]=-1,A[C]=-1;T[R+1]=0,A[R+1]=0;for(var D=k-S,q=D%2!=0,Q=0,Y=0,ie=0,X=0,B=0;B<I;B++){for(var N=-B+Q;N<=B-Y;N+=2){var j=R+N,U;N==-B||N!=B&&T[j-1]<T[j+1]?U=T[j+1]:U=T[j-1]+1;for(var J=U-N;U<k&&J<S&&y.charAt(U)==E.charAt(J);)U++,J++;if(T[j]=U,U>k)Y+=2;else if(J>S)Q+=2;else if(q){var K=R+D-N;if(K>=0&&K<O&&A[K]!=-1){var L=k-A[K];if(U>=L)return c(y,E,U,J)}}}for(var x=-B+ie;x<=B-X;x+=2){var K=R+x,L;x==-B||x!=B&&A[K-1]<A[K+1]?L=A[K+1]:L=A[K-1]+1;for(var V=L-x;L<k&&V<S&&y.charAt(k-L-1)==E.charAt(S-V-1);)L++,V++;if(A[K]=L,L>k)X+=2;else if(V>S)ie+=2;else if(!q){var j=R+D-x;if(j>=0&&j<O&&T[j]!=-1){var U=T[j],J=R+U-j;if(L=k-L,U>=L)return c(y,E,U,J)}}}}return[[i,y],[s,E]]}function c(y,E,k,S){var I=y.substring(0,k),R=E.substring(0,S),O=y.substring(k),T=E.substring(S),A=a(I,R),C=a(O,T);return A.concat(C)}function h(y,E){if(!y||!E||y.charAt(0)!=E.charAt(0))return 0;for(var k=0,S=Math.min(y.length,E.length),I=S,R=0;k<I;)y.substring(R,I)==E.substring(R,I)?(k=I,R=k):S=I,I=Math.floor((S-k)/2+k);return I}function f(y,E){if(!y||!E||y.charAt(y.length-1)!=E.charAt(E.length-1))return 0;for(var k=0,S=Math.min(y.length,E.length),I=S,R=0;k<I;)y.substring(y.length-I,y.length-R)==E.substring(E.length-I,E.length-R)?(k=I,R=k):S=I,I=Math.floor((S-k)/2+k);return I}function d(y,E){var k=y.length>E.length?y:E,S=y.length>E.length?E:y;if(k.length<4||S.length*2<k.length)return null;function I(Y,ie,X){for(var B=Y.substring(X,X+Math.floor(Y.length/4)),N=-1,j="",U,J,K,L;(N=ie.indexOf(B,N+1))!=-1;){var x=h(Y.substring(X),ie.substring(N)),V=f(Y.substring(0,X),ie.substring(0,N));j.length<V+x&&(j=ie.substring(N-V,N)+ie.substring(N,N+x),U=Y.substring(0,X-V),J=Y.substring(X+x),K=ie.substring(0,N-V),L=ie.substring(N+x))}return j.length*2>=Y.length?[U,J,K,L,j]:null}var R=I(k,S,Math.ceil(k.length/4)),O=I(k,S,Math.ceil(k.length/2)),T;if(!R&&!O)return null;O?R?T=R[4].length>O[4].length?R:O:T=O:T=R;var A,C,D,q;y.length>E.length?(A=T[0],C=T[1],D=T[2],q=T[3]):(D=T[0],q=T[1],A=T[2],C=T[3]);var Q=T[4];return[A,C,D,q,Q]}function p(y){y.push([o,""]);for(var E=0,k=0,S=0,I="",R="",O;E<y.length;)switch(y[E][0]){case s:S++,R+=y[E][1],E++;break;case i:k++,I+=y[E][1],E++;break;case o:k+S>1?(k!==0&&S!==0&&(O=h(R,I),O!==0&&(E-k-S>0&&y[E-k-S-1][0]==o?y[E-k-S-1][1]+=R.substring(0,O):(y.splice(0,0,[o,R.substring(0,O)]),E++),R=R.substring(O),I=I.substring(O)),O=f(R,I),O!==0&&(y[E][1]=R.substring(R.length-O)+y[E][1],R=R.substring(0,R.length-O),I=I.substring(0,I.length-O))),k===0?y.splice(E-S,k+S,[s,R]):S===0?y.splice(E-k,k+S,[i,I]):y.splice(E-k-S,k+S,[i,I],[s,R]),E=E-k-S+(k?1:0)+(S?1:0)+1):E!==0&&y[E-1][0]==o?(y[E-1][1]+=y[E][1],y.splice(E,1)):E++,S=0,k=0,I="",R="";break}y[y.length-1][1]===""&&y.pop();var T=!1;for(E=1;E<y.length-1;)y[E-1][0]==o&&y[E+1][0]==o&&(y[E][1].substring(y[E][1].length-y[E-1][1].length)==y[E-1][1]?(y[E][1]=y[E-1][1]+y[E][1].substring(0,y[E][1].length-y[E-1][1].length),y[E+1][1]=y[E-1][1]+y[E+1][1],y.splice(E-1,1),T=!0):y[E][1].substring(0,y[E+1][1].length)==y[E+1][1]&&(y[E-1][1]+=y[E+1][1],y[E][1]=y[E][1].substring(y[E+1][1].length)+y[E+1][1],y.splice(E+1,1),T=!0)),E++;T&&p(y)}var g=a;g.INSERT=s,g.DELETE=i,g.EQUAL=o,n.exports=g;function _(y,E){if(E===0)return[o,y];for(var k=0,S=0;S<y.length;S++){var I=y[S];if(I[0]===i||I[0]===o){var R=k+I[1].length;if(E===R)return[S+1,y];if(E<R){y=y.slice();var O=E-k,T=[I[0],I[1].slice(0,O)],A=[I[0],I[1].slice(O)];return y.splice(S,1,T,A),[S+1,y]}else k=R}}throw new Error("cursor_pos is out of bounds!")}function m(y,E){var k=_(y,E),S=k[1],I=k[0],R=S[I],O=S[I+1];if(R==null)return y;if(R[0]!==o)return y;if(O!=null&&R[1]+O[1]===O[1]+R[1])return S.splice(I,2,O,R),b(S,I,2);if(O!=null&&O[1].indexOf(R[1])===0){S.splice(I,2,[O[0],R[1]],[0,R[1]]);var T=O[1].slice(R[1].length);return T.length>0&&S.splice(I+2,0,[O[0],T]),b(S,I,3)}else return y}function v(y){for(var E=!1,k=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},S=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},I=2;I<y.length;I+=1)y[I-2][0]===o&&S(y[I-2][1])&&y[I-1][0]===i&&k(y[I-1][1])&&y[I][0]===s&&k(y[I][1])&&(E=!0,y[I-1][1]=y[I-2][1].slice(-1)+y[I-1][1],y[I][1]=y[I-2][1].slice(-1)+y[I][1],y[I-2][1]=y[I-2][1].slice(0,-1));if(!E)return y;for(var R=[],I=0;I<y.length;I+=1)y[I][1].length>0&&R.push(y[I]);return R}function b(y,E,k){for(var S=E+k-1;S>=0&&S>=E-1;S--)if(S+1<y.length){var I=y[S],R=y[S+1];I[0]===R[1]&&y.splice(S,2,[I[0],I[1]+R[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(s){var o=[];for(var a in s)o.push(a);return o}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?s:o,r.supported=s;function s(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=o;function o(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function a(u,c,h){this.fn=u,this.context=c,this.once=h||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)i.call(h,f)&&c.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},l.prototype.listeners=function(c,h){var f=s?s+c:c,d=this._events[f];if(h)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var p=0,g=d.length,_=new Array(g);p<g;p++)_[p]=d[p].fn;return _},l.prototype.emit=function(c,h,f,d,p,g){var _=s?s+c:c;if(!this._events[_])return!1;var m=this._events[_],v=arguments.length,b,y;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),v){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,f),!0;case 4:return m.fn.call(m.context,h,f,d),!0;case 5:return m.fn.call(m.context,h,f,d,p),!0;case 6:return m.fn.call(m.context,h,f,d,p,g),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];m.fn.apply(m.context,b)}else{var E=m.length,k;for(y=0;y<E;y++)switch(m[y].once&&this.removeListener(c,m[y].fn,void 0,!0),v){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,h);break;case 3:m[y].fn.call(m[y].context,h,f);break;case 4:m[y].fn.call(m[y].context,h,f,d);break;default:if(!b)for(k=1,b=new Array(v-1);k<v;k++)b[k-1]=arguments[k];m[y].fn.apply(m[y].context,b)}}return!0},l.prototype.on=function(c,h,f){var d=new a(h,f||this),p=s?s+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],d]:this._events[p].push(d):(this._events[p]=d,this._eventsCount++),this},l.prototype.once=function(c,h,f){var d=new a(h,f||this,!0),p=s?s+c:c;return this._events[p]?this._events[p].fn?this._events[p]=[this._events[p],d]:this._events[p].push(d):(this._events[p]=d,this._eventsCount++),this},l.prototype.removeListener=function(c,h,f,d){var p=s?s+c:c;if(!this._events[p])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[p],this;var g=this._events[p];if(g.fn)g.fn===h&&(!d||g.once)&&(!f||g.context===f)&&(--this._eventsCount===0?this._events=new o:delete this._events[p]);else{for(var _=0,m=[],v=g.length;_<v;_++)(g[_].fn!==h||d&&!g[_].once||f&&g[_].context!==f)&&m.push(g[_]);m.length?this._events[p]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new o:delete this._events[p]}return this},l.prototype.removeAllListeners=function(c){var h;return c?(h=s?s+c:c,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=s,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},o=function(){function W(G,te){var Z=[],ne=!0,ue=!1,ce=void 0;try{for(var de=G[Symbol.iterator](),be;!(ne=(be=de.next()).done)&&(Z.push(be.value),!(te&&Z.length===te));ne=!0);}catch(Ie){ue=!0,ce=Ie}finally{try{!ne&&de.return&&de.return()}finally{if(ue)throw ce}}return Z}return function(G,te){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return W(G,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(G,te){for(var Z=0;Z<te.length;Z++){var ne=te[Z];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(G,ne.key,ne)}}return function(G,te,Z){return te&&W(G.prototype,te),Z&&W(G,Z),G}}(),l=i(3),u=A(l),c=i(2),h=A(c),f=i(0),d=A(f),p=i(5),g=A(p),_=i(10),m=A(_),v=i(9),b=A(v),y=i(36),E=i(37),k=i(13),S=A(k),I=i(26),R=i(38),O=i(39),T=i(40);function A(W){return W&&W.__esModule?W:{default:W}}function C(W,G,te){return G in W?Object.defineProperty(W,G,{value:te,enumerable:!0,configurable:!0,writable:!0}):W[G]=te,W}function D(W,G){if(!(W instanceof G))throw new TypeError("Cannot call a class as a function")}function q(W,G){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:W}function Q(W,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);W.prototype=Object.create(G&&G.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(W,G):W.__proto__=G)}var Y=(0,m.default)("quill:clipboard"),ie="__ql-matcher",X=[[Node.TEXT_NODE,ae],[Node.TEXT_NODE,z],["br",fe],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,$],[Node.ELEMENT_NODE,se],["li",F],["b",V.bind(V,"bold")],["i",V.bind(V,"italic")],["style",M]],B=[y.AlignAttribute,R.DirectionAttribute].reduce(function(W,G){return W[G.keyName]=G,W},{}),N=[y.AlignStyle,E.BackgroundStyle,I.ColorStyle,R.DirectionStyle,O.FontStyle,T.SizeStyle].reduce(function(W,G){return W[G.keyName]=G,W},{}),j=function(W){Q(G,W);function G(te,Z){D(this,G);var ne=q(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,te,Z));return ne.quill.root.addEventListener("paste",ne.onPaste.bind(ne)),ne.container=ne.quill.addContainer("ql-clipboard"),ne.container.setAttribute("contenteditable",!0),ne.container.setAttribute("tabindex",-1),ne.matchers=[],X.concat(ne.options.matchers).forEach(function(ue){var ce=o(ue,2),de=ce[0],be=ce[1];!Z.matchVisual&&be===re||ne.addMatcher(de,be)}),ne}return a(G,[{key:"addMatcher",value:function(Z,ne){this.matchers.push([Z,ne])}},{key:"convert",value:function(Z){if(typeof Z=="string")return this.container.innerHTML=Z.replace(/\>\r?\n +\</g,"><"),this.convert();var ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(ne[S.default.blotName]){var ue=this.container.innerText;return this.container.innerHTML="",new h.default().insert(ue,C({},S.default.blotName,ne[S.default.blotName]))}var ce=this.prepareMatching(),de=o(ce,2),be=de[0],Ie=de[1],me=x(this.container,be,Ie);return K(me,`
`)&&me.ops[me.ops.length-1].attributes==null&&(me=me.compose(new h.default().retain(me.length()-1).delete(1))),Y.log("convert",this.container.innerHTML,me),this.container.innerHTML="",me}},{key:"dangerouslyPasteHTML",value:function(Z,ne){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof Z=="string")this.quill.setContents(this.convert(Z),ne),this.quill.setSelection(0,g.default.sources.SILENT);else{var ce=this.convert(ne);this.quill.updateContents(new h.default().retain(Z).concat(ce),ue),this.quill.setSelection(Z+ce.length(),g.default.sources.SILENT)}}},{key:"onPaste",value:function(Z){var ne=this;if(!(Z.defaultPrevented||!this.quill.isEnabled())){var ue=this.quill.getSelection(),ce=new h.default().retain(ue.index),de=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(g.default.sources.SILENT),setTimeout(function(){ce=ce.concat(ne.convert()).delete(ue.length),ne.quill.updateContents(ce,g.default.sources.USER),ne.quill.setSelection(ce.length()-ue.length,g.default.sources.SILENT),ne.quill.scrollingContainer.scrollTop=de,ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Z=this,ne=[],ue=[];return this.matchers.forEach(function(ce){var de=o(ce,2),be=de[0],Ie=de[1];switch(be){case Node.TEXT_NODE:ue.push(Ie);break;case Node.ELEMENT_NODE:ne.push(Ie);break;default:[].forEach.call(Z.container.querySelectorAll(be),function(me){me[ie]=me[ie]||[],me[ie].push(Ie)});break}}),[ne,ue]}}]),G}(b.default);j.DEFAULTS={matchers:[],matchVisual:!0};function U(W,G,te){return(typeof G>"u"?"undefined":s(G))==="object"?Object.keys(G).reduce(function(Z,ne){return U(Z,ne,G[ne])},W):W.reduce(function(Z,ne){return ne.attributes&&ne.attributes[G]?Z.push(ne):Z.insert(ne.insert,(0,u.default)({},C({},G,te),ne.attributes))},new h.default)}function J(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var G="__ql-computed-style";return W[G]||(W[G]=window.getComputedStyle(W))}function K(W,G){for(var te="",Z=W.ops.length-1;Z>=0&&te.length<G.length;--Z){var ne=W.ops[Z];if(typeof ne.insert!="string")break;te=ne.insert+te}return te.slice(-1*G.length)===G}function L(W){if(W.childNodes.length===0)return!1;var G=J(W);return["block","list-item"].indexOf(G.display)>-1}function x(W,G,te){return W.nodeType===W.TEXT_NODE?te.reduce(function(Z,ne){return ne(W,Z)},new h.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(Z,ne){var ue=x(ne,G,te);return ne.nodeType===W.ELEMENT_NODE&&(ue=G.reduce(function(ce,de){return de(ne,ce)},ue),ue=(ne[ie]||[]).reduce(function(ce,de){return de(ne,ce)},ue)),Z.concat(ue)},new h.default):new h.default}function V(W,G,te){return U(te,W,!0)}function $(W,G){var te=d.default.Attributor.Attribute.keys(W),Z=d.default.Attributor.Class.keys(W),ne=d.default.Attributor.Style.keys(W),ue={};return te.concat(Z).concat(ne).forEach(function(ce){var de=d.default.query(ce,d.default.Scope.ATTRIBUTE);de!=null&&(ue[de.attrName]=de.value(W),ue[de.attrName])||(de=B[ce],de!=null&&(de.attrName===ce||de.keyName===ce)&&(ue[de.attrName]=de.value(W)||void 0),de=N[ce],de!=null&&(de.attrName===ce||de.keyName===ce)&&(de=N[ce],ue[de.attrName]=de.value(W)||void 0))}),Object.keys(ue).length>0&&(G=U(G,ue)),G}function ee(W,G){var te=d.default.query(W);if(te==null)return G;if(te.prototype instanceof d.default.Embed){var Z={},ne=te.value(W);ne!=null&&(Z[te.blotName]=ne,G=new h.default().insert(Z,te.formats(W)))}else typeof te.formats=="function"&&(G=U(G,te.blotName,te.formats(W)));return G}function fe(W,G){return K(G,`
`)||G.insert(`
`),G}function M(){return new h.default}function F(W,G){var te=d.default.query(W);if(te==null||te.blotName!=="list-item"||!K(G,`
`))return G;for(var Z=-1,ne=W.parentNode;!ne.classList.contains("ql-clipboard");)(d.default.query(ne)||{}).blotName==="list"&&(Z+=1),ne=ne.parentNode;return Z<=0?G:G.compose(new h.default().retain(G.length()-1).retain(1,{indent:Z}))}function z(W,G){return K(G,`
`)||(L(W)||G.length()>0&&W.nextSibling&&L(W.nextSibling))&&G.insert(`
`),G}function re(W,G){if(L(W)&&W.nextElementSibling!=null&&!K(G,`

`)){var te=W.offsetHeight+parseFloat(J(W).marginTop)+parseFloat(J(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+te*1.5&&G.insert(`
`)}return G}function se(W,G){var te={},Z=W.style||{};return Z.fontStyle&&J(W).fontStyle==="italic"&&(te.italic=!0),Z.fontWeight&&(J(W).fontWeight.startsWith("bold")||parseInt(J(W).fontWeight)>=700)&&(te.bold=!0),Object.keys(te).length>0&&(G=U(G,te)),parseFloat(Z.textIndent||0)>0&&(G=new h.default().insert("	").concat(G)),G}function ae(W,G){var te=W.data;if(W.parentNode.tagName==="O:P")return G.insert(te.trim());if(te.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return G;if(!J(W.parentNode).whiteSpace.startsWith("pre")){var Z=function(ue,ce){return ce=ce.replace(/[^\u00a0]/g,""),ce.length<1&&ue?" ":ce};te=te.replace(/\r\n/g," ").replace(/\n/g," "),te=te.replace(/\s\s+/g,Z.bind(Z,!0)),(W.previousSibling==null&&L(W.parentNode)||W.previousSibling!=null&&L(W.previousSibling))&&(te=te.replace(/^\s+/,Z.bind(Z,!1))),(W.nextSibling==null&&L(W.parentNode)||W.nextSibling!=null&&L(W.nextSibling))&&(te=te.replace(/\s+$/,Z.bind(Z,!1)))}return G.insert(te)}r.default=j,r.matchAttributor=$,r.matchBlot=ee,r.matchNewline=z,r.matchSpacing=re,r.matchText=ae},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(g,_){for(var m=0;m<_.length;m++){var v=_[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,_,m){return _&&p(g.prototype,_),m&&p(g,m),g}}(),o=function p(g,_,m){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,_);if(v===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:p(b,_,m)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(m)}},a=i(6),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var d=function(p){f(g,p);function g(){return c(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,[{key:"optimize",value:function(m){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),g}(l.default);d.blotName="bold",d.tagName=["STRONG","B"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var s=function(){function T(A,C){var D=[],q=!0,Q=!1,Y=void 0;try{for(var ie=A[Symbol.iterator](),X;!(q=(X=ie.next()).done)&&(D.push(X.value),!(C&&D.length===C));q=!0);}catch(B){Q=!0,Y=B}finally{try{!q&&ie.return&&ie.return()}finally{if(Q)throw Y}}return D}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return T(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(A,C){for(var D=0;D<C.length;D++){var q=C[D];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(A,q.key,q)}}return function(A,C,D){return C&&T(A.prototype,C),D&&T(A,D),A}}(),a=i(2),l=m(a),u=i(0),c=m(u),h=i(5),f=m(h),d=i(10),p=m(d),g=i(9),_=m(g);function m(T){return T&&T.__esModule?T:{default:T}}function v(T,A,C){return A in T?Object.defineProperty(T,A,{value:C,enumerable:!0,configurable:!0,writable:!0}):T[A]=C,T}function b(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function y(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:T}function E(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}var k=(0,p.default)("quill:toolbar"),S=function(T){E(A,T);function A(C,D){b(this,A);var q=y(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,C,D));if(Array.isArray(q.options.container)){var Q=document.createElement("div");R(Q,q.options.container),C.container.parentNode.insertBefore(Q,C.container),q.container=Q}else typeof q.options.container=="string"?q.container=document.querySelector(q.options.container):q.container=q.options.container;if(!(q.container instanceof HTMLElement)){var Y;return Y=k.error("Container required for toolbar",q.options),y(q,Y)}return q.container.classList.add("ql-toolbar"),q.controls=[],q.handlers={},Object.keys(q.options.handlers).forEach(function(ie){q.addHandler(ie,q.options.handlers[ie])}),[].forEach.call(q.container.querySelectorAll("button, select"),function(ie){q.attach(ie)}),q.quill.on(f.default.events.EDITOR_CHANGE,function(ie,X){ie===f.default.events.SELECTION_CHANGE&&q.update(X)}),q.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var ie=q.quill.selection.getRange(),X=s(ie,1),B=X[0];q.update(B)}),q}return o(A,[{key:"addHandler",value:function(D,q){this.handlers[D]=q}},{key:"attach",value:function(D){var q=this,Q=[].find.call(D.classList,function(ie){return ie.indexOf("ql-")===0});if(Q){if(Q=Q.slice(3),D.tagName==="BUTTON"&&D.setAttribute("type","button"),this.handlers[Q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Q]==null){k.warn("ignoring attaching to disabled format",Q,D);return}if(c.default.query(Q)==null){k.warn("ignoring attaching to nonexistent format",Q,D);return}}var Y=D.tagName==="SELECT"?"change":"click";D.addEventListener(Y,function(ie){var X=void 0;if(D.tagName==="SELECT"){if(D.selectedIndex<0)return;var B=D.options[D.selectedIndex];B.hasAttribute("selected")?X=!1:X=B.value||!1}else D.classList.contains("ql-active")?X=!1:X=D.value||!D.hasAttribute("value"),ie.preventDefault();q.quill.focus();var N=q.quill.selection.getRange(),j=s(N,1),U=j[0];if(q.handlers[Q]!=null)q.handlers[Q].call(q,X);else if(c.default.query(Q).prototype instanceof c.default.Embed){if(X=prompt("Enter "+Q),!X)return;q.quill.updateContents(new l.default().retain(U.index).delete(U.length).insert(v({},Q,X)),f.default.sources.USER)}else q.quill.format(Q,X,f.default.sources.USER);q.update(U)}),this.controls.push([Q,D])}}},{key:"update",value:function(D){var q=D==null?{}:this.quill.getFormat(D);this.controls.forEach(function(Q){var Y=s(Q,2),ie=Y[0],X=Y[1];if(X.tagName==="SELECT"){var B=void 0;if(D==null)B=null;else if(q[ie]==null)B=X.querySelector("option[selected]");else if(!Array.isArray(q[ie])){var N=q[ie];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),B=X.querySelector('option[value="'+N+'"]')}B==null?(X.value="",X.selectedIndex=-1):B.selected=!0}else if(D==null)X.classList.remove("ql-active");else if(X.hasAttribute("value")){var j=q[ie]===X.getAttribute("value")||q[ie]!=null&&q[ie].toString()===X.getAttribute("value")||q[ie]==null&&!X.getAttribute("value");X.classList.toggle("ql-active",j)}else X.classList.toggle("ql-active",q[ie]!=null)})}}]),A}(_.default);S.DEFAULTS={};function I(T,A,C){var D=document.createElement("button");D.setAttribute("type","button"),D.classList.add("ql-"+A),C!=null&&(D.value=C),T.appendChild(D)}function R(T,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(C){var D=document.createElement("span");D.classList.add("ql-formats"),C.forEach(function(q){if(typeof q=="string")I(D,q);else{var Q=Object.keys(q)[0],Y=q[Q];Array.isArray(Y)?O(D,Q,Y):I(D,Q,Y)}}),T.appendChild(D)})}function O(T,A,C){var D=document.createElement("select");D.classList.add("ql-"+A),C.forEach(function(q){var Q=document.createElement("option");q!==!1?Q.setAttribute("value",q):Q.setAttribute("selected","selected"),D.appendChild(Q)}),T.appendChild(D)}S.DEFAULTS={container:null,handlers:{clean:function(){var A=this,C=this.quill.getSelection();if(C!=null)if(C.length==0){var D=this.quill.getFormat();Object.keys(D).forEach(function(q){c.default.query(q,c.default.Scope.INLINE)!=null&&A.quill.format(q,!1)})}else this.quill.removeFormat(C,f.default.sources.USER)},direction:function(A){var C=this.quill.getFormat().align;A==="rtl"&&C==null?this.quill.format("align","right",f.default.sources.USER):!A&&C==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",A,f.default.sources.USER)},indent:function(A){var C=this.quill.getSelection(),D=this.quill.getFormat(C),q=parseInt(D.indent||0);if(A==="+1"||A==="-1"){var Q=A==="+1"?1:-1;D.direction==="rtl"&&(Q*=-1),this.quill.format("indent",q+Q,f.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,f.default.sources.USER)},list:function(A){var C=this.quill.getSelection(),D=this.quill.getFormat(C);A==="check"?D.list==="checked"||D.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",A,f.default.sources.USER)}}},r.default=S,r.addControls=R},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(g,_){for(var m=0;m<_.length;m++){var v=_[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,_,m){return _&&p(g.prototype,_),m&&p(g,m),g}}(),o=function p(g,_,m){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,_);if(v===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:p(b,_,m)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(m)}},a=i(28),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var d=function(p){f(g,p);function g(_,m){c(this,g);var v=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return v.label.innerHTML=m,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),v}return s(g,[{key:"buildItem",value:function(m){var v=o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"buildItem",this).call(this,m);return v.style.backgroundColor=m.getAttribute("value")||"",v}},{key:"selectItem",value:function(m,v){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,m,v);var b=this.label.querySelector(".ql-color-label"),y=m&&m.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=y:b.style.fill=y)}}]),g}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(g,_){for(var m=0;m<_.length;m++){var v=_[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,_,m){return _&&p(g.prototype,_),m&&p(g,m),g}}(),o=function p(g,_,m){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,_);if(v===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:p(b,_,m)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(m)}},a=i(28),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var d=function(p){f(g,p);function g(_,m){c(this,g);var v=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=m[b.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return s(g,[{key:"selectItem",value:function(m,v){o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"selectItem",this).call(this,m,v),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),g}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function l(u,c){for(var h=0;h<c.length;h++){var f=c[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,c,h){return c&&l(u.prototype,c),h&&l(u,h),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var h=this;o(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return s(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var h=c.left+c.width/2-this.root.offsetWidth/2,f=c.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),p=this.root.getBoundingClientRect(),g=0;if(p.right>d.right&&(g=d.right-p.right,this.root.style.left=h+g+"px"),p.left<d.left&&(g=d.left-p.left,this.root.style.left=h+g+"px"),p.bottom>d.bottom){var _=p.bottom-p.top,m=c.bottom-c.top+_;this.root.style.top=f-m+"px",this.root.classList.add("ql-flip")}return g}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function O(T,A){var C=[],D=!0,q=!1,Q=void 0;try{for(var Y=T[Symbol.iterator](),ie;!(D=(ie=Y.next()).done)&&(C.push(ie.value),!(A&&C.length===A));D=!0);}catch(X){q=!0,Q=X}finally{try{!D&&Y.return&&Y.return()}finally{if(q)throw Q}}return C}return function(T,A){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return O(T,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function O(T,A,C){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,A);if(D===void 0){var q=Object.getPrototypeOf(T);return q===null?void 0:O(q,A,C)}else{if("value"in D)return D.value;var Q=D.get;return Q===void 0?void 0:Q.call(C)}},a=function(){function O(T,A){for(var C=0;C<A.length;C++){var D=A[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,A,C){return A&&O(T.prototype,A),C&&O(T,C),T}}(),l=i(3),u=b(l),c=i(8),h=b(c),f=i(43),d=b(f),p=i(27),g=b(p),_=i(15),m=i(41),v=b(m);function b(O){return O&&O.__esModule?O:{default:O}}function y(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}function E(O,T){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:O}function k(O,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);O.prototype=Object.create(T&&T.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(O,T):O.__proto__=T)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(O){k(T,O);function T(A,C){y(this,T),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=S);var D=E(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,C));return D.quill.container.classList.add("ql-snow"),D}return a(T,[{key:"extendToolbar",value:function(C){C.container.classList.add("ql-snow"),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),v.default),this.tooltip=new R(this.quill,this.options.bounds),C.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(D,q){C.handlers.link.call(C,!q.format.link)})}}]),T}(d.default);I.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var A=this.quill.getSelection();if(A==null||A.length==0)return;var C=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(C)&&C.indexOf("mailto:")!==0&&(C="mailto:"+C);var D=this.quill.theme.tooltip;D.edit("link",C)}else this.quill.format("link",!1)}}}}});var R=function(O){k(T,O);function T(A,C){y(this,T);var D=E(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,C));return D.preview=D.root.querySelector("a.ql-preview"),D}return a(T,[{key:"listen",value:function(){var C=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(D){C.root.classList.contains("ql-editing")?C.save():C.edit("link",C.preview.textContent),D.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(D){if(C.linkRange!=null){var q=C.linkRange;C.restoreFocus(),C.quill.formatText(q,"link",!1,h.default.sources.USER),delete C.linkRange}D.preventDefault(),C.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(D,q,Q){if(D!=null){if(D.length===0&&Q===h.default.sources.USER){var Y=C.quill.scroll.descendant(g.default,D.index),ie=s(Y,2),X=ie[0],B=ie[1];if(X!=null){C.linkRange=new _.Range(D.index-B,X.length());var N=g.default.formats(X.domNode);C.preview.textContent=N,C.preview.setAttribute("href",N),C.show(),C.position(C.quill.getBounds(C.linkRange));return}}else delete C.linkRange;C.hide()}})}},{key:"show",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(f.BaseTooltip);R.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(29),o=ne(s),a=i(36),l=i(38),u=i(64),c=i(65),h=ne(c),f=i(66),d=ne(f),p=i(67),g=ne(p),_=i(37),m=i(26),v=i(39),b=i(40),y=i(56),E=ne(y),k=i(68),S=ne(k),I=i(27),R=ne(I),O=i(69),T=ne(O),A=i(70),C=ne(A),D=i(71),q=ne(D),Q=i(72),Y=ne(Q),ie=i(73),X=ne(ie),B=i(13),N=ne(B),j=i(74),U=ne(j),J=i(75),K=ne(J),L=i(57),x=ne(L),V=i(41),$=ne(V),ee=i(28),fe=ne(ee),M=i(59),F=ne(M),z=i(60),re=ne(z),se=i(61),ae=ne(se),W=i(108),G=ne(W),te=i(62),Z=ne(te);function ne(ue){return ue&&ue.__esModule?ue:{default:ue}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":v.FontClass,"formats/size":b.SizeClass,"formats/blockquote":h.default,"formats/code-block":N.default,"formats/header":d.default,"formats/list":g.default,"formats/bold":E.default,"formats/code":B.Code,"formats/italic":S.default,"formats/link":R.default,"formats/script":T.default,"formats/strike":C.default,"formats/underline":q.default,"formats/image":Y.default,"formats/video":X.default,"formats/list/item":p.ListItem,"modules/formula":U.default,"modules/syntax":K.default,"modules/toolbar":x.default,"themes/bubble":G.default,"themes/snow":Z.default,"ui/icons":$.default,"ui/picker":fe.default,"ui/icon-picker":re.default,"ui/color-picker":F.default,"ui/tooltip":ae.default},!0),r.default=o.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var s=function(){function g(_,m){for(var v=0;v<m.length;v++){var b=m[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,m,v){return m&&g(_.prototype,m),v&&g(_,v),_}}(),o=function g(_,m,v){_===null&&(_=Function.prototype);var b=Object.getOwnPropertyDescriptor(_,m);if(b===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:g(y,m,v)}else{if("value"in b)return b.value;var E=b.get;return E===void 0?void 0:E.call(v)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function h(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function f(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var d=function(g){f(_,g);function _(){return c(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return s(_,[{key:"add",value:function(v,b){if(b==="+1"||b==="-1"){var y=this.value(v)||0;b=b==="+1"?y+1:y-1}return b===0?(this.remove(v),!0):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,v,b)}},{key:"canAdd",value:function(v,b){return o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,v,b)||o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,v,parseInt(b))}},{key:"value",value:function(v){return parseInt(o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,v))||void 0}}]),_}(l.default.Attributor.Class),p=new d("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(4),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function d(p,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,g,_){return g&&d(p.prototype,g),_&&d(p,_),p}}(),o=i(4),a=l(o);function l(d){return d&&d.__esModule?d:{default:d}}function u(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function c(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function h(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){h(p,d);function p(){return u(this,p),c(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return s(p,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),p}(a.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var s=function(){function y(E,k){for(var S=0;S<k.length;S++){var I=k[S];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,k,S){return k&&y(E.prototype,k),S&&y(E,S),E}}(),o=function y(E,k,S){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,k);if(I===void 0){var R=Object.getPrototypeOf(E);return R===null?void 0:y(R,k,S)}else{if("value"in I)return I.value;var O=I.get;return O===void 0?void 0:O.call(S)}},a=i(0),l=d(a),u=i(4),c=d(u),h=i(25),f=d(h);function d(y){return y&&y.__esModule?y:{default:y}}function p(y,E,k){return E in y?Object.defineProperty(y,E,{value:k,enumerable:!0,configurable:!0,writable:!0}):y[E]=k,y}function g(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}function _(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:y}function m(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}var v=function(y){m(E,y);function E(){return g(this,E),_(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return s(E,[{key:"format",value:function(S,I){S===b.blotName&&!I?this.replaceWith(l.default.create(this.statics.scope)):o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,S,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,I){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,I),this):(this.parent.unwrap(),o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,S,I))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:o(E.__proto__||Object.getPrototypeOf(E),"formats",this).call(this,S)}}]),E}(c.default);v.blotName="list-item",v.tagName="LI";var b=function(y){m(E,y),s(E,null,[{key:"create",value:function(S){var I=S==="ordered"?"OL":"UL",R=o(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,I);return(S==="checked"||S==="unchecked")&&R.setAttribute("data-checked",S==="checked"),R}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function E(k){g(this,E);var S=_(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,k)),I=function(O){if(O.target.parentNode===k){var T=S.statics.formats(k),A=l.default.find(O.target);T==="checked"?A.format("list","unchecked"):T==="unchecked"&&A.format("list","checked")}};return k.addEventListener("touchstart",I),k.addEventListener("mousedown",I),S}return s(E,[{key:"format",value:function(S,I){this.children.length>0&&this.children.tail.format(S,I)}},{key:"formats",value:function(){return p({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,I){if(S instanceof v)o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,S,I);else{var R=I==null?this.length():I.offset(this),O=this.split(R);O.parent.insertBefore(S,O)}}},{key:"optimize",value:function(S){o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,S);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var I=l.default.create(this.statics.defaultChild);S.moveChildren(I),this.appendChild(I)}o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,S)}}]),E}(f.default);b.blotName="list",b.scope=l.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[v],r.ListItem=v,r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(56),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function p(g,_){for(var m=0;m<_.length;m++){var v=_[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,_,m){return _&&p(g.prototype,_),m&&p(g,m),g}}(),o=function p(g,_,m){g===null&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,_);if(v===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:p(b,_,m)}else{if("value"in v)return v.value;var y=v.get;return y===void 0?void 0:y.call(m)}},a=i(6),l=u(a);function u(p){return p&&p.__esModule?p:{default:p}}function c(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function h(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var d=function(p){f(g,p);function g(){return c(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return s(g,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),g}(l.default);d.blotName="script",d.tagName=["SUB","SUP"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=i(6),o=a(s);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function u(f,d){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:f}function c(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);f.prototype=Object.create(d&&d.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(f,d):f.__proto__=d)}var h=function(f){c(d,f);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(o.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(m,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,b){return v&&_(m.prototype,v),b&&_(m,b),m}}(),o=function _(m,v,b){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:_(E,v,b)}else{if("value"in y)return y.value;var k=y.get;return k===void 0?void 0:k.call(b)}},a=i(0),l=c(a),u=i(27);function c(_){return _&&_.__esModule?_:{default:_}}function h(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function f(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function d(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var p=["alt","height","width"],g=function(_){d(m,_);function m(){return h(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"format",value:function(b,y){p.indexOf(b)>-1?y?this.domNode.setAttribute(b,y):this.domNode.removeAttribute(b):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,b,y)}}],[{key:"create",value:function(b){var y=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,b);return typeof b=="string"&&y.setAttribute("src",this.sanitize(b)),y}},{key:"formats",value:function(b){return p.reduce(function(y,E){return b.hasAttribute(E)&&(y[E]=b.getAttribute(E)),y},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,u.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),m}(l.default.Embed);g.blotName="image",g.tagName="IMG",r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function _(m,v){for(var b=0;b<v.length;b++){var y=v[b];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,v,b){return v&&_(m.prototype,v),b&&_(m,b),m}}(),o=function _(m,v,b){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,v);if(y===void 0){var E=Object.getPrototypeOf(m);return E===null?void 0:_(E,v,b)}else{if("value"in y)return y.value;var k=y.get;return k===void 0?void 0:k.call(b)}},a=i(4),l=i(27),u=c(l);function c(_){return _&&_.__esModule?_:{default:_}}function h(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function f(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function d(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var p=["height","width"],g=function(_){d(m,_);function m(){return h(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"format",value:function(b,y){p.indexOf(b)>-1?y?this.domNode.setAttribute(b,y):this.domNode.removeAttribute(b):o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,b,y)}}],[{key:"create",value:function(b){var y=o(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,b);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(b)),y}},{key:"formats",value:function(b){return p.reduce(function(y,E){return b.hasAttribute(E)&&(y[E]=b.getAttribute(E)),y},{})}},{key:"sanitize",value:function(b){return u.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),m}(a.BlockEmbed);g.blotName="video",g.className="ql-video",g.tagName="IFRAME",r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var s=function(){function b(y,E){for(var k=0;k<E.length;k++){var S=E[k];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,E,k){return E&&b(y.prototype,E),k&&b(y,k),y}}(),o=function b(y,E,k){y===null&&(y=Function.prototype);var S=Object.getOwnPropertyDescriptor(y,E);if(S===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:b(I,E,k)}else{if("value"in S)return S.value;var R=S.get;return R===void 0?void 0:R.call(k)}},a=i(35),l=d(a),u=i(5),c=d(u),h=i(9),f=d(h);function d(b){return b&&b.__esModule?b:{default:b}}function p(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function g(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:b}function _(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);b.prototype=Object.create(y&&y.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(b,y):b.__proto__=y)}var m=function(b){_(y,b);function y(){return p(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,null,[{key:"create",value:function(k){var S=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",k)),S}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),y}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var v=function(b){_(y,b),s(y,null,[{key:"register",value:function(){c.default.register(m,!0)}}]);function y(){p(this,y);var E=g(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return E}return y}(f.default);r.FormulaBlot=m,r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var s=function(){function k(S,I){for(var R=0;R<I.length;R++){var O=I[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(S,O.key,O)}}return function(S,I,R){return I&&k(S.prototype,I),R&&k(S,R),S}}(),o=function k(S,I,R){S===null&&(S=Function.prototype);var O=Object.getOwnPropertyDescriptor(S,I);if(O===void 0){var T=Object.getPrototypeOf(S);return T===null?void 0:k(T,I,R)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(R)}},a=i(0),l=g(a),u=i(5),c=g(u),h=i(9),f=g(h),d=i(13),p=g(d);function g(k){return k&&k.__esModule?k:{default:k}}function _(k,S){if(!(k instanceof S))throw new TypeError("Cannot call a class as a function")}function m(k,S){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:k}function v(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(k,S):k.__proto__=S)}var b=function(k){v(S,k);function S(){return _(this,S),m(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return s(S,[{key:"replaceWith",value:function(R){this.domNode.textContent=this.domNode.textContent,this.attach(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,R)}},{key:"highlight",value:function(R){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=R(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),S}(p.default);b.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),E=function(k){v(S,k),s(S,null,[{key:"register",value:function(){c.default.register(y,!0),c.default.register(b,!0)}}]);function S(I,R){_(this,S);var O=m(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,I,R));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return O.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){O.highlight(),T=null},O.options.interval)}),O.highlight(),O}return s(S,[{key:"highlight",value:function(){var R=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(T){T.highlight(R.options.highlight)}),this.quill.update(c.default.sources.SILENT),O!=null&&this.quill.setSelection(O,c.default.sources.SILENT)}}}]),S}(f.default);E.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var S=window.hljs.highlightAuto(k);return S.value}}(),interval:1e3},r.CodeBlock=b,r.CodeToken=y,r.default=E},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var s=function S(I,R,O){I===null&&(I=Function.prototype);var T=Object.getOwnPropertyDescriptor(I,R);if(T===void 0){var A=Object.getPrototypeOf(I);return A===null?void 0:S(A,R,O)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(O)}},o=function(){function S(I,R){for(var O=0;O<R.length;O++){var T=R[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(I,T.key,T)}}return function(I,R,O){return R&&S(I.prototype,R),O&&S(I,O),I}}(),a=i(3),l=_(a),u=i(8),c=_(u),h=i(43),f=_(h),d=i(15),p=i(41),g=_(p);function _(S){return S&&S.__esModule?S:{default:S}}function m(S,I){if(!(S instanceof I))throw new TypeError("Cannot call a class as a function")}function v(S,I){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:S}function b(S,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);S.prototype=Object.create(I&&I.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(S,I):S.__proto__=I)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],E=function(S){b(I,S);function I(R,O){m(this,I),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=y);var T=v(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R,O));return T.quill.container.classList.add("ql-bubble"),T}return o(I,[{key:"extendToolbar",value:function(O){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),g.default)}}]),I}(f.default);E.DEFAULTS=(0,l.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(S){b(I,S);function I(R,O){m(this,I);var T=v(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,R,O));return T.quill.on(c.default.events.EDITOR_CHANGE,function(A,C,D,q){if(A===c.default.events.SELECTION_CHANGE)if(C!=null&&C.length>0&&q===c.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var Q=T.quill.getLines(C.index,C.length);if(Q.length===1)T.position(T.quill.getBounds(C));else{var Y=Q[Q.length-1],ie=T.quill.getIndex(Y),X=Math.min(Y.length()-1,C.index+C.length-ie),B=T.quill.getBounds(new d.Range(ie,X));T.position(B)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return o(I,[{key:"listen",value:function(){var O=this;s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var T=O.quill.getSelection();T!=null&&O.position(O.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var T=s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,O),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",T===0)return T;A.style.marginLeft=-1*T-A.offsetWidth/2+"px"}}]),I}(h.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=k,r.default=E},function(n,r,i){n.exports=i(63)}]).default})})(Nw);var hM=Nw.exports;const Gf=ew(hM);var $n=-1,An=1,Qt=0;function sa(t,e,n,r){if(t===e)return t?[[Qt,t]]:[];if(n!=null){var i=vM(t,e,n);if(i)return i}var s=dg(t,e),o=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=pg(t,e);var a=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var l=dM(t,e);return o&&l.unshift([Qt,o]),a&&l.push([Qt,a]),Rw(l,r),l}function dM(t,e){var n;if(!t)return[[An,e]];if(!e)return[[$n,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,s=r.indexOf(i);if(s!==-1)return n=[[An,r.substring(0,s)],[Qt,i],[An,r.substring(s+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=$n),n;if(i.length===1)return[[$n,t],[An,e]];var o=gM(t,e);if(o){var a=o[0],l=o[1],u=o[2],c=o[3],h=o[4],f=sa(a,u),d=sa(l,c);return f.concat([[Qt,h]],d)}return pM(t,e)}function pM(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),s=i,o=2*i,a=new Array(o),l=new Array(o),u=0;u<o;u++)a[u]=-1,l[u]=-1;a[s+1]=0,l[s+1]=0;for(var c=n-r,h=c%2!==0,f=0,d=0,p=0,g=0,_=0;_<i;_++){for(var m=-_+f;m<=_-d;m+=2){var v=s+m,b;m===-_||m!==_&&a[v-1]<a[v+1]?b=a[v+1]:b=a[v-1]+1;for(var y=b-m;b<n&&y<r&&t.charAt(b)===e.charAt(y);)b++,y++;if(a[v]=b,b>n)d+=2;else if(y>r)f+=2;else if(h){var E=s+c-m;if(E>=0&&E<o&&l[E]!==-1){var k=n-l[E];if(b>=k)return py(t,e,b,y)}}}for(var S=-_+p;S<=_-g;S+=2){var E=s+S,k;S===-_||S!==_&&l[E-1]<l[E+1]?k=l[E+1]:k=l[E-1]+1;for(var I=k-S;k<n&&I<r&&t.charAt(n-k-1)===e.charAt(r-I-1);)k++,I++;if(l[E]=k,k>n)g+=2;else if(I>r)p+=2;else if(!h){var v=s+c-S;if(v>=0&&v<o&&a[v]!==-1){var b=a[v],y=s+b-v;if(k=n-k,b>=k)return py(t,e,b,y)}}}}return[[$n,t],[An,e]]}function py(t,e,n,r){var i=t.substring(0,n),s=e.substring(0,r),o=t.substring(n),a=e.substring(r),l=sa(i,s),u=sa(o,a);return l.concat(u)}function dg(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(s,i)==e.substring(s,i)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return Pw(t.charCodeAt(i-1))&&i--,i}function pg(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,s=0;n<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(n=i,s=n):r=i,i=Math.floor((r-n)/2+n);return xw(t.charCodeAt(t.length-i))&&i--,i}function gM(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(d,p,g){for(var _=d.substring(g,g+Math.floor(d.length/4)),m=-1,v="",b,y,E,k;(m=p.indexOf(_,m+1))!==-1;){var S=dg(d.substring(g),p.substring(m)),I=pg(d.substring(0,g),p.substring(0,m));v.length<I+S&&(v=p.substring(m-I,m)+p.substring(m,m+S),b=d.substring(0,g-I),y=d.substring(g+S),E=p.substring(0,m-I),k=p.substring(m+S))}return v.length*2>=d.length?[b,y,E,k,v]:null}var s=i(n,r,Math.ceil(n.length/4)),o=i(n,r,Math.ceil(n.length/2)),a;if(!s&&!o)return null;o?s?a=s[4].length>o[4].length?s:o:a=o:a=s;var l,u,c,h;t.length>e.length?(l=a[0],u=a[1],c=a[2],h=a[3]):(c=a[0],h=a[1],l=a[2],u=a[3]);var f=a[4];return[l,u,c,h,f]}function Rw(t,e){t.push([Qt,""]);for(var n=0,r=0,i=0,s="",o="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case An:i++,o+=t[n][1],n++;break;case $n:r++,s+=t[n][1],n++;break;case Qt:var l=n-i-r-1;if(e){if(l>=0&&Lw(t[l][1])){var u=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),s=u+s,o=u+o,!t[l][1]){t.splice(l,1),n--;var c=l-1;t[c]&&t[c][0]===An&&(i++,o=t[c][1]+o,c--),t[c]&&t[c][0]===$n&&(r++,s=t[c][1]+s,c--),l=c}}if(Dw(t[n][1])){var u=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),s+=u,o+=u}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(a=dg(o,s),a!==0&&(l>=0?t[l][1]+=o.substring(0,a):(t.splice(0,0,[Qt,o.substring(0,a)]),n++),o=o.substring(a),s=s.substring(a)),a=pg(o,s),a!==0&&(t[n][1]=o.substring(o.length-a)+t[n][1],o=o.substring(0,o.length-a),s=s.substring(0,s.length-a)));var h=i+r;s.length===0&&o.length===0?(t.splice(n-h,h),n=n-h):s.length===0?(t.splice(n-h,h,[An,o]),n=n-h+1):o.length===0?(t.splice(n-h,h,[$n,s]),n=n-h+1):(t.splice(n-h,h,[$n,s],[An,o]),n=n-h+2)}n!==0&&t[n-1][0]===Qt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var f=!1;for(n=1;n<t.length-1;)t[n-1][0]===Qt&&t[n+1][0]===Qt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),f=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),f=!0)),n++;f&&Rw(t,e)}function Pw(t){return t>=55296&&t<=56319}function xw(t){return t>=56320&&t<=57343}function Dw(t){return xw(t.charCodeAt(0))}function Lw(t){return Pw(t.charCodeAt(t.length-1))}function mM(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Wf(t,e,n,r){return Lw(t)||Dw(r)?null:mM([[Qt,t],[$n,e],[An,n],[Qt,r]])}function vM(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,s=t.length,o=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),u=t.slice(a),c=i?i.index:null;e:{var h=a+o-s;if(c!==null&&c!==h||h<0||h>o)break e;var f=e.slice(0,h),d=e.slice(h);if(d!==u)break e;var p=Math.min(a,h),g=l.slice(0,p),_=f.slice(0,p);if(g!==_)break e;var m=l.slice(p),v=f.slice(p);return Wf(g,m,v,u)}e:{if(c!==null&&c!==a)break e;var b=a,f=e.slice(0,b),d=e.slice(b);if(f!==l)break e;var y=Math.min(s-b,o-b),E=u.slice(u.length-y),k=d.slice(d.length-y);if(E!==k)break e;var m=u.slice(0,u.length-y),v=d.slice(0,d.length-y);return Wf(l,m,v,E)}}if(r.length>0&&i&&i.length===0)e:{var g=t.slice(0,r.index),E=t.slice(r.index+r.length),p=g.length,y=E.length;if(o<p+y)break e;var _=e.slice(0,p),k=e.slice(o-y);if(g!==_||E!==k)break e;var m=t.slice(p,s-y),v=e.slice(p,o-y);return Wf(g,m,v,E)}return null}function gc(t,e,n){return sa(t,e,n,!0)}gc.INSERT=An;gc.DELETE=$n;gc.EQUAL=Qt;var yM=gc,fu={exports:{}};fu.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",h="[object GeneratorFunction]",f="[object Map]",d="[object Number]",p="[object Object]",g="[object Promise]",_="[object RegExp]",m="[object Set]",v="[object String]",b="[object Symbol]",y="[object WeakMap]",E="[object ArrayBuffer]",k="[object DataView]",S="[object Float32Array]",I="[object Float64Array]",R="[object Int8Array]",O="[object Int16Array]",T="[object Int32Array]",A="[object Uint8Array]",C="[object Uint8ClampedArray]",D="[object Uint16Array]",q="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,Y=/\w*$/,ie=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,B={};B[s]=B[o]=B[E]=B[k]=B[a]=B[l]=B[S]=B[I]=B[R]=B[O]=B[T]=B[f]=B[d]=B[p]=B[_]=B[m]=B[v]=B[b]=B[A]=B[C]=B[D]=B[q]=!0,B[u]=B[c]=B[y]=!1;var N=typeof qe=="object"&&qe&&qe.Object===Object&&qe,j=typeof self=="object"&&self&&self.Object===Object&&self,U=N||j||Function("return this")(),J=e&&!e.nodeType&&e,K=J&&!0&&t&&!t.nodeType&&t,L=K&&K.exports===J;function x(w,P){return w.set(P[0],P[1]),w}function V(w,P){return w.add(P),w}function $(w,P){for(var H=-1,oe=w?w.length:0;++H<oe&&P(w[H],H,w)!==!1;);return w}function ee(w,P){for(var H=-1,oe=P.length,Se=w.length;++H<oe;)w[Se+H]=P[H];return w}function fe(w,P,H,oe){var Se=-1,ye=w?w.length:0;for(oe&&ye&&(H=w[++Se]);++Se<ye;)H=P(H,w[Se],Se,w);return H}function M(w,P){for(var H=-1,oe=Array(w);++H<w;)oe[H]=P(H);return oe}function F(w,P){return w==null?void 0:w[P]}function z(w){var P=!1;if(w!=null&&typeof w.toString!="function")try{P=!!(w+"")}catch{}return P}function re(w){var P=-1,H=Array(w.size);return w.forEach(function(oe,Se){H[++P]=[Se,oe]}),H}function se(w,P){return function(H){return w(P(H))}}function ae(w){var P=-1,H=Array(w.size);return w.forEach(function(oe){H[++P]=oe}),H}var W=Array.prototype,G=Function.prototype,te=Object.prototype,Z=U["__core-js_shared__"],ne=function(){var w=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),ue=G.toString,ce=te.hasOwnProperty,de=te.toString,be=RegExp("^"+ue.call(ce).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=L?U.Buffer:void 0,me=U.Symbol,He=U.Uint8Array,Te=se(Object.getPrototypeOf,Object),Je=Object.create,Yr=te.propertyIsEnumerable,Xn=W.splice,wr=Object.getOwnPropertySymbols,Ze=Ie?Ie.isBuffer:void 0,jt=se(Object.keys,Object),Jn=bn(U,"DataView"),Xr=bn(U,"Map"),_n=bn(U,"Promise"),Bi=bn(U,"Set"),Ls=bn(U,"WeakMap"),Jr=bn(Object,"create"),Ms=Bt(Jn),Zr=Bt(Xr),js=Bt(_n),Bs=Bt(Bi),Fs=Bt(Ls),Er=me?me.prototype:void 0,Ma=Er?Er.valueOf:void 0;function Zn(w){var P=-1,H=w?w.length:0;for(this.clear();++P<H;){var oe=w[P];this.set(oe[0],oe[1])}}function vc(){this.__data__=Jr?Jr(null):{}}function yc(w){return this.has(w)&&delete this.__data__[w]}function _c(w){var P=this.__data__;if(Jr){var H=P[w];return H===r?void 0:H}return ce.call(P,w)?P[w]:void 0}function ja(w){var P=this.__data__;return Jr?P[w]!==void 0:ce.call(P,w)}function Us(w,P){var H=this.__data__;return H[w]=Jr&&P===void 0?r:P,this}Zn.prototype.clear=vc,Zn.prototype.delete=yc,Zn.prototype.get=_c,Zn.prototype.has=ja,Zn.prototype.set=Us;function gt(w){var P=-1,H=w?w.length:0;for(this.clear();++P<H;){var oe=w[P];this.set(oe[0],oe[1])}}function bc(){this.__data__=[]}function wc(w){var P=this.__data__,H=Ui(P,w);if(H<0)return!1;var oe=P.length-1;return H==oe?P.pop():Xn.call(P,H,1),!0}function Ec(w){var P=this.__data__,H=Ui(P,w);return H<0?void 0:P[H][1]}function Tc(w){return Ui(this.__data__,w)>-1}function Ac(w,P){var H=this.__data__,oe=Ui(H,w);return oe<0?H.push([w,P]):H[oe][1]=P,this}gt.prototype.clear=bc,gt.prototype.delete=wc,gt.prototype.get=Ec,gt.prototype.has=Tc,gt.prototype.set=Ac;function Tt(w){var P=-1,H=w?w.length:0;for(this.clear();++P<H;){var oe=w[P];this.set(oe[0],oe[1])}}function Ic(){this.__data__={hash:new Zn,map:new(Xr||gt),string:new Zn}}function Sc(w){return ti(this,w).delete(w)}function Oc(w){return ti(this,w).get(w)}function kc(w){return ti(this,w).has(w)}function Cc(w,P){return ti(this,w).set(w,P),this}Tt.prototype.clear=Ic,Tt.prototype.delete=Sc,Tt.prototype.get=Oc,Tt.prototype.has=kc,Tt.prototype.set=Cc;function Kt(w){this.__data__=new gt(w)}function Nc(){this.__data__=new gt}function Rc(w){return this.__data__.delete(w)}function Pc(w){return this.__data__.get(w)}function xc(w){return this.__data__.has(w)}function Dc(w,P){var H=this.__data__;if(H instanceof gt){var oe=H.__data__;if(!Xr||oe.length<n-1)return oe.push([w,P]),this;H=this.__data__=new Tt(oe)}return H.set(w,P),this}Kt.prototype.clear=Nc,Kt.prototype.delete=Rc,Kt.prototype.get=Pc,Kt.prototype.has=xc,Kt.prototype.set=Dc;function Fi(w,P){var H=Vs(w)||$i(w)?M(w.length,String):[],oe=H.length,Se=!!oe;for(var ye in w)(P||ce.call(w,ye))&&!(Se&&(ye=="length"||Wc(ye,oe)))&&H.push(ye);return H}function Ba(w,P,H){var oe=w[P];(!(ce.call(w,P)&&Ha(oe,H))||H===void 0&&!(P in w))&&(w[P]=H)}function Ui(w,P){for(var H=w.length;H--;)if(Ha(w[H][0],P))return H;return-1}function Pn(w,P){return w&&Hs(P,Ks(P),w)}function qs(w,P,H,oe,Se,ye,Pe){var De;if(oe&&(De=ye?oe(w,Se,ye,Pe):oe(w)),De!==void 0)return De;if(!Dn(w))return w;var et=Vs(w);if(et){if(De=Kc(w),!P)return Hc(w,De)}else{var Fe=tr(w),At=Fe==c||Fe==h;if(Va(w))return qi(w,P);if(Fe==p||Fe==s||At&&!ye){if(z(w))return ye?w:{};if(De=xn(At?{}:w),!P)return Vc(w,Pn(De,w))}else{if(!B[Fe])return ye?w:{};De=Gc(w,Fe,qs,P)}}Pe||(Pe=new Kt);var Gt=Pe.get(w);if(Gt)return Gt;if(Pe.set(w,De),!et)var ot=H?zc(w):Ks(w);return $(ot||w,function(It,mt){ot&&(mt=It,It=w[mt]),Ba(De,mt,qs(It,P,H,oe,mt,w,Pe))}),De}function Lc(w){return Dn(w)?Je(w):{}}function Mc(w,P,H){var oe=P(w);return Vs(w)?oe:ee(oe,H(w))}function jc(w){return de.call(w)}function Bc(w){if(!Dn(w)||Yc(w))return!1;var P=zs(w)||z(w)?be:ie;return P.test(Bt(w))}function Fc(w){if(!qa(w))return jt(w);var P=[];for(var H in Object(w))ce.call(w,H)&&H!="constructor"&&P.push(H);return P}function qi(w,P){if(P)return w.slice();var H=new w.constructor(w.length);return w.copy(H),H}function $s(w){var P=new w.constructor(w.byteLength);return new He(P).set(new He(w)),P}function ei(w,P){var H=P?$s(w.buffer):w.buffer;return new w.constructor(H,w.byteOffset,w.byteLength)}function Fa(w,P,H){var oe=P?H(re(w),!0):re(w);return fe(oe,x,new w.constructor)}function Ua(w){var P=new w.constructor(w.source,Y.exec(w));return P.lastIndex=w.lastIndex,P}function Uc(w,P,H){var oe=P?H(ae(w),!0):ae(w);return fe(oe,V,new w.constructor)}function qc(w){return Ma?Object(Ma.call(w)):{}}function $c(w,P){var H=P?$s(w.buffer):w.buffer;return new w.constructor(H,w.byteOffset,w.length)}function Hc(w,P){var H=-1,oe=w.length;for(P||(P=Array(oe));++H<oe;)P[H]=w[H];return P}function Hs(w,P,H,oe){H||(H={});for(var Se=-1,ye=P.length;++Se<ye;){var Pe=P[Se],De=oe?oe(H[Pe],w[Pe],Pe,H,w):void 0;Ba(H,Pe,De===void 0?w[Pe]:De)}return H}function Vc(w,P){return Hs(w,er(w),P)}function zc(w){return Mc(w,Ks,er)}function ti(w,P){var H=w.__data__;return Qc(P)?H[typeof P=="string"?"string":"hash"]:H.map}function bn(w,P){var H=F(w,P);return Bc(H)?H:void 0}var er=wr?se(wr,Object):Jc,tr=jc;(Jn&&tr(new Jn(new ArrayBuffer(1)))!=k||Xr&&tr(new Xr)!=f||_n&&tr(_n.resolve())!=g||Bi&&tr(new Bi)!=m||Ls&&tr(new Ls)!=y)&&(tr=function(w){var P=de.call(w),H=P==p?w.constructor:void 0,oe=H?Bt(H):void 0;if(oe)switch(oe){case Ms:return k;case Zr:return f;case js:return g;case Bs:return m;case Fs:return y}return P});function Kc(w){var P=w.length,H=w.constructor(P);return P&&typeof w[0]=="string"&&ce.call(w,"index")&&(H.index=w.index,H.input=w.input),H}function xn(w){return typeof w.constructor=="function"&&!qa(w)?Lc(Te(w)):{}}function Gc(w,P,H,oe){var Se=w.constructor;switch(P){case E:return $s(w);case a:case l:return new Se(+w);case k:return ei(w,oe);case S:case I:case R:case O:case T:case A:case C:case D:case q:return $c(w,oe);case f:return Fa(w,oe,H);case d:case v:return new Se(w);case _:return Ua(w);case m:return Uc(w,oe,H);case b:return qc(w)}}function Wc(w,P){return P=P??i,!!P&&(typeof w=="number"||X.test(w))&&w>-1&&w%1==0&&w<P}function Qc(w){var P=typeof w;return P=="string"||P=="number"||P=="symbol"||P=="boolean"?w!=="__proto__":w===null}function Yc(w){return!!ne&&ne in w}function qa(w){var P=w&&w.constructor,H=typeof P=="function"&&P.prototype||te;return w===H}function Bt(w){if(w!=null){try{return ue.call(w)}catch{}try{return w+""}catch{}}return""}function $a(w){return qs(w,!0,!0)}function Ha(w,P){return w===P||w!==w&&P!==P}function $i(w){return Xc(w)&&ce.call(w,"callee")&&(!Yr.call(w,"callee")||de.call(w)==s)}var Vs=Array.isArray;function Hi(w){return w!=null&&za(w.length)&&!zs(w)}function Xc(w){return Ka(w)&&Hi(w)}var Va=Ze||Zc;function zs(w){var P=Dn(w)?de.call(w):"";return P==c||P==h}function za(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=i}function Dn(w){var P=typeof w;return!!w&&(P=="object"||P=="function")}function Ka(w){return!!w&&typeof w=="object"}function Ks(w){return Hi(w)?Fi(w):Fc(w)}function Jc(){return[]}function Zc(){return!1}t.exports=$a})(fu,fu.exports);var Mw=fu.exports,gg={},jw=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gg,"__esModule",{value:!0});var _M=jw(Mw),bM=jw(eg),id;(function(t){function e(s,o,a){s===void 0&&(s={}),o===void 0&&(o={}),typeof s!="object"&&(s={}),typeof o!="object"&&(o={});var l=_M.default(o);a||(l=Object.keys(l).reduce(function(c,h){return l[h]!=null&&(c[h]=l[h]),c},{}));for(var u in s)s[u]!==void 0&&o[u]===void 0&&(l[u]=s[u]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(s,o){s===void 0&&(s={}),o===void 0&&(o={}),typeof s!="object"&&(s={}),typeof o!="object"&&(o={});var a=Object.keys(s).concat(Object.keys(o)).reduce(function(l,u){return bM.default(s[u],o[u])||(l[u]=o[u]===void 0?null:o[u]),l},{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(s,o){s===void 0&&(s={}),o===void 0&&(o={}),s=s||{};var a=Object.keys(o).reduce(function(l,u){return o[u]!==s[u]&&s[u]!==void 0&&(l[u]=o[u]),l},{});return Object.keys(s).reduce(function(l,u){return s[u]!==o[u]&&o[u]===void 0&&(l[u]=null),l},a)}t.invert=r;function i(s,o,a){if(a===void 0&&(a=!1),typeof s!="object")return o;if(typeof o=="object"){if(!a)return o;var l=Object.keys(o).reduce(function(u,c){return s[c]===void 0&&(u[c]=o[c]),u},{});return Object.keys(l).length>0?l:void 0}}t.transform=i})(id||(id={}));gg.default=id;var pl={},gl={},gy;function wM(){if(gy)return gl;gy=1;var t=qe&&qe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gl,"__esModule",{value:!0});var e=t(Bw()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var s=this.ops[this.index];if(s){var o=this.offset,a=e.default.length(s);if(i>=a-o?(i=a-o,this.index+=1,this.offset=0):this.offset+=i,typeof s.delete=="number")return{delete:i};var l={};return s.attributes&&(l.attributes=s.attributes),typeof s.retain=="number"?l.retain=i:typeof s.insert=="string"?l.insert=s.insert.substr(o,i):l.insert=s.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,s=this.index,o=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=s,[o].concat(a)}else return[]},r}();return gl.default=n,gl}var my;function Bw(){if(my)return pl;my=1;var t=qe&&qe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pl,"__esModule",{value:!0});var e=t(wM()),n;return function(r){function i(o){return new e.default(o)}r.iterator=i;function s(o){return typeof o.delete=="number"?o.delete:typeof o.retain=="number"?o.retain:typeof o.insert=="string"?o.insert.length:1}r.length=s}(n||(n={})),pl.default=n,pl}var La=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ml=La(yM),EM=La(Mw),Qf=La(eg),io=La(gg),vt=La(Bw()),TM=String.fromCharCode(0),AM=function(){function t(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return t.prototype.insert=function(e,n){var r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},t.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},t.prototype.retain=function(e,n){if(e<=0)return this;var r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},t.prototype.push=function(e){var n=this.ops.length,r=this.ops[n-1];if(e=EM.default(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(Qf.default(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this},t.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.prototype.filter=function(e){return this.ops.filter(e)},t.prototype.forEach=function(e){this.ops.forEach(e)},t.prototype.map=function(e){return this.ops.map(e)},t.prototype.partition=function(e){var n=[],r=[];return this.forEach(function(i){var s=e(i)?n:r;s.push(i)}),[n,r]},t.prototype.reduce=function(e,n){return this.ops.reduce(e,n)},t.prototype.changeLength=function(){return this.reduce(function(e,n){return n.insert?e+vt.default.length(n):n.delete?e-n.delete:e},0)},t.prototype.length=function(){return this.reduce(function(e,n){return e+vt.default.length(n)},0)},t.prototype.slice=function(e,n){e===void 0&&(e=0),n===void 0&&(n=1/0);for(var r=[],i=vt.default.iterator(this.ops),s=0;s<n&&i.hasNext();){var o=void 0;s<e?o=i.next(e-s):(o=i.next(n-s),r.push(o)),s+=vt.default.length(o)}return new t(r)},t.prototype.compose=function(e){var n=vt.default.iterator(this.ops),r=vt.default.iterator(e.ops),i=[],s=r.peek();if(s!=null&&typeof s.retain=="number"&&s.attributes==null){for(var o=s.retain;n.peekType()==="insert"&&n.peekLength()<=o;)o-=n.peekLength(),i.push(n.next());s.retain-o>0&&r.next(s.retain-o)}for(var a=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")a.push(r.next());else if(n.peekType()==="delete")a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),u=n.next(l),c=r.next(l);if(typeof c.retain=="number"){var h={};typeof u.retain=="number"?h.retain=l:h.insert=u.insert;var f=io.default.compose(u.attributes,c.attributes,typeof u.retain=="number");if(f&&(h.attributes=f),a.push(h),!r.hasNext()&&Qf.default(a.ops[a.ops.length-1],h)){var d=new t(n.rest());return a.concat(d).chop()}}else typeof c.delete=="number"&&typeof u.retain=="number"&&a.push(c)}return a.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(l){return l.map(function(u){if(u.insert!=null)return typeof u.insert=="string"?u.insert:TM;var c=l===e?"on":"with";throw new Error("diff() called "+c+" non-document")}).join("")}),i=new t,s=ml.default(r[0],r[1],n),o=vt.default.iterator(this.ops),a=vt.default.iterator(e.ops);return s.forEach(function(l){for(var u=l[1].length;u>0;){var c=0;switch(l[0]){case ml.default.INSERT:c=Math.min(a.peekLength(),u),i.push(a.next(c));break;case ml.default.DELETE:c=Math.min(u,o.peekLength()),o.next(c),i.delete(c);break;case ml.default.EQUAL:c=Math.min(o.peekLength(),a.peekLength(),u);var h=o.next(c),f=a.next(c);Qf.default(h.insert,f.insert)?i.retain(c,io.default.diff(h.attributes,f.attributes)):i.push(f).delete(c);break}u-=c}}),i.chop()},t.prototype.eachLine=function(e,n){n===void 0&&(n=`
`);for(var r=vt.default.iterator(this.ops),i=new t,s=0;r.hasNext();){if(r.peekType()!=="insert")return;var o=r.peek(),a=vt.default.length(o)-r.peekLength(),l=typeof o.insert=="string"?o.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},s)===!1)return;s+=1,i=new t}}i.length()>0&&e(i,{},s)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(r,i){if(i.insert)n.delete(vt.default.length(i));else{if(i.retain&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||i.retain&&i.attributes){var s=i.delete||i.retain,o=e.slice(r,r+s);return o.forEach(function(a){i.delete?n.push(a):i.retain&&i.attributes&&n.retain(vt.default.length(a),io.default.invert(i.attributes,a.attributes))}),r+s}}return r},0),n.chop()},t.prototype.transform=function(e,n){if(n===void 0&&(n=!1),n=!!n,typeof e=="number")return this.transformPosition(e,n);for(var r=e,i=vt.default.iterator(this.ops),s=vt.default.iterator(r.ops),o=new t;i.hasNext()||s.hasNext();)if(i.peekType()==="insert"&&(n||s.peekType()!=="insert"))o.retain(vt.default.length(i.next()));else if(s.peekType()==="insert")o.push(s.next());else{var a=Math.min(i.peekLength(),s.peekLength()),l=i.next(a),u=s.next(a);if(l.delete)continue;u.delete?o.push(u):o.retain(a,io.default.transform(l.attributes,u.attributes,n))}return o.chop()},t.prototype.transformPosition=function(e,n){n===void 0&&(n=!1),n=!!n;for(var r=vt.default.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var s=r.peekLength(),o=r.peekType();if(r.next(),o==="delete"){e-=Math.min(s,e-i);continue}else o==="insert"&&(i<e||!n)&&(e+=s);i+=s}return e},t.Op=vt.default,t.AttributeMap=io.default,t}(),IM=AM;const SM=ew(IM);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const vy={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},OM=aa({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(vy).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{Eu(()=>{s()}),Tu(()=>{n=null});let n,r;const i=ht(),s=()=>{var T;if(i.value){if(r=o(),t.modules)if(Array.isArray(t.modules))for(const A of t.modules)Gf.register(`modules/${A.name}`,A.module);else Gf.register(`modules/${t.modules.name}`,t.modules.module);n=new Gf(i.value,r),b(t.content),n.on("text-change",h),n.on("selection-change",d),n.on("editor-change",p),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(T=n.getModule("toolbar"))===null||T===void 0||T.container.addEventListener("mousedown",A=>{A.preventDefault()}),e.emit("ready",n)}},o=()=>{const T={};if(t.theme!==""&&(T.theme=t.theme),t.readOnly&&(T.readOnly=t.readOnly),t.placeholder&&(T.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(T.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:vy[t.toolbar]})()}),t.modules){const A=(()=>{var C,D;const q={};if(Array.isArray(t.modules))for(const Q of t.modules)q[Q.name]=(C=Q.options)!==null&&C!==void 0?C:{};else q[t.modules.name]=(D=t.modules.options)!==null&&D!==void 0?D:{};return q})();T.modules=Object.assign({},T.modules,A)}return Object.assign({},t.globalOptions,t.options,T)},a=T=>typeof T=="object"&&T?T.slice():T,l=T=>Object.values(T.ops).some(A=>!A.retain||Object.keys(A).length!==1);let u;const c=T=>{if(typeof u==typeof T){if(T===u)return!0;if(typeof T=="object"&&T&&typeof u=="object"&&u)return!l(u.diff(T))}return!1},h=(T,A,C)=>{u=a(v()),c(t.content)||e.emit("update:content",u),e.emit("textChange",{delta:T,oldContents:A,source:C})},f=ht(),d=(T,A,C)=>{f.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:T,oldRange:A,source:C})};Sn(f,T=>{T?e.emit("focus",i):e.emit("blur",i)});const p=(...T)=>{T[0]==="text-change"&&e.emit("editorChange",{name:T[0],delta:T[1],oldContents:T[2],source:T[3]}),T[0]==="selection-change"&&e.emit("editorChange",{name:T[0],range:T[1],oldRange:T[2],source:T[3]})},g=()=>i.value,_=()=>{var T;return(T=n==null?void 0:n.getModule("toolbar"))===null||T===void 0?void 0:T.container},m=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},v=(T,A)=>t.contentType==="html"?k():t.contentType==="text"?y(T,A):n==null?void 0:n.getContents(T,A),b=(T,A="api")=>{const C=T||(t.contentType==="delta"?new SM:"");t.contentType==="html"?S(C):t.contentType==="text"?E(C,A):n==null||n.setContents(C,A),u=a(C)},y=(T,A)=>{var C;return(C=n==null?void 0:n.getText(T,A))!==null&&C!==void 0?C:""},E=(T,A="api")=>{n==null||n.setText(T,A)},k=()=>{var T;return(T=n==null?void 0:n.root.innerHTML)!==null&&T!==void 0?T:""},S=T=>{n&&(n.root.innerHTML=T)},I=(T,A="api")=>{const C=n==null?void 0:n.clipboard.convert(T);C&&(n==null||n.setContents(C,A))},R=()=>{n==null||n.focus()},O=()=>{Po(()=>{var T;!e.slots.toolbar&&n&&((T=n.getModule("toolbar"))===null||T===void 0||T.container.remove()),s()})};return Sn(()=>t.content,T=>{if(!n||!T||c(T))return;const A=n.getSelection();A&&Po(()=>n==null?void 0:n.setSelection(A)),b(T)},{deep:!0}),Sn(()=>t.enable,T=>{n&&n.enable(T)}),{editor:i,getEditor:g,getToolbar:_,getQuill:m,getContents:v,setContents:b,getHTML:k,setHTML:S,pasteHTML:I,focus:R,getText:y,setText:E,reinit:O}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),ku("div",{ref:"editor",...this.$attrs})]}});const mc=gA(aM);mc.use(Oo);mc.use(t2());mc.component("QuillEditor",OM);mc.mount("body");export{jM as $,au as A,Eu as B,nn as C,Sn as D,Ut as E,UM as F,hn as G,RM as H,sr as I,XE as J,DM as K,Do as L,PM as M,LM as N,Wn as O,On as P,Gf as Q,vn as R,Os as S,Rn as T,dn as U,st as V,Pi as W,VA as X,xd as Y,KA as Z,d0 as _,qM as a,SM as a0,ew as a1,qe as a2,Ot as b,mo as c,aa as d,Xt as e,us as f,uh as g,PT as h,VE as i,at as j,MM as k,cT as l,ud as m,cd as n,cr as o,HE as p,BM as q,ht as r,Ll as s,CM as t,sM as u,xM as v,NM as w,FM as x,qv as y,EA as z};
//# sourceMappingURL=main-18685029.js.map
