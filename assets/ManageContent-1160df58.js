import{d as w,u as L,a as I,l as R,o as i,c,e as n,b as e,f as a,F as f,C as y,t as S,g as C,s as _,p as D,i as O,_ as $,B as Z,I as J,j as T,n as M,D as E,A as N,r as B,z as G,w as P,J as K,v as V,h as W}from"./main-e0264e12.js";import{A as X}from"./AppStorage-59a68013.js";import{u as k}from"./Url-4d04c3c7.js";const q=l=>(D("data-v-4d5444b4"),l=l(),O(),l),x={class:"d-flex"},ee={key:0,class:"col-12 table-wrapper"},te={key:0,class:"container-fluid"},ae={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},ne=q(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),oe={class:"text-center",scope:"row"},se={class:"container"},pe={class:"row align-items-center gap-3"},ie=["onClick"],le=["onClick"],re={key:0},ce=q(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),de=[ce],ue={key:1,class:"container-fluid"},me=q(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),he=[me],ve=w({__name:"ManageLearningMaterials",setup(l){const m=L(),o=I(),p=t=>{t.type==="delta"&&m.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},u=(t,s)=>{confirm(`Yakin menghapus halaman ${s}?`)&&(e().deletePage(t),e().updatePageContent())};return(t,s)=>{const r=R("router-view");return i(),c("div",x,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(o).query).length<=0?(i(),c("div",ee,[Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(i(),c("div",te,[a("table",ae,[ne,a("tbody",null,[(i(!0),c(f,null,y(Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page,(d,h)=>(i(),c("tr",{class:"text-lowercase text-nowrap",key:h},[a("th",oe,S(Number(h)+1),1),a("td",null,S(Object(Object.entries(Object(d))[0][1]).name),1),a("td",null,[a("div",se,[a("div",pe,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:v=>p({pageNumber:Number(h)+1,id:Object.entries(Object(d))[0][0],...Object(Object.entries(Object(d))[0][1])})}," edit halaman ",8,ie),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:v=>u(Number(h),Object(Object.entries(Object(d))[0][1]).name)}," hapus ",8,le)])])])]))),128)),Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page.length<=0?(i(),c("tr",re,de)):C("",!0)])])])):(i(),c("div",ue,he))])):(i(),_(r,{key:1}))])}}});const be=$(ve,[["__scopeId","data-v-4d5444b4"]]),z=l=>(D("data-v-984d0aed"),l=l(),O(),l),Se={class:"d-flex"},ge={key:0,class:"col-12 table-wrapper"},Ce={key:0,class:"container-fluid"},Ae={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},_e=z(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),$e={class:"text-center",scope:"row"},fe={class:"container"},ye={class:"row align-items-center gap-3"},we=["onClick"],ke=["onClick"],De={key:0},Oe=z(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),je=[Oe],Ie={key:1,class:"container-fluid"},Te=z(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),Ee=[Te],Me=w({__name:"ManageApplicationContent",setup(l){const m=L(),o=I(),p=t=>{t.type==="delta"&&m.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},u=(t,s)=>{confirm(`Yakin menghapus halaman ${s}?`)&&e().deletePage(t)};return(t,s)=>{const r=R("router-view");return i(),c("div",Se,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(o).query).length<=0?(i(),c("div",ge,[Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(i(),c("div",Ce,[a("table",Ae,[_e,a("tbody",null,[(i(!0),c(f,null,y(Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page,(d,h)=>(i(),c("tr",{class:"text-lowercase text-nowrap",key:h},[a("th",$e,S(Number(h)+1),1),a("td",null,S(Object(Object.entries(Object(d))[0][1]).name),1),a("td",null,[a("div",fe,[a("div",ye,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:v=>p({pageNumber:Number(h)+1,id:Object.entries(Object(d))[0][0],...Object(Object.entries(Object(d))[0][1])})}," edit halaman ",8,we),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:v=>u(Number(h),Object(Object.entries(Object(d))[0][1]).name)}," hapus ",8,ke)])])])]))),128)),Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page.length<=0?(i(),c("tr",De,je)):C("",!0)])])])):(i(),c("div",Ie,Ee))])):(i(),_(r,{key:1}))])}}});const Pe=$(Me,[["__scopeId","data-v-984d0aed"]]);var U={exports:{}};(function(l,m){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};(function(p){var u=function(){for(var t=arguments.length,s=Array(t),r=0;r<t;r++)s[r]=arguments[r];var d=document.createElement("input");return o(s[0])==="object"&&(s[0].multiple===!0&&d.setAttribute("multiple",""),s[0].accept!==void 0&&d.setAttribute("accept",s[0].accept)),d.setAttribute("type","file"),d.style.display="none",d.setAttribute("id","hidden-file"),document.body.appendChild(d),new Promise(function(h){d.addEventListener("change",function(){h(d.files);var b=s[s.length-1];typeof b=="function"&&b(d.files),document.body.removeChild(d)});var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),d.dispatchEvent(v)})};l.exports&&(m=l.exports=u),m.fileDialog=u})()})(U,U.exports);var Ne=U.exports;const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Y=l=>{const m=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let o=0;o<H.length;o++)m[l.charCodeAt(o)]=o;return m},Be=Y(H),Ue=Y(Q),A={};A.toArrayBuffer=(l,m)=>{const o=l.length;let p=l.length*.75,u,t=0,s,r,d,h;l[l.length-1]==="="&&(p--,l[l.length-2]==="="&&p--);const v=new ArrayBuffer(p),b=new Uint8Array(v),g=m?Ue:Be;for(u=0;u<o;u+=4)s=g[l.charCodeAt(u)],r=g[l.charCodeAt(u+1)],d=g[l.charCodeAt(u+2)],h=g[l.charCodeAt(u+3)],b[t++]=s<<2|r>>4,b[t++]=(r&15)<<4|d>>2,b[t++]=(d&3)<<6|h&63;return v};A.fromArrayBuffer=(l,m)=>{const o=new Uint8Array(l);let p,u="";const t=o.length,s=m?Q:H;for(p=0;p<t;p+=3)u+=s[o[p]>>2],u+=s[(o[p]&3)<<4|o[p+1]>>4],u+=s[(o[p+1]&15)<<2|o[p+2]>>6],u+=s[o[p+2]&63];return t%3===2?u=u.substring(0,u.length-1)+(m?"":"="):t%3===1&&(u=u.substring(0,u.length-2)+(m?"":"==")),u};A.toString=(l,m)=>new TextDecoder().decode(A.toArrayBuffer(l,m));A.fromString=(l,m)=>A.fromArrayBuffer(new TextEncoder().encode(l),m);A.validate=(l,m)=>{if(!(typeof l=="string"||l instanceof String))return!1;try{return m?/^[-A-Za-z0-9\-_]*$/.test(l):/^[-A-Za-z0-9+/]*={0,3}$/.test(l)}catch{return!1}};A.base64=A;const Le={key:0,class:""},qe=["innerHTML"],ze={key:1,class:"text-center"},He=w({__name:"ImageUploader",props:{image:{}},emits:["onImageSource"],setup(l,{emit:m}){const o=l,p=Z({});if(o.image.source!==""){const t=new Image;t.src=o.image.source,p.data=o.image.source,p.html=t,p.html.className="img-fluid"}const u=()=>{Ne.fileDialog({accept:"image/*"}).then(t=>{const s=new FileReader;s.readAsDataURL(t[0]),s.onload=()=>{const r=new Image;r.src=String(s.result),console.log(A.validate(A.fromString(r.src))),A.validate(A.fromString(r.src))?X.uploadContentImage(`/final-evaluation/${o.image.name}`,s.result).then(d=>{r.src=d,p.data=s.result,p.html=r,p.html.className="img-fluid",m("onImageSource",r.src)}):(p.data=s.result,p.html=r,p.html.className="img-fluid",m("onImageSource",r.src))}})};return(t,s)=>(i(),c("div",{class:"image-uploader",onClick:u},[o.image.source!==""&&n(p).html?(i(),c("div",Le,[a("div",{class:"",innerHTML:n(p).html.outerHTML},null,8,qe)])):(i(),c("div",ze," Tidak ada gambar "))]))}});const Fe=$(He,[["__scopeId","data-v-1432c02b"]]),Ve=l=>(D("data-v-cf418909"),l=l(),O(),l),Re={key:0,class:"d-flex flex-column gap-3 p-1",style:{overflow:"auto"}},Ge={key:0,class:"question-wrapper"},Qe={class:"d-flex flex-column gap-3"},Ye={class:"d-flex justify-content-center"},Ze={class:"col-12 col-md-6"},Je={class:"fw-bolder"},Ke={class:"d-flex gap-2"},We={class:"col-auto"},Xe={class:"col"},xe=["value","onInput"],et={class:"px-4 d-flex flex-column gap-1"},tt={class:"col-auto"},at=["onClick"],nt={class:"col"},ot=["value","onInput"],st={class:"col-auto",style:{width:"fit-content"}},pt={class:"d-flex gap-4"},it=["onClick"],lt={key:1},rt=Ve(()=>a("div",{class:"p-3 bg-warning text-center border border-2 border-dark rounded"}," tidak ada instrumen evaluasi ",-1)),ct=[rt],dt=w({__name:"ManageFinalEvaluation",setup(l){const m=()=>{e().appCacheData[`${e().activeContent.data.name}`].data.push({id:E().value,question:"pertanyaan ?",questionImage:"",answerOption:{a:"option a",b:"option b",c:"option c",d:"option d"},trueAnswer:"a"})},o=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].data[s].question=r},p=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].data[s].trueAnswer=r},u=(s,r,d)=>{e().appCacheData[`${e().activeContent.data.name}`].data[s].answerOption[`${r}`]=d},t=s=>{s>-1&&e().appCacheData[`${e().activeContent.data.name}`].data.splice(s,1)};return J(e().appCacheData[`${e().activeContent.data.name}`].data,()=>{e().updatePageContent()}),(s,r)=>{const d=Fe;return i(),c("div",null,[("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].data?(i(),c("div",Re,[("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].data.length>0?(i(),c("div",Ge,[(i(!0),c(f,null,y(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].data,(h,v)=>(i(),c("div",{class:"question py-4",key:Number(v)},[a("div",Qe,[a("div",Ye,[a("div",Ze,[T(d,{onOnImageSource:b=>{Object(h).questionImage=b},image:{name:Object(h).id,source:Object(h).questionImage}},null,8,["onOnImageSource","image"])])]),a("div",Je,[a("div",Ke,[a("div",We,[a("span",null,S(String(v+1))+". ",1)]),a("div",Xe,[a("input",{class:"w-100",type:"text",value:String(Object(h).question),onInput:b=>o(v,Object(b).target.value)},null,40,xe)])])]),a("div",et,[(i(!0),c(f,null,y(Object(h).answerOption,(b,g)=>(i(),c("div",{class:"d-flex gap-2",key:g},[a("div",tt,[a("span",{class:M(["d-inline-block rounded px-2",String(Object(h).trueAnswer)===String(g)?"bg-success text-light":""]),style:{width:"2rem",cursor:"pointer"},onClick:j=>p(v,String(g))},S(g)+". ",11,at)]),a("div",nt,[a("input",{class:"w-100",type:"text",value:b,onInput:j=>u(v,String(g),Object(j).target.value)},null,40,ot)])]))),128))]),a("div",st,[a("div",pt,[a("button",{class:"col-auto button-style bg-danger small p-1 px-2",style:{width:"fit-content"},onClick:b=>t(v)}," hapus pertanyaan ",8,it)])])])]))),128))])):(i(),c("div",lt,ct)),a("div",null,[a("button",{class:"add-evaluation button-style bg-primary text-light",style:{height:"auto"},onClick:r[0]||(r[0]=h=>m())}," tambah evaluasi ")])])):C("",!0)])}}});const ut=$(dt,[["__scopeId","data-v-cf418909"]]),F=l=>(D("data-v-88abb5ab"),l=l(),O(),l),mt={class:"d-flex"},ht={class:"col-12 table-wrapper"},vt={class:"student-table table table-bordered table-hover table-sm border-secondary rounded-5"},bt=F(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"Nomor"),a("th",{class:"fw-bolder",scope:"col"},"email"),a("th",{class:"fw-bolder",scope:"col"},"nama"),a("th",{class:"fw-bolder",scope:"col"},"kelas"),a("th",{class:"fw-bolder",scope:"col"},"no. Absen"),a("th",{class:"fw-bolder",scope:"col"},"nilai evaluasi akhir"),a("th",{class:"fw-bolder",scope:"col"},"status")])],-1)),St={key:0},gt={class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"},Ct={class:"d-flex justify-content-center align-items-center"},At=F(()=>a("div",{class:"col-auto"},"Mengambil data siswa",-1)),_t={class:"col-auto"},$t={key:1},ft={class:"text-center",scope:"row"},yt={class:"w-100"},wt={class:"text-center"},kt={class:"text-center"},Dt={class:"text-center"},Ot={key:0},jt={key:1,class:"text-danger"},It={class:"container"},Tt={class:"d-flex align-items-center gap-3"},Et={key:0},Mt=F(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"6"},[a("div",{class:"container"},[a("div",{class:"d-flex"},[a("div",{class:"col"}," Tidak ada data siswa ")])])],-1)),Pt=[Mt],Nt=w({__name:"ManageStudent",setup(l){e().allStudent.lastGettingData===0&&e().appData.appRef&&N.getAllStudentData();const m=o=>{const p=B(0);let u={};return e().appCacheData["evaluasi akhir"].data.forEach((t,s)=>u[`${t.id}`]=t.trueAnswer),Object.keys(o).forEach(t=>{o[`${t}`]===u[`${t}`]&&p.value++}),p.value/Object.keys(u).length*100};return(o,p)=>{const u=G;return i(),c("div",mt,[a("div",ht,[a("table",vt,[bt,("AppStore"in o?o.AppStore:n(e))().allStudent.isGettingData?(i(),c("tbody",St,[a("tr",null,[a("td",gt,[a("div",Ct,[At,a("div",_t,[T(u)])])])])])):C("",!0),!("AppStore"in o?o.AppStore:n(e))().allStudent.isGettingData&&("AppStore"in o?o.AppStore:n(e))().allStudent.data.length!==0?(i(),c("tbody",$t,[(i(!0),c(f,null,y(("AppStore"in o?o.AppStore:n(e))().allStudent.data,(t,s)=>{var r,d;return i(),c("tr",{class:"text-lowercase text-nowrap",key:s},[a("th",ft,S(Number(s)+1),1),a("td",null,S(Object(t).email)+" ",1),a("td",yt,S(Object(t).appData.name),1),a("td",wt,S(Object(t).appData.class),1),a("td",kt,S(Object(t).appData.ruleNumber),1),a("td",Dt,[(r=Object(t).appData)!=null&&r.finalEvaluation?(i(),c("span",Ot,S(m((d=Object(t).appData)==null?void 0:d.finalEvaluation)),1)):(i(),c("span",jt," evaluasi belum dilaksanakan "))]),a("td",null,[a("div",It,[a("div",Tt,[a("span",{class:M(["col-auto fw-bolder p-0",Object(t).status==="nonactive"?"text-danger":"text-success"])},S(Object(t).status),3)])])])])}),128)),!("AppStore"in o?o.AppStore:n(e))().allStudent.isGettingData&&("AppStore"in o?o.AppStore:n(e))().allStudent.data.length===0?(i(),c("tr",Et,Pt)):C("",!0)])):C("",!0)])])])}}});const Bt=$(Nt,[["__scopeId","data-v-88abb5ab"]]),Ut={};function Lt(l,m){return i(),c("div",null,"overview")}const qt=$(Ut,[["render",Lt]]),zt=l=>(D("data-v-e6c9b896"),l=l(),O(),l),Ht={class:"evaluation-modal p-5"},Ft={class:"container h-100"},Vt={class:"position-relative d-flex flex-column gap-3 rounded-9 h-100 bg-light shadow p-5"},Rt=zt(()=>a("i",{class:"fa-solid fa-xmark fa-3x text-danger"},null,-1)),Gt=[Rt],Qt={class:"col-auto"},Yt={class:"text-uppercase fw-bolder border-bottom border-secondary"},Zt={class:"d-flex flex-column gap-3 p-1",style:{overflow:"auto"}},Jt={class:"d-flex flex-column gap-3"},Kt={class:"fw-bolder"},Wt=["value","onInput"],Xt={class:"px-4 d-flex flex-column gap-1"},xt={class:"col-auto"},ea=["onClick"],ta={class:"col"},aa=["value","onInput"],na={class:"col-auto",style:{width:"fit-content"}},oa=["onClick"],sa=w({__name:"modalEvaluation",setup(l){const m=()=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].push({id:E().value,question:"pertanyaan ?",answerOption:{a:"option a",b:"option b",c:"option c",d:"option d"},trueAnswer:"a"}),e().updatePageContent()},o=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][s].question=r,e().updatePageContent()},p=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][s].trueAnswer=r,e().updatePageContent()},u=(s,r,d)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][s].answerOption[`${r}`]=d,e().updatePageContent()},t=s=>{s>-1&&(e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].splice(s,1),e().updatePageContent())};return(s,r)=>(i(),c("div",Ht,[a("div",Ft,[a("div",Vt,[a("div",{class:"close",onClick:r[0]||(r[0]=d=>("AppStore"in s?s.AppStore:n(e))().modal.evaluasi=!1)},Gt),a("div",Qt,[a("h3",Yt," Evaluasi "+S(Object(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].name),1)]),a("div",Zt,[(i(!0),c(f,null,y(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].evaluation[`${("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`],(d,h)=>(i(),c("div",{key:Number(h)},[a("div",Jt,[a("div",Kt,[a("span",null,S(String(h+1))+". ",1),a("input",{type:"text",value:String(Object(d).question),onInput:v=>o(h,Object(v).target.value)},null,40,Wt)]),a("div",Xt,[(i(!0),c(f,null,y(Object(d).answerOption,(v,b)=>(i(),c("div",{class:"d-flex gap-1",key:b},[a("div",xt,[a("span",{class:M(["d-inline-block rounded px-2",String(Object(d).trueAnswer)===String(b)?"bg-success text-light":""]),style:{width:"2rem",cursor:"pointer"},onClick:g=>p(h,b)},S(b)+". ",11,ea)]),a("div",ta,[a("input",{type:"text",value:v,onInput:g=>u(h,b,Object(g).target.value)},null,40,aa)])]))),128))]),a("div",na,[a("button",{class:"button-style bg-danger small p-1 px-2",onClick:v=>t(h)}," hapus pertanyaan ",8,oa)])])]))),128))]),a("div",{class:"add-evaluation button-style bg-primary text-light",style:{height:"auto"},onClick:r[1]||(r[1]=d=>m())}," tambah evaluasi ")])])]))}});const pa=$(sa,[["__scopeId","data-v-e6c9b896"]]),ia={class:"content-header"},la={class:"container-fluid"},ra={class:"row align-items-end gap-3"},ca={class:"col-auto"},da={class:"small px-2"},ua=["value"],ma={key:0,value:"",selected:"",disabled:""},ha={class:"col-auto"},va={class:"row gap-3"},ba={key:0,class:"col-auto"},Sa={class:"col-auto"},ga={class:"col-auto"},Ca={class:"row gap-3"},Aa={class:"col-auto"},_a={class:"col-auto"},$a={class:"row gap-3"},fa={key:0,class:"col-auto"},ya={class:"col-auto"},wa={key:0,class:"col-auto"},ka={class:"row gap-3"},Da={class:"col-auto"},Oa=w({__name:"contentHeader",setup(l){const m=()=>{e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent&&confirm(`yakin akan menghapus sub konten ${Object(e().appCacheData[`${e().activeContent.data.name}`].subContent)[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].name}`)&&e().deleteSubContent(String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent))};return e().modal.evaluasi=!1,(o,p)=>{const u=pa;return i(),c("div",ia,[a("div",la,[a("div",ra,[a("div",ca,[a("span",da,"sub konten "+S(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent),1),a("div",null,[P(a("select",{id:"selcet-sub-content",class:"input-style","onUpdate:modelValue":p[0]||(p[0]=t=>("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent=t)},[(i(!0),c(f,null,y(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].subContent,(t,s)=>(i(),c("option",{key:s,value:s},S(Object(t).name),9,ua))),128)),Object(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].subContent).length===0?(i(),c("option",ma," tidak ada sub-konten "+S(("AppStore"in o?o.AppStore:n(e))().activeContent.data.name),1)):C("",!0)],512),[[K,("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent]])])]),a("div",ha,[a("div",va,[("AppStore"in o?o.AppStore:n(e))().newContentData["sub content"].focus?(i(),c("div",ba,[P(a("input",{type:"text",class:"input-style",id:"labelAddPage","onUpdate:modelValue":p[1]||(p[1]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData["sub content"].name=t),onBlur:p[2]||(p[2]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.blur("sub content",1e4))},null,544),[[V,("AppStore"in o?o.AppStore:n(e))().newContentData["sub content"].name]])])):C("",!0),a("div",Sa,[a("label",{class:"btn-link button-style bg-primary text-light p-1 px-3",for:"labelAddPage",onClick:p[3]||(p[3]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.submit("sub content"))}," tambah sub konten ")])])]),a("div",ga,[a("div",Ca,[a("div",Aa,[a("label",{class:"btn-link button-style bg-danger text-light p-1 px-3",for:"labelAddPage",onClick:p[4]||(p[4]=t=>m())}," hapus sub konten ")])])]),a("div",_a,[a("div",$a,[("AppStore"in o?o.AppStore:n(e))().newContentData.page.focus?(i(),c("div",fa,[P(a("input",{type:"text",class:"input-style",id:"labelAddPage","onUpdate:modelValue":p[5]||(p[5]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.page.name=t),onBlur:p[6]||(p[6]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.blur("page",1e4))},null,544),[[V,("AppStore"in o?o.AppStore:n(e))().newContentData.page.name]])])):C("",!0),a("div",ya,[a("label",{class:"btn-link button-style bg-warning text-light p-1 px-3",for:"labelAddPage",onClick:p[7]||(p[7]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.submit("page"))}," tambah halaman ")])])]),("AppStore"in o?o.AppStore:n(e))().activeContent.data.name==="pembelajaran"&&("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent?(i(),c("div",wa,[a("div",ka,[a("div",Da,[a("label",{class:"btn-link button-style bg-secondary p-1 px-3",for:"labelAddPage",onClick:p[8]||(p[8]=t=>("AppStore"in o?o.AppStore:n(e))().modal.evaluasi=!0)}," evaluasi ")])])])):C("",!0)])]),("AppStore"in o?o.AppStore:n(e))().modal.evaluasi?(i(),_(u,{key:0})):C("",!0)])}}});const ja=$(Oa,[["__scopeId","data-v-018fbf35"]]),Ia={class:"content p-3"},Ta={key:0,class:"d-flex flex-column gap-3"},Ea={class:"py-2 border-bottom border-secondary"},Ma={class:"row align-items-center"},Pa={class:"col-auto"},Na={class:"h2 text-capitalize fw-bolder"},Ba={class:"col-auto"},Ua=["disabled"],La={key:6},qa={key:1},za=w({__name:"ManageContent",setup(l){const m=I(),o=B(!1),p=()=>{if(o.value=!1,e().activeContent.data={name:"",collection:null},e().activeContent.data={...e().activeContent.data,...e().appData.menu.find(t=>t.name===k(String(m.params.selectedContent)))},e().appCacheData[`${e().activeContent.data.name}`])setTimeout(()=>{o.value=!0},1e3);else{const t=B(0);e().appData.menu.forEach(s=>{N.getContentDoc(s.collection,s.name).then(r=>{t.value++,e().appCacheData[`${r.name}`]={...r,foundAt:E().value,updatedAt:0,updating:!1,lastSelectedSubContent:r.subContent.length>0?r.subContent[0].id:0},t.value===e().appData.menu.length&&setTimeout(()=>{o.value=!0},1e3)})})}};p(),L().afterEach(async t=>{p()});const u=()=>{e().appCacheData[`${e().activeContent.data.name}`].updating=!0;const t={name:e().appCacheData[`${e().activeContent.data.name}`].name,subContent:e().appCacheData[`${e().activeContent.data.name}`].subContent};e().activeContent.data.name==="pembelajaran"&&(t.evaluation=e().appCacheData[`${e().activeContent.data.name}`].evaluation),e().activeContent.data.name==="evaluasi akhir"&&(t.data=e().appCacheData[`${e().activeContent.data.name}`].data),N.updateContentDoc(e().activeContent.data.collection,e().activeContent.data.name,t).then(s=>{s.status?(alert("perubahan disimpan"),e().appCacheData[`${e().activeContent.data.name}`].updatedAt=Number(E().value),e().appCacheData[`${e().activeContent.data.name}`].foundAt=e().appCacheData[`${e().activeContent.data.name}`].updatedAt,e().appCacheData[`${e().activeContent.data.name}`].updating=!1):(e().appCacheData[`${e().activeContent.data.name}`].updating=!1,alert("perubahan gagal disimpan"))}).catch(()=>{e().appCacheData[`${e().activeContent.data.name}`].updating=!1,alert("perubahan gagal disimpan")})};return(t,s)=>{const r=G,d=ja,h=qt,v=Bt,b=ut,g=Pe,j=be;return i(),c("main",Ia,[n(o)?(i(),c("div",Ta,[a("div",Ea,[a("div",Ma,[a("div",Pa,[a("h1",Na,S(("urlToStringConverter"in t?t.urlToStringConverter:n(k))(String(("useRoute"in t?t.useRoute:n(I))().params.selectedContent))),1)]),a("div",Ba,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]?(i(),c("button",{key:0,class:M(["update-button button-style small",("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt!==0&&("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].foundAt!==("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt?"bg-success":"bg-secondary"]),style:{height:"fit-content"},disabled:!(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt!==0&&("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].foundAt!==("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt),onClick:s[0]||(s[0]=Ha=>u())},[W(" simpan perubahan "),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updating?(i(),_(r,{key:0,class:"d-inline"})):C("",!0)],10,Ua)):C("",!0)])])]),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&!["overview","siswa","evaluasi akhir"].includes(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)&&Object.keys(n(m).query).length<=0?(i(),_(d,{key:0})):C("",!0),("urlToStringConverter"in t?t.urlToStringConverter:n(k))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="overview"?(i(),_(h,{key:1,class:"bg-light rounded-5 shadow p-3"})):("urlToStringConverter"in t?t.urlToStringConverter:n(k))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="siswa"?(i(),_(v,{key:2,class:"bg-light rounded-5 shadow p-3"})):("urlToStringConverter"in t?t.urlToStringConverter:n(k))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="evaluasi akhir"?(i(),_(b,{key:3,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in t?t.AppStore:n(e))().activeContent.data.collection==="application content"?(i(),_(g,{key:4,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in t?t.AppStore:n(e))().activeContent.data.collection==="learning materials"?(i(),_(j,{key:5,class:"bg-light rounded-5 shadow p-3"})):(i(),c("div",La,[T(r,{class:"fw-bolder h2"})]))])):(i(),c("div",qa,[T(r,{class:"fw-bolder h2"})]))])}}});const Ga=$(za,[["__scopeId","data-v-e007e3cc"]]);export{Ga as default};
//# sourceMappingURL=ManageContent-1160df58.js.map
