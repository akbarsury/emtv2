import{_ as $}from"./EMTTitle-f148de44.js";import{r as S,x as A,y as I,f as s,z as k,d as P,u as j,a as T,B as D,C as z,o as m,c as d,e as u,j as B,D as w,U as V,F as M,E as U,b as i,h as H,A as L,G as R,H as N,_ as q}from"./main-ea7617f2.js";import{s as E}from"./Url-6980f45c.js";const F=""+new URL("menu-300ad084.mp3",import.meta.url).href;function G(b,{volume:r=1,playbackRate:c=1,soundEnabled:y=!0,interrupt:g=!1,autoplay:h=!1,onload:_,...v}={}){const p=S(null),a=S(!1),f=S(null),e=S(null);function t(){var n;typeof _=="function"&&_.call(this),f.value=(f.value||((n=e.value)==null?void 0:n.duration())||0)*1e3,h===!0&&(a.value=!0)}return A(async()=>{const n=await I(()=>import("./howler-a032ee5e.js").then(O=>O.h),["./howler-a032ee5e.js","./main-ea7617f2.js","./index-45fcf2e5.css"],import.meta.url);p.value=n.default.Howl,e.value=new p.value({src:s(b),volume:s(r),rate:s(c),onload:t,...v})}),k(()=>[b],()=>{p.value&&p.value&&e&&e.value&&(e.value=new p.value({src:s(b),volume:s(r),rate:s(c),onload:t,...v}))}),k(()=>[s(r),s(c)],()=>{e.value&&(e.value.volume(s(r)),e.value.rate(s(c)))}),{play:n=>{typeof n>"u"&&(n={}),!(!e.value||!y&&!n.forceSoundEnabled)&&(g&&e.value.stop(),n.playbackRate&&e.value.rate(n.playbackRate),e.value.play(n.id),e.value.once("end",()=>{e.value&&e.value&&!e.value.playing()&&(a.value=!1)}),a.value=!0)},sound:e,isPlaying:a,duration:f,pause:n=>{e.value&&(e.value.pause(typeof n=="number"?n:void 0),a.value=!1)},stop:n=>{e.value&&(e.value.stop(typeof n=="number"?n:void 0),a.value=!1)}}}const J={class:"content d-flex flex-column my-4 gap-2"},K={class:"animate__animated animate__zoomInUp d-flex justify-content-center"},Q={class:"text-capitalize text-light bg-warning rounded-pill p-2 px-4"},W={class:"menu animate__animated animate__fadeInUpBig d-flex flex-column justify-content-center shadow rounded-9 p-4"},X={class:"animate__animated animate__zoomIn"},Y={class:"menu-header"},Z={class:"h5 title-style text-uppercase fw-bolder text-center mb-3"},ee={key:0,class:"menu-link-wrapper animate__animated animate__zoomIn d-flex flex-column gap-3 mb-3"},te=["onClick"],ne={key:1,class:"submenu-link-wrapper animate__animated animate__zoomIn d-flex flex-column gap-3 mb-3"},ae=["onClick"],se=P({__name:"Menu",setup(b){const r=j(),c=T(),y=()=>{i().appCacheData[`${i().activeContent.data.name}`]||i().appData.menu.slice(2).forEach(t=>{L.getContentDoc(t.collection,t.name).then(o=>{i().appCacheData[`${o.name}`]={...o,foundAt:R().value,updatedAt:0,updating:!1,lastSelectedSubContent:o.subContent.length>0?o.subContent[0].id:0}})})};y(),j().afterEach(()=>{y()});const{play:g,stop:h,isPlaying:_}=G(F),v=D({isPlayingMenuSound:_,userConfigPlayingMenuSound:!1});setTimeout(()=>{_&&g()},1e3),k(_,t=>{c.name==="menu"&&v.userConfigPlayingMenuSound?t!==v.userConfigPlayingMenuSound&&c.name==="menu"&&g():(N(()=>{}),h())}),z(t=>{t.name!=="menu"&&h()});const p=()=>{},a=D({judul:["main menu"],subContent:!1}),f=t=>{if(a.subContent)r.push({name:"play",params:{playingContent:E(String(a.selectedMenu))},query:{sub:t,page:1}});else{const o=Object.entries(i().appCacheData[`${t}`].subContent);Object.keys(i().appCacheData[`${t}`].subContent).length>1?(a.subMenu=Object.entries(i().appCacheData[`${t}`].subContent),a.subContent=!0,a.selectedMenu=t):r.push({name:"play",params:{playingContent:E(String(t))},query:{sub:o[0][0],page:1}})}},e=()=>{a.subContent=!1};return(t,o)=>{const x=$;return m(),d("div",null,[u("div",J,[B(x,{class:"animate__animated animate__zoomInUp"}),u("div",K,[u("span",Q," Hello, "+w(("UserStore"in t?t.UserStore:s(V))().user.appData.name),1)]),u("div",W,[u("div",X,[u("div",Y,[u("h1",Z,w(s(a).judul.slice(s(a).judul.length-1)[0]),1)]),u("div",null,[s(a).subContent?(m(),d("div",ne,[H(" submenu "),(m(!0),d(M,null,U(s(a).subMenu,(l,C)=>(m(),d("button",{key:C,onClick:n=>f(Object(l)[0]),class:"input-style bg-primary text-white"},w(Object(l)[1].name),9,ae))),128)),u("button",{class:"input-style bg-warning text-white",onClick:o[1]||(o[1]=l=>e())}," kembali ke menu utama ")])):(m(),d("div",ee,[(m(!0),d(M,null,U(("AppStore"in t?t.AppStore:s(i))().appData.menu.slice(2),(l,C)=>(m(),d("button",{key:C,onClick:n=>f(Object(l).name),class:"input-style bg-primary text-white"},w(Object(l).name),9,te))),128)),u("button",{class:"input-style bg-danger text-white",onClick:o[0]||(o[0]=l=>p())}," keluar ")]))])])])])])}}});const ie=q(se,[["__scopeId","data-v-5db85c79"]]);export{ie as default};
//# sourceMappingURL=Menu-4acdcefe.js.map
