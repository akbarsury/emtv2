import{d as f,u as T,a as D,l as L,o as p,c as i,e as n,b as e,f as a,F as g,C as $,t as b,g as m,s as A,p as O,i as j,_ as y,h as R,n as P,D as k,A as I,j as N,z as F,w as M,I as H,v as V,r as z}from"./main-b98c06bb.js";import{u as w}from"./Url-4d04c3c7.js";const E=h=>(O("data-v-4d5444b4"),h=h(),j(),h),Q={class:"d-flex"},U={key:0,class:"col-12 table-wrapper"},Y={key:0,class:"container-fluid"},J={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},K=E(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),W={class:"text-center",scope:"row"},X={class:"container"},Z={class:"row align-items-center gap-3"},x=["onClick"],ee=["onClick"],te={key:0},ae=E(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),ne=[ae],oe={key:1,class:"container-fluid"},se=E(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),pe=[se],ie=f({__name:"ManageLearningMaterials",setup(h){const r=T(),s=D(),d=t=>{t.type==="delta"&&r.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},S=(t,o)=>{confirm(`Yakin menghapus halaman ${o}?`)&&(e().deletePage(t),e().updatePageContent())};return(t,o)=>{const l=L("router-view");return p(),i("div",Q,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(s).query).length<=0?(p(),i("div",U,[Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(p(),i("div",Y,[a("table",J,[K,a("tbody",null,[(p(!0),i(g,null,$(Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page,(c,u)=>(p(),i("tr",{class:"text-lowercase text-nowrap",key:u},[a("th",W,b(Number(u)+1),1),a("td",null,b(Object(Object.entries(Object(c))[0][1]).name),1),a("td",null,[a("div",X,[a("div",Z,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:v=>d({pageNumber:Number(u)+1,id:Object.entries(Object(c))[0][0],...Object(Object.entries(Object(c))[0][1])})}," edit halaman ",8,x),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:v=>S(Number(u),Object(Object.entries(Object(c))[0][1]).name)}," hapus ",8,ee)])])])]))),128)),Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page.length<=0?(p(),i("tr",te,ne)):m("",!0)])])])):(p(),i("div",oe,pe))])):(p(),A(l,{key:1}))])}}});const le=y(ie,[["__scopeId","data-v-4d5444b4"]]),q=h=>(O("data-v-984d0aed"),h=h(),j(),h),de={class:"d-flex"},re={key:0,class:"col-12 table-wrapper"},ce={key:0,class:"container-fluid"},ue={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},he=q(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),be={class:"text-center",scope:"row"},Se={class:"container"},ve={class:"row align-items-center gap-3"},me=["onClick"],Ce=["onClick"],Ae={key:0},ge=q(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),$e=[ge],_e={key:1,class:"container-fluid"},fe=q(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),ye=[fe],we=f({__name:"ManageApplicationContent",setup(h){const r=T(),s=D(),d=t=>{t.type==="delta"&&r.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},S=(t,o)=>{confirm(`Yakin menghapus halaman ${o}?`)&&e().deletePage(t)};return(t,o)=>{const l=L("router-view");return p(),i("div",de,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(s).query).length<=0?(p(),i("div",re,[Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(p(),i("div",ce,[a("table",ue,[he,a("tbody",null,[(p(!0),i(g,null,$(Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page,(c,u)=>(p(),i("tr",{class:"text-lowercase text-nowrap",key:u},[a("th",be,b(Number(u)+1),1),a("td",null,b(Object(Object.entries(Object(c))[0][1]).name),1),a("td",null,[a("div",Se,[a("div",ve,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:v=>d({pageNumber:Number(u)+1,id:Object.entries(Object(c))[0][0],...Object(Object.entries(Object(c))[0][1])})}," edit halaman ",8,me),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:v=>S(Number(u),Object(Object.entries(Object(c))[0][1]).name)}," hapus ",8,Ce)])])])]))),128)),Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page.length<=0?(p(),i("tr",Ae,$e)):m("",!0)])])])):(p(),i("div",_e,ye))])):(p(),A(l,{key:1}))])}}});const De=y(we,[["__scopeId","data-v-984d0aed"]]),ke={key:0,class:"d-flex flex-column gap-3 p-1",style:{overflow:"auto"}},Oe={key:0},je={class:"d-flex flex-column gap-3"},Pe={class:"fw-bolder"},Me=["value","onInput"],Ie={class:"px-4 d-flex flex-column gap-1"},Ne={class:"col-auto"},Te=["onClick"],Ee={class:"col"},qe=["value","onInput"],Be={class:"col-auto",style:{width:"fit-content"}},Ve=["onClick"],ze={key:1},Le=a("div",{class:"p-3 bg-warning text-center border border-2 border-dark rounded"}," tidak ada instrumen evaluasi ",-1),Re=[Le],Fe=f({__name:"ManageFinalEvaluation",setup(h){const r=()=>{e().appCacheData[`${e().activeContent.data.name}`].data.push({id:k().value,question:"pertanyaan ?",answerOption:{a:"option a",b:"option b",c:"option c",d:"option d"},trueAnswer:"a"}),e().updatePageContent()},s=(o,l)=>{e().appCacheData[`${e().activeContent.data.name}`].data[o].question=l,e().updatePageContent()},d=(o,l)=>{e().appCacheData[`${e().activeContent.data.name}`].data[o].trueAnswer=l,e().updatePageContent()},S=(o,l,c)=>{e().appCacheData[`${e().activeContent.data.name}`].data[o].answerOption[`${l}`]=c,e().updatePageContent()},t=o=>{o>-1&&(e().appCacheData[`${e().activeContent.data.name}`].data.splice(o,1),e().updatePageContent())};return(o,l)=>(p(),i("div",null,[R(b(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].data)+" ",1),("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].data?(p(),i("div",ke,[("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].data.length>0?(p(),i("div",Oe,[(p(!0),i(g,null,$(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].data,(c,u)=>(p(),i("div",{key:Number(u)},[a("div",je,[a("div",Pe,[a("span",null,b(String(u+1))+". ",1),a("input",{type:"text",value:String(Object(c).question),onInput:v=>s(u,Object(v).target.value)},null,40,Me)]),a("div",Ie,[(p(!0),i(g,null,$(Object(c).answerOption,(v,C)=>(p(),i("div",{class:"d-flex gap-1",key:C},[a("div",Ne,[a("span",{class:P(["d-inline-block rounded px-2",String(Object(c).trueAnswer)===String(C)?"bg-success text-light":""]),style:{width:"2rem",cursor:"pointer"},onClick:_=>d(u,String(C))},b(C)+". ",11,Te)]),a("div",Ee,[a("input",{type:"text",value:v,onInput:_=>S(u,String(C),Object(_).target.value)},null,40,qe)])]))),128))]),a("div",Be,[a("button",{class:"button-style bg-danger small p-1 px-2",onClick:v=>t(u)}," hapus pertanyaan ",8,Ve)])])]))),128))])):(p(),i("div",ze,Re)),a("div",null,[a("button",{class:"add-evaluation button-style bg-primary text-light",style:{height:"auto"},onClick:l[0]||(l[0]=c=>r())}," tambah evaluasi ")])])):m("",!0)]))}}),B=h=>(O("data-v-5cc7dfdd"),h=h(),j(),h),Ge={class:"d-flex"},He={class:"col-12 table-wrapper"},Qe={class:"student-table table table-bordered table-hover table-sm border-secondary rounded-5"},Ue=B(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"Nomor"),a("th",{class:"fw-bolder",scope:"col"},"email"),a("th",{class:"fw-bolder",scope:"col"},"nama"),a("th",{class:"fw-bolder",scope:"col"},"kelas"),a("th",{class:"fw-bolder",scope:"col"},"no. Absen"),a("th",{class:"fw-bolder",scope:"col"},"status")])],-1)),Ye={key:0},Je={class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"},Ke={class:"d-flex justify-content-center align-items-center"},We=B(()=>a("div",{class:"col-auto"},"Mengambil data siswa",-1)),Xe={class:"col-auto"},Ze={key:1},xe={class:"text-center",scope:"row"},et={class:"w-100"},tt={class:"w-100"},at={class:"container"},nt={class:"d-flex align-items-center gap-3"},ot={key:0,class:"col-auto button-style small bg-success text-light",style:{width:"fit-content"}},st={key:1,class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"}},pt={key:0},it=B(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"6"},[a("div",{class:"container"},[a("div",{class:"d-flex"},[a("div",{class:"col"}," Tidak ada data siswa ")])])],-1)),lt=[it],dt=f({__name:"ManageStudent",setup(h){return e().allStudent.lastGettingData===0&&e().appData.appRef&&I.getAllStudentData(),(r,s)=>{const d=F;return p(),i("div",Ge,[a("div",He,[a("table",Qe,[Ue,("AppStore"in r?r.AppStore:n(e))().allStudent.isGettingData?(p(),i("tbody",Ye,[a("tr",null,[a("td",Je,[a("div",Ke,[We,a("div",Xe,[N(d)])])])])])):m("",!0),!("AppStore"in r?r.AppStore:n(e))().allStudent.isGettingData&&("AppStore"in r?r.AppStore:n(e))().allStudent.data.length!==0?(p(),i("tbody",Ze,[(p(!0),i(g,null,$(("AppStore"in r?r.AppStore:n(e))().allStudent.data,(S,t)=>(p(),i("tr",{class:"text-lowercase text-nowrap",key:t},[a("th",xe,b(Number(t)+1),1),a("td",null,b(Object(S).email),1),a("td",et,b(Object(S).appData.name),1),a("td",tt,b(Object(S).appData.class),1),a("td",null,b(Object(S).appData.ruleNumber),1),a("td",null,[a("div",at,[a("div",nt,[a("span",{class:P(["col-auto fw-bolder p-0",Object(S).status==="nonactive"?"text-danger":"text-success"])},b(Object(S).status),3),Object(S).status==="nonactive"?(p(),i("button",ot," aktivasi sekarang ")):(p(),i("button",st," hapus "))])])])]))),128)),!("AppStore"in r?r.AppStore:n(e))().allStudent.isGettingData&&("AppStore"in r?r.AppStore:n(e))().allStudent.data.length===0?(p(),i("tr",pt,lt)):m("",!0)])):m("",!0)])])])}}});const rt=y(dt,[["__scopeId","data-v-5cc7dfdd"]]),ct={};function ut(h,r){return p(),i("div",null,"overview")}const ht=y(ct,[["render",ut]]),bt=h=>(O("data-v-e6c9b896"),h=h(),j(),h),St={class:"evaluation-modal p-5"},vt={class:"container h-100"},mt={class:"position-relative d-flex flex-column gap-3 rounded-9 h-100 bg-light shadow p-5"},Ct=bt(()=>a("i",{class:"fa-solid fa-xmark fa-3x text-danger"},null,-1)),At=[Ct],gt={class:"col-auto"},$t={class:"text-uppercase fw-bolder border-bottom border-secondary"},_t={class:"d-flex flex-column gap-3 p-1",style:{overflow:"auto"}},ft={class:"d-flex flex-column gap-3"},yt={class:"fw-bolder"},wt=["value","onInput"],Dt={class:"px-4 d-flex flex-column gap-1"},kt={class:"col-auto"},Ot=["onClick"],jt={class:"col"},Pt=["value","onInput"],Mt={class:"col-auto",style:{width:"fit-content"}},It=["onClick"],Nt=f({__name:"modalEvaluation",setup(h){const r=()=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].push({id:k().value,question:"pertanyaan ?",answerOption:{a:"option a",b:"option b",c:"option c",d:"option d"},trueAnswer:"a"}),e().updatePageContent()},s=(o,l)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][o].question=l,e().updatePageContent()},d=(o,l)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][o].trueAnswer=l,e().updatePageContent()},S=(o,l,c)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][o].answerOption[`${l}`]=c,e().updatePageContent()},t=o=>{o>-1&&(e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].splice(o,1),e().updatePageContent())};return(o,l)=>(p(),i("div",St,[a("div",vt,[a("div",mt,[a("div",{class:"close",onClick:l[0]||(l[0]=c=>("AppStore"in o?o.AppStore:n(e))().modal.evaluasi=!1)},At),a("div",gt,[a("h3",$t," Evaluasi "+b(Object(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].name),1)]),a("div",_t,[(p(!0),i(g,null,$(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].evaluation[`${("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`],(c,u)=>(p(),i("div",{key:Number(u)},[a("div",ft,[a("div",yt,[a("span",null,b(String(u+1))+". ",1),a("input",{type:"text",value:String(Object(c).question),onInput:v=>s(u,Object(v).target.value)},null,40,wt)]),a("div",Dt,[(p(!0),i(g,null,$(Object(c).answerOption,(v,C)=>(p(),i("div",{class:"d-flex gap-1",key:C},[a("div",kt,[a("span",{class:P(["d-inline-block rounded px-2",String(Object(c).trueAnswer)===String(C)?"bg-success text-light":""]),style:{width:"2rem",cursor:"pointer"},onClick:_=>d(u,C)},b(C)+". ",11,Ot)]),a("div",jt,[a("input",{type:"text",value:v,onInput:_=>S(u,C,Object(_).target.value)},null,40,Pt)])]))),128))]),a("div",Mt,[a("button",{class:"button-style bg-danger small p-1 px-2",onClick:v=>t(u)}," hapus pertanyaan ",8,It)])])]))),128))]),a("div",{class:"add-evaluation button-style bg-primary text-light",style:{height:"auto"},onClick:l[1]||(l[1]=c=>r())}," tambah evaluasi ")])])]))}});const Tt=y(Nt,[["__scopeId","data-v-e6c9b896"]]),Et={class:"content-header"},qt={class:"container-fluid"},Bt={class:"row align-items-end gap-3"},Vt={class:"col-auto"},zt={class:"small px-2"},Lt=["value"],Rt={key:0,value:"",selected:"",disabled:""},Ft={class:"col-auto"},Gt={class:"row gap-3"},Ht={key:0,class:"col-auto"},Qt={class:"col-auto"},Ut={class:"col-auto"},Yt={class:"row gap-3"},Jt={class:"col-auto"},Kt={class:"col-auto"},Wt={class:"row gap-3"},Xt={key:0,class:"col-auto"},Zt={class:"col-auto"},xt={key:0,class:"col-auto"},ea={class:"row gap-3"},ta={class:"col-auto"},aa=f({__name:"contentHeader",setup(h){const r=()=>{e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent&&confirm(`yakin akan menghapus sub konten ${Object(e().appCacheData[`${e().activeContent.data.name}`].subContent)[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].name}`)&&e().deleteSubContent(String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent))};return e().modal.evaluasi=!1,(s,d)=>{const S=Tt;return p(),i("div",Et,[a("div",qt,[a("div",Bt,[a("div",Vt,[a("span",zt,"sub konten "+b(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent),1),a("div",null,[M(a("select",{id:"selcet-sub-content",class:"input-style","onUpdate:modelValue":d[0]||(d[0]=t=>("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent=t)},[(p(!0),i(g,null,$(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].subContent,(t,o)=>(p(),i("option",{key:o,value:o},b(Object(t).name),9,Lt))),128)),Object(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].subContent).length===0?(p(),i("option",Rt," tidak ada sub-konten "+b(("AppStore"in s?s.AppStore:n(e))().activeContent.data.name),1)):m("",!0)],512),[[H,("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent]])])]),a("div",Ft,[a("div",Gt,[("AppStore"in s?s.AppStore:n(e))().newContentData["sub content"].focus?(p(),i("div",Ht,[M(a("input",{type:"text",class:"input-style",id:"labelAddPage","onUpdate:modelValue":d[1]||(d[1]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData["sub content"].name=t),onBlur:d[2]||(d[2]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData.blur("sub content",1e4))},null,544),[[V,("AppStore"in s?s.AppStore:n(e))().newContentData["sub content"].name]])])):m("",!0),a("div",Qt,[a("label",{class:"btn-link button-style bg-primary text-light p-1 px-3",for:"labelAddPage",onClick:d[3]||(d[3]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData.submit("sub content"))}," tambah sub konten ")])])]),a("div",Ut,[a("div",Yt,[a("div",Jt,[a("label",{class:"btn-link button-style bg-danger text-light p-1 px-3",for:"labelAddPage",onClick:d[4]||(d[4]=t=>r())}," hapus sub konten ")])])]),a("div",Kt,[a("div",Wt,[("AppStore"in s?s.AppStore:n(e))().newContentData.page.focus?(p(),i("div",Xt,[M(a("input",{type:"text",class:"input-style",id:"labelAddPage","onUpdate:modelValue":d[5]||(d[5]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData.page.name=t),onBlur:d[6]||(d[6]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData.blur("page",1e4))},null,544),[[V,("AppStore"in s?s.AppStore:n(e))().newContentData.page.name]])])):m("",!0),a("div",Zt,[a("label",{class:"btn-link button-style bg-warning text-light p-1 px-3",for:"labelAddPage",onClick:d[7]||(d[7]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData.submit("page"))}," tambah halaman ")])])]),("AppStore"in s?s.AppStore:n(e))().activeContent.data.name==="pembelajaran"&&("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent?(p(),i("div",xt,[a("div",ea,[a("div",ta,[a("label",{class:"btn-link button-style bg-secondary p-1 px-3",for:"labelAddPage",onClick:d[8]||(d[8]=t=>("AppStore"in s?s.AppStore:n(e))().modal.evaluasi=!0)}," evaluasi ")])])])):m("",!0)])]),("AppStore"in s?s.AppStore:n(e))().modal.evaluasi?(p(),A(S,{key:0})):m("",!0)])}}}),na={class:"content p-3"},oa={key:0,class:"d-flex flex-column gap-3"},sa={class:"py-2 border-bottom border-secondary"},pa={class:"row align-items-center"},ia={class:"col-auto"},la={class:"h2 text-capitalize fw-bolder"},da={class:"col-auto"},ra=["disabled"],ca={key:6},ua={key:1},ha=f({__name:"ManageContent",setup(h){const r=D(),s=z(!1),d=()=>{if(s.value=!1,e().activeContent.data={name:"",collection:null},e().activeContent.data={...e().activeContent.data,...e().appData.menu.find(t=>t.name===w(String(r.params.selectedContent)))},["users","null"].includes(String(e().activeContent.data.collection)))setTimeout(()=>{s.value=!0},1e3);else if(e().appCacheData[`${e().activeContent.data.name}`])setTimeout(()=>{s.value=!0},1e3);else{const t=z(0);e().appData.menu.forEach(o=>{I.getContentDoc(o.collection,o.name).then(l=>{t.value++,e().appCacheData[`${l.name}`]={...l,foundAt:k().value,updatedAt:0,updating:!1,lastSelectedSubContent:l.subContent.length>0?l.subContent[0].id:0},t.value===e().appData.menu.length&&setTimeout(()=>{s.value=!0},1e3)})})}};d(),T().afterEach(async t=>{d()});const S=()=>{e().appCacheData[`${e().activeContent.data.name}`].updating=!0;const t={name:e().appCacheData[`${e().activeContent.data.name}`].name,subContent:e().appCacheData[`${e().activeContent.data.name}`].subContent};e().activeContent.data.name==="pembelajaran"&&(t.evaluation=e().appCacheData[`${e().activeContent.data.name}`].evaluation),e().activeContent.data.name==="evaluasi akhir"&&(t.data=e().appCacheData[`${e().activeContent.data.name}`].data),I.updateContentDoc(e().activeContent.data.collection,e().activeContent.data.name,t).then(o=>{o.status?(alert("perubahan disimpan"),e().appCacheData[`${e().activeContent.data.name}`].updatedAt=Number(k().value),e().appCacheData[`${e().activeContent.data.name}`].foundAt=e().appCacheData[`${e().activeContent.data.name}`].updatedAt,e().appCacheData[`${e().activeContent.data.name}`].updating=!1):(e().appCacheData[`${e().activeContent.data.name}`].updating=!1,alert("perubahan gagal disimpan"))}).catch(()=>{e().appCacheData[`${e().activeContent.data.name}`].updating=!1,alert("perubahan gagal disimpan")})};return(t,o)=>{const l=F,c=aa,u=ht,v=rt,C=Fe,_=De,G=le;return p(),i("main",na,[n(s)?(p(),i("div",oa,[a("div",sa,[a("div",pa,[a("div",ia,[a("h1",la,b(("urlToStringConverter"in t?t.urlToStringConverter:n(w))(String(("useRoute"in t?t.useRoute:n(D))().params.selectedContent))),1)]),a("div",da,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]?(p(),i("button",{key:0,class:P(["update-button button-style small",("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt!==0&&("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].foundAt!==("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt?"bg-success":"bg-secondary"]),style:{height:"fit-content"},disabled:!(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt!==0&&("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].foundAt!==("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt),onClick:o[0]||(o[0]=ba=>S())},[R(" simpan perubahan "),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updating?(p(),A(l,{key:0,class:"d-inline"})):m("",!0)],10,ra)):m("",!0)])])]),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&!["overview","siswa","evaluasi akhir"].includes(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)&&Object.keys(n(r).query).length<=0?(p(),A(c,{key:0})):m("",!0),("urlToStringConverter"in t?t.urlToStringConverter:n(w))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="overview"?(p(),A(u,{key:1,class:"bg-light rounded-5 shadow p-3"})):("urlToStringConverter"in t?t.urlToStringConverter:n(w))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="siswa"?(p(),A(v,{key:2,class:"bg-light rounded-5 shadow p-3"})):("urlToStringConverter"in t?t.urlToStringConverter:n(w))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="evaluasi akhir"?(p(),A(C,{key:3,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in t?t.AppStore:n(e))().activeContent.data.collection==="application content"?(p(),A(_,{key:4,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in t?t.AppStore:n(e))().activeContent.data.collection==="learning materials"?(p(),A(G,{key:5,class:"bg-light rounded-5 shadow p-3"})):(p(),i("div",ca,[N(l,{class:"fw-bolder h2"})]))])):(p(),i("div",ua,[N(l,{class:"fw-bolder h2"})]))])}}});const ma=y(ha,[["__scopeId","data-v-fb9bfb62"]]);export{ma as default};
//# sourceMappingURL=ManageContent-10af012e.js.map
