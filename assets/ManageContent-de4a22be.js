import{d as w,u as U,a as I,l as F,o as i,c as d,e as n,b as e,f as a,F as f,C as y,t as S,g as C,s as _,p as D,i as O,_ as $,B as Z,I as J,j as T,n as P,D as M,A as E,z as G,w as N,J as K,v as R,r as V,h as W}from"./main-45491ca8.js";import{A as X}from"./AppStorage-2e7874d4.js";import{u as k}from"./Url-4d04c3c7.js";const L=l=>(D("data-v-4d5444b4"),l=l(),O(),l),x={class:"d-flex"},ee={key:0,class:"col-12 table-wrapper"},te={key:0,class:"container-fluid"},ae={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},ne=L(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),oe={class:"text-center",scope:"row"},se={class:"container"},pe={class:"row align-items-center gap-3"},ie=["onClick"],le=["onClick"],re={key:0},de=L(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),ce=[de],ue={key:1,class:"container-fluid"},me=L(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),he=[me],ve=w({__name:"ManageLearningMaterials",setup(l){const c=U(),o=I(),p=t=>{t.type==="delta"&&c.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},u=(t,s)=>{confirm(`Yakin menghapus halaman ${s}?`)&&(e().deletePage(t),e().updatePageContent())};return(t,s)=>{const r=F("router-view");return i(),d("div",x,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(o).query).length<=0?(i(),d("div",ee,[Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(i(),d("div",te,[a("table",ae,[ne,a("tbody",null,[(i(!0),d(f,null,y(Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page,(m,h)=>(i(),d("tr",{class:"text-lowercase text-nowrap",key:h},[a("th",oe,S(Number(h)+1),1),a("td",null,S(Object(Object.entries(Object(m))[0][1]).name),1),a("td",null,[a("div",se,[a("div",pe,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:v=>p({pageNumber:Number(h)+1,id:Object.entries(Object(m))[0][0],...Object(Object.entries(Object(m))[0][1])})}," edit halaman ",8,ie),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:v=>u(Number(h),Object(Object.entries(Object(m))[0][1]).name)}," hapus ",8,le)])])])]))),128)),Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page.length<=0?(i(),d("tr",re,ce)):C("",!0)])])])):(i(),d("div",ue,he))])):(i(),_(r,{key:1}))])}}});const be=$(ve,[["__scopeId","data-v-4d5444b4"]]),q=l=>(D("data-v-984d0aed"),l=l(),O(),l),Se={class:"d-flex"},ge={key:0,class:"col-12 table-wrapper"},Ce={key:0,class:"container-fluid"},Ae={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},_e=q(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),$e={class:"text-center",scope:"row"},fe={class:"container"},ye={class:"row align-items-center gap-3"},we=["onClick"],ke=["onClick"],De={key:0},Oe=q(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),je=[Oe],Ie={key:1,class:"container-fluid"},Te=q(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),Me=[Te],Pe=w({__name:"ManageApplicationContent",setup(l){const c=U(),o=I(),p=t=>{t.type==="delta"&&c.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},u=(t,s)=>{confirm(`Yakin menghapus halaman ${s}?`)&&e().deletePage(t)};return(t,s)=>{const r=F("router-view");return i(),d("div",Se,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(o).query).length<=0?(i(),d("div",ge,[Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(i(),d("div",Ce,[a("table",Ae,[_e,a("tbody",null,[(i(!0),d(f,null,y(Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page,(m,h)=>(i(),d("tr",{class:"text-lowercase text-nowrap",key:h},[a("th",$e,S(Number(h)+1),1),a("td",null,S(Object(Object.entries(Object(m))[0][1]).name),1),a("td",null,[a("div",fe,[a("div",ye,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:v=>p({pageNumber:Number(h)+1,id:Object.entries(Object(m))[0][0],...Object(Object.entries(Object(m))[0][1])})}," edit halaman ",8,we),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:v=>u(Number(h),Object(Object.entries(Object(m))[0][1]).name)}," hapus ",8,ke)])])])]))),128)),Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page.length<=0?(i(),d("tr",De,je)):C("",!0)])])])):(i(),d("div",Ie,Me))])):(i(),_(r,{key:1}))])}}});const Ne=$(Pe,[["__scopeId","data-v-984d0aed"]]);var B={exports:{}};(function(l,c){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};(function(p){var u=function(){for(var t=arguments.length,s=Array(t),r=0;r<t;r++)s[r]=arguments[r];var m=document.createElement("input");return o(s[0])==="object"&&(s[0].multiple===!0&&m.setAttribute("multiple",""),s[0].accept!==void 0&&m.setAttribute("accept",s[0].accept)),m.setAttribute("type","file"),m.style.display="none",m.setAttribute("id","hidden-file"),document.body.appendChild(m),new Promise(function(h){m.addEventListener("change",function(){h(m.files);var b=s[s.length-1];typeof b=="function"&&b(m.files),document.body.removeChild(m)});var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),m.dispatchEvent(v)})};l.exports&&(c=l.exports=u),c.fileDialog=u})()})(B,B.exports);var Ee=B.exports;const z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Y=l=>{const c=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let o=0;o<z.length;o++)c[l.charCodeAt(o)]=o;return c},Be=Y(z),Ue=Y(Q),A={};A.toArrayBuffer=(l,c)=>{const o=l.length;let p=l.length*.75,u,t=0,s,r,m,h;l[l.length-1]==="="&&(p--,l[l.length-2]==="="&&p--);const v=new ArrayBuffer(p),b=new Uint8Array(v),g=c?Ue:Be;for(u=0;u<o;u+=4)s=g[l.charCodeAt(u)],r=g[l.charCodeAt(u+1)],m=g[l.charCodeAt(u+2)],h=g[l.charCodeAt(u+3)],b[t++]=s<<2|r>>4,b[t++]=(r&15)<<4|m>>2,b[t++]=(m&3)<<6|h&63;return v};A.fromArrayBuffer=(l,c)=>{const o=new Uint8Array(l);let p,u="";const t=o.length,s=c?Q:z;for(p=0;p<t;p+=3)u+=s[o[p]>>2],u+=s[(o[p]&3)<<4|o[p+1]>>4],u+=s[(o[p+1]&15)<<2|o[p+2]>>6],u+=s[o[p+2]&63];return t%3===2?u=u.substring(0,u.length-1)+(c?"":"="):t%3===1&&(u=u.substring(0,u.length-2)+(c?"":"==")),u};A.toString=(l,c)=>new TextDecoder().decode(A.toArrayBuffer(l,c));A.fromString=(l,c)=>A.fromArrayBuffer(new TextEncoder().encode(l),c);A.validate=(l,c)=>{if(!(typeof l=="string"||l instanceof String))return!1;try{return c?/^[-A-Za-z0-9\-_]*$/.test(l):/^[-A-Za-z0-9+/]*={0,3}$/.test(l)}catch{return!1}};A.base64=A;const Le={key:0,class:""},qe=["innerHTML"],ze={key:1,class:"text-center"},He=w({__name:"ImageUploader",props:{image:{}},emits:["onImageSource"],setup(l,{emit:c}){const o=l,p=Z({});if(o.image.source!==""){const t=new Image;t.src=o.image.source,p.data=o.image.source,p.html=t,p.html.className="img-fluid"}const u=()=>{Ee.fileDialog({accept:"image/*"}).then(t=>{const s=new FileReader;s.readAsDataURL(t[0]),s.onload=()=>{const r=new Image;r.src=String(s.result),console.log(A.validate(A.fromString(r.src))),A.validate(A.fromString(r.src))?X.uploadContentImage(`/final-evaluation/${o.image.name}`,s.result).then(m=>{r.src=m,p.data=s.result,p.html=r,p.html.className="img-fluid",c("onImageSource",r.src)}):(p.data=s.result,p.html=r,p.html.className="img-fluid",c("onImageSource",r.src))}})};return(t,s)=>(i(),d("div",{class:"image-uploader",onClick:u},[o.image.source!==""&&n(p).html?(i(),d("div",Le,[a("div",{class:"",innerHTML:n(p).html.outerHTML},null,8,qe)])):(i(),d("div",ze," Tidak ada gambar "))]))}});const Re=$(He,[["__scopeId","data-v-1432c02b"]]),Ve=l=>(D("data-v-cf418909"),l=l(),O(),l),Fe={key:0,class:"d-flex flex-column gap-3 p-1",style:{overflow:"auto"}},Ge={key:0,class:"question-wrapper"},Qe={class:"d-flex flex-column gap-3"},Ye={class:"d-flex justify-content-center"},Ze={class:"col-12 col-md-6"},Je={class:"fw-bolder"},Ke={class:"d-flex gap-2"},We={class:"col-auto"},Xe={class:"col"},xe=["value","onInput"],et={class:"px-4 d-flex flex-column gap-1"},tt={class:"col-auto"},at=["onClick"],nt={class:"col"},ot=["value","onInput"],st={class:"col-auto",style:{width:"fit-content"}},pt={class:"d-flex gap-4"},it=["onClick"],lt={key:1},rt=Ve(()=>a("div",{class:"p-3 bg-warning text-center border border-2 border-dark rounded"}," tidak ada instrumen evaluasi ",-1)),dt=[rt],ct=w({__name:"ManageFinalEvaluation",setup(l){const c=()=>{e().appCacheData[`${e().activeContent.data.name}`].data.push({id:M().value,question:"pertanyaan ?",questionImage:"",answerOption:{a:"option a",b:"option b",c:"option c",d:"option d"},trueAnswer:"a"})},o=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].data[s].question=r},p=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].data[s].trueAnswer=r},u=(s,r,m)=>{e().appCacheData[`${e().activeContent.data.name}`].data[s].answerOption[`${r}`]=m},t=s=>{s>-1&&e().appCacheData[`${e().activeContent.data.name}`].data.splice(s,1)};return J(e().appCacheData[`${e().activeContent.data.name}`].data,()=>{e().updatePageContent()}),(s,r)=>{const m=Re;return i(),d("div",null,[("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].data?(i(),d("div",Fe,[("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].data.length>0?(i(),d("div",Ge,[(i(!0),d(f,null,y(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].data,(h,v)=>(i(),d("div",{class:"question py-4",key:Number(v)},[a("div",Qe,[a("div",Ye,[a("div",Ze,[T(m,{onOnImageSource:b=>{Object(h).questionImage=b},image:{name:Object(h).id,source:Object(h).questionImage}},null,8,["onOnImageSource","image"])])]),a("div",Je,[a("div",Ke,[a("div",We,[a("span",null,S(String(v+1))+". ",1)]),a("div",Xe,[a("input",{class:"w-100",type:"text",value:String(Object(h).question),onInput:b=>o(v,Object(b).target.value)},null,40,xe)])])]),a("div",et,[(i(!0),d(f,null,y(Object(h).answerOption,(b,g)=>(i(),d("div",{class:"d-flex gap-2",key:g},[a("div",tt,[a("span",{class:P(["d-inline-block rounded px-2",String(Object(h).trueAnswer)===String(g)?"bg-success text-light":""]),style:{width:"2rem",cursor:"pointer"},onClick:j=>p(v,String(g))},S(g)+". ",11,at)]),a("div",nt,[a("input",{class:"w-100",type:"text",value:b,onInput:j=>u(v,String(g),Object(j).target.value)},null,40,ot)])]))),128))]),a("div",st,[a("div",pt,[a("button",{class:"col-auto button-style bg-danger small p-1 px-2",style:{width:"fit-content"},onClick:b=>t(v)}," hapus pertanyaan ",8,it)])])])]))),128))])):(i(),d("div",lt,dt)),a("div",null,[a("button",{class:"add-evaluation button-style bg-primary text-light",style:{height:"auto"},onClick:r[0]||(r[0]=h=>c())}," tambah evaluasi ")])])):C("",!0)])}}});const ut=$(ct,[["__scopeId","data-v-cf418909"]]),H=l=>(D("data-v-5cc7dfdd"),l=l(),O(),l),mt={class:"d-flex"},ht={class:"col-12 table-wrapper"},vt={class:"student-table table table-bordered table-hover table-sm border-secondary rounded-5"},bt=H(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"Nomor"),a("th",{class:"fw-bolder",scope:"col"},"email"),a("th",{class:"fw-bolder",scope:"col"},"nama"),a("th",{class:"fw-bolder",scope:"col"},"kelas"),a("th",{class:"fw-bolder",scope:"col"},"no. Absen"),a("th",{class:"fw-bolder",scope:"col"},"status")])],-1)),St={key:0},gt={class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"},Ct={class:"d-flex justify-content-center align-items-center"},At=H(()=>a("div",{class:"col-auto"},"Mengambil data siswa",-1)),_t={class:"col-auto"},$t={key:1},ft={class:"text-center",scope:"row"},yt={class:"w-100"},wt={class:"w-100"},kt={class:"container"},Dt={class:"d-flex align-items-center gap-3"},Ot={key:0,class:"col-auto button-style small bg-success text-light",style:{width:"fit-content"}},jt={key:1,class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"}},It={key:0},Tt=H(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"6"},[a("div",{class:"container"},[a("div",{class:"d-flex"},[a("div",{class:"col"}," Tidak ada data siswa ")])])],-1)),Mt=[Tt],Pt=w({__name:"ManageStudent",setup(l){return e().allStudent.lastGettingData===0&&e().appData.appRef&&E.getAllStudentData(),(c,o)=>{const p=G;return i(),d("div",mt,[a("div",ht,[a("table",vt,[bt,("AppStore"in c?c.AppStore:n(e))().allStudent.isGettingData?(i(),d("tbody",St,[a("tr",null,[a("td",gt,[a("div",Ct,[At,a("div",_t,[T(p)])])])])])):C("",!0),!("AppStore"in c?c.AppStore:n(e))().allStudent.isGettingData&&("AppStore"in c?c.AppStore:n(e))().allStudent.data.length!==0?(i(),d("tbody",$t,[(i(!0),d(f,null,y(("AppStore"in c?c.AppStore:n(e))().allStudent.data,(u,t)=>(i(),d("tr",{class:"text-lowercase text-nowrap",key:t},[a("th",ft,S(Number(t)+1),1),a("td",null,S(Object(u).email),1),a("td",yt,S(Object(u).appData.name),1),a("td",wt,S(Object(u).appData.class),1),a("td",null,S(Object(u).appData.ruleNumber),1),a("td",null,[a("div",kt,[a("div",Dt,[a("span",{class:P(["col-auto fw-bolder p-0",Object(u).status==="nonactive"?"text-danger":"text-success"])},S(Object(u).status),3),Object(u).status==="nonactive"?(i(),d("button",Ot," aktivasi sekarang ")):(i(),d("button",jt," hapus "))])])])]))),128)),!("AppStore"in c?c.AppStore:n(e))().allStudent.isGettingData&&("AppStore"in c?c.AppStore:n(e))().allStudent.data.length===0?(i(),d("tr",It,Mt)):C("",!0)])):C("",!0)])])])}}});const Nt=$(Pt,[["__scopeId","data-v-5cc7dfdd"]]),Et={};function Bt(l,c){return i(),d("div",null,"overview")}const Ut=$(Et,[["render",Bt]]),Lt=l=>(D("data-v-e6c9b896"),l=l(),O(),l),qt={class:"evaluation-modal p-5"},zt={class:"container h-100"},Ht={class:"position-relative d-flex flex-column gap-3 rounded-9 h-100 bg-light shadow p-5"},Rt=Lt(()=>a("i",{class:"fa-solid fa-xmark fa-3x text-danger"},null,-1)),Vt=[Rt],Ft={class:"col-auto"},Gt={class:"text-uppercase fw-bolder border-bottom border-secondary"},Qt={class:"d-flex flex-column gap-3 p-1",style:{overflow:"auto"}},Yt={class:"d-flex flex-column gap-3"},Zt={class:"fw-bolder"},Jt=["value","onInput"],Kt={class:"px-4 d-flex flex-column gap-1"},Wt={class:"col-auto"},Xt=["onClick"],xt={class:"col"},ea=["value","onInput"],ta={class:"col-auto",style:{width:"fit-content"}},aa=["onClick"],na=w({__name:"modalEvaluation",setup(l){const c=()=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].push({id:M().value,question:"pertanyaan ?",answerOption:{a:"option a",b:"option b",c:"option c",d:"option d"},trueAnswer:"a"}),e().updatePageContent()},o=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][s].question=r,e().updatePageContent()},p=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][s].trueAnswer=r,e().updatePageContent()},u=(s,r,m)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][s].answerOption[`${r}`]=m,e().updatePageContent()},t=s=>{s>-1&&(e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].splice(s,1),e().updatePageContent())};return(s,r)=>(i(),d("div",qt,[a("div",zt,[a("div",Ht,[a("div",{class:"close",onClick:r[0]||(r[0]=m=>("AppStore"in s?s.AppStore:n(e))().modal.evaluasi=!1)},Vt),a("div",Ft,[a("h3",Gt," Evaluasi "+S(Object(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].name),1)]),a("div",Qt,[(i(!0),d(f,null,y(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].evaluation[`${("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`],(m,h)=>(i(),d("div",{key:Number(h)},[a("div",Yt,[a("div",Zt,[a("span",null,S(String(h+1))+". ",1),a("input",{type:"text",value:String(Object(m).question),onInput:v=>o(h,Object(v).target.value)},null,40,Jt)]),a("div",Kt,[(i(!0),d(f,null,y(Object(m).answerOption,(v,b)=>(i(),d("div",{class:"d-flex gap-1",key:b},[a("div",Wt,[a("span",{class:P(["d-inline-block rounded px-2",String(Object(m).trueAnswer)===String(b)?"bg-success text-light":""]),style:{width:"2rem",cursor:"pointer"},onClick:g=>p(h,b)},S(b)+". ",11,Xt)]),a("div",xt,[a("input",{type:"text",value:v,onInput:g=>u(h,b,Object(g).target.value)},null,40,ea)])]))),128))]),a("div",ta,[a("button",{class:"button-style bg-danger small p-1 px-2",onClick:v=>t(h)}," hapus pertanyaan ",8,aa)])])]))),128))]),a("div",{class:"add-evaluation button-style bg-primary text-light",style:{height:"auto"},onClick:r[1]||(r[1]=m=>c())}," tambah evaluasi ")])])]))}});const oa=$(na,[["__scopeId","data-v-e6c9b896"]]),sa={class:"content-header"},pa={class:"container-fluid"},ia={class:"row align-items-end gap-3"},la={class:"col-auto"},ra={class:"small px-2"},da=["value"],ca={key:0,value:"",selected:"",disabled:""},ua={class:"col-auto"},ma={class:"row gap-3"},ha={key:0,class:"col-auto"},va={class:"col-auto"},ba={class:"col-auto"},Sa={class:"row gap-3"},ga={class:"col-auto"},Ca={class:"col-auto"},Aa={class:"row gap-3"},_a={key:0,class:"col-auto"},$a={class:"col-auto"},fa={key:0,class:"col-auto"},ya={class:"row gap-3"},wa={class:"col-auto"},ka=w({__name:"contentHeader",setup(l){const c=()=>{e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent&&confirm(`yakin akan menghapus sub konten ${Object(e().appCacheData[`${e().activeContent.data.name}`].subContent)[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].name}`)&&e().deleteSubContent(String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent))};return e().modal.evaluasi=!1,(o,p)=>{const u=oa;return i(),d("div",sa,[a("div",pa,[a("div",ia,[a("div",la,[a("span",ra,"sub konten "+S(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent),1),a("div",null,[N(a("select",{id:"selcet-sub-content",class:"input-style","onUpdate:modelValue":p[0]||(p[0]=t=>("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent=t)},[(i(!0),d(f,null,y(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].subContent,(t,s)=>(i(),d("option",{key:s,value:s},S(Object(t).name),9,da))),128)),Object(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].subContent).length===0?(i(),d("option",ca," tidak ada sub-konten "+S(("AppStore"in o?o.AppStore:n(e))().activeContent.data.name),1)):C("",!0)],512),[[K,("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent]])])]),a("div",ua,[a("div",ma,[("AppStore"in o?o.AppStore:n(e))().newContentData["sub content"].focus?(i(),d("div",ha,[N(a("input",{type:"text",class:"input-style",id:"labelAddPage","onUpdate:modelValue":p[1]||(p[1]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData["sub content"].name=t),onBlur:p[2]||(p[2]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.blur("sub content",1e4))},null,544),[[R,("AppStore"in o?o.AppStore:n(e))().newContentData["sub content"].name]])])):C("",!0),a("div",va,[a("label",{class:"btn-link button-style bg-primary text-light p-1 px-3",for:"labelAddPage",onClick:p[3]||(p[3]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.submit("sub content"))}," tambah sub konten ")])])]),a("div",ba,[a("div",Sa,[a("div",ga,[a("label",{class:"btn-link button-style bg-danger text-light p-1 px-3",for:"labelAddPage",onClick:p[4]||(p[4]=t=>c())}," hapus sub konten ")])])]),a("div",Ca,[a("div",Aa,[("AppStore"in o?o.AppStore:n(e))().newContentData.page.focus?(i(),d("div",_a,[N(a("input",{type:"text",class:"input-style",id:"labelAddPage","onUpdate:modelValue":p[5]||(p[5]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.page.name=t),onBlur:p[6]||(p[6]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.blur("page",1e4))},null,544),[[R,("AppStore"in o?o.AppStore:n(e))().newContentData.page.name]])])):C("",!0),a("div",$a,[a("label",{class:"btn-link button-style bg-warning text-light p-1 px-3",for:"labelAddPage",onClick:p[7]||(p[7]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.submit("page"))}," tambah halaman ")])])]),("AppStore"in o?o.AppStore:n(e))().activeContent.data.name==="pembelajaran"&&("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent?(i(),d("div",fa,[a("div",ya,[a("div",wa,[a("label",{class:"btn-link button-style bg-secondary p-1 px-3",for:"labelAddPage",onClick:p[8]||(p[8]=t=>("AppStore"in o?o.AppStore:n(e))().modal.evaluasi=!0)}," evaluasi ")])])])):C("",!0)])]),("AppStore"in o?o.AppStore:n(e))().modal.evaluasi?(i(),_(u,{key:0})):C("",!0)])}}});const Da=$(ka,[["__scopeId","data-v-018fbf35"]]),Oa={class:"content p-3"},ja={key:0,class:"d-flex flex-column gap-3"},Ia={class:"py-2 border-bottom border-secondary"},Ta={class:"row align-items-center"},Ma={class:"col-auto"},Pa={class:"h2 text-capitalize fw-bolder"},Na={class:"col-auto"},Ea=["disabled"],Ba={key:6},Ua={key:1},La=w({__name:"ManageContent",setup(l){const c=I(),o=V(!1),p=()=>{if(o.value=!1,e().activeContent.data={name:"",collection:null},e().activeContent.data={...e().activeContent.data,...e().appData.menu.find(t=>t.name===k(String(c.params.selectedContent)))},["users","null"].includes(String(e().activeContent.data.collection)))setTimeout(()=>{o.value=!0},1e3);else if(e().appCacheData[`${e().activeContent.data.name}`])setTimeout(()=>{o.value=!0},1e3);else{const t=V(0);e().appData.menu.forEach(s=>{E.getContentDoc(s.collection,s.name).then(r=>{t.value++,e().appCacheData[`${r.name}`]={...r,foundAt:M().value,updatedAt:0,updating:!1,lastSelectedSubContent:r.subContent.length>0?r.subContent[0].id:0},t.value===e().appData.menu.length&&setTimeout(()=>{o.value=!0},1e3)})})}};p(),U().afterEach(async t=>{p()});const u=()=>{e().appCacheData[`${e().activeContent.data.name}`].updating=!0;const t={name:e().appCacheData[`${e().activeContent.data.name}`].name,subContent:e().appCacheData[`${e().activeContent.data.name}`].subContent};e().activeContent.data.name==="pembelajaran"&&(t.evaluation=e().appCacheData[`${e().activeContent.data.name}`].evaluation),e().activeContent.data.name==="evaluasi akhir"&&(t.data=e().appCacheData[`${e().activeContent.data.name}`].data),E.updateContentDoc(e().activeContent.data.collection,e().activeContent.data.name,t).then(s=>{s.status?(alert("perubahan disimpan"),e().appCacheData[`${e().activeContent.data.name}`].updatedAt=Number(M().value),e().appCacheData[`${e().activeContent.data.name}`].foundAt=e().appCacheData[`${e().activeContent.data.name}`].updatedAt,e().appCacheData[`${e().activeContent.data.name}`].updating=!1):(e().appCacheData[`${e().activeContent.data.name}`].updating=!1,alert("perubahan gagal disimpan"))}).catch(()=>{e().appCacheData[`${e().activeContent.data.name}`].updating=!1,alert("perubahan gagal disimpan")})};return(t,s)=>{const r=G,m=Da,h=Ut,v=Nt,b=ut,g=Ne,j=be;return i(),d("main",Oa,[n(o)?(i(),d("div",ja,[a("div",Ia,[a("div",Ta,[a("div",Ma,[a("h1",Pa,S(("urlToStringConverter"in t?t.urlToStringConverter:n(k))(String(("useRoute"in t?t.useRoute:n(I))().params.selectedContent))),1)]),a("div",Na,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]?(i(),d("button",{key:0,class:P(["update-button button-style small",("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt!==0&&("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].foundAt!==("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt?"bg-success":"bg-secondary"]),style:{height:"fit-content"},disabled:!(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt!==0&&("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].foundAt!==("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt),onClick:s[0]||(s[0]=qa=>u())},[W(" simpan perubahan "),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updating?(i(),_(r,{key:0,class:"d-inline"})):C("",!0)],10,Ea)):C("",!0)])])]),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&!["overview","siswa","evaluasi akhir"].includes(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)&&Object.keys(n(c).query).length<=0?(i(),_(m,{key:0})):C("",!0),("urlToStringConverter"in t?t.urlToStringConverter:n(k))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="overview"?(i(),_(h,{key:1,class:"bg-light rounded-5 shadow p-3"})):("urlToStringConverter"in t?t.urlToStringConverter:n(k))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="siswa"?(i(),_(v,{key:2,class:"bg-light rounded-5 shadow p-3"})):("urlToStringConverter"in t?t.urlToStringConverter:n(k))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="evaluasi akhir"?(i(),_(b,{key:3,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in t?t.AppStore:n(e))().activeContent.data.collection==="application content"?(i(),_(g,{key:4,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in t?t.AppStore:n(e))().activeContent.data.collection==="learning materials"?(i(),_(j,{key:5,class:"bg-light rounded-5 shadow p-3"})):(i(),d("div",Ba,[T(r,{class:"fw-bolder h2"})]))])):(i(),d("div",Ua,[T(r,{class:"fw-bolder h2"})]))])}}});const Va=$(La,[["__scopeId","data-v-746cff47"]]);export{Va as default};
//# sourceMappingURL=ManageContent-de4a22be.js.map
