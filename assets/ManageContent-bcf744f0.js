import{d as f,u as D,a as y,o as p,c as l,g as V,t as S,e as n,b as e,f as a,F as g,E as _,h as m,p as w,i as k,_ as $,s as v,l as H,A as P,j as N,n as z,w as O,L as R,v as q,G as L}from"./main-d746bc0e.js";import{_ as G}from"./Loader-0d57c91e.js";import{u as B}from"./Url-6980f45c.js";const I=r=>(w("data-v-f1acac57"),r=r(),k(),r),U={class:"d-flex"},Y={key:0,class:"col-12 table-wrapper"},F={key:0,class:"container-fluid"},Q={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},J=I(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),K={class:"text-center",scope:"row"},W={class:"container"},X={class:"row align-items-center gap-3"},Z=["onClick"],x=["onClick"],ee={key:0},te=I(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),ae=[te],ne={key:1,class:"container-fluid"},oe=I(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),se=[oe],pe=f({__name:"Evaluation",setup(r){const c=D(),s=y(),d=t=>{t.type==="delta"&&c.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},o=(t,i)=>{confirm(`Yakin menghapus halaman ${i}?`)&&e().deletePage(t)};return(t,i)=>(p(),l("div",U,[V(" ealuasi "+S(("AppStore"in t?t.AppStore:n(e))().appCacheData.pembelajaran.evaluasi[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`])+" ",1),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(s).query).length<=0?(p(),l("div",Y,[("AppStore"in t?t.AppStore:n(e))().appCacheData.pembelajaran.evaluasi[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(p(),l("div",F,[a("table",Q,[J,a("tbody",null,[(p(!0),l(g,null,_(("AppStore"in t?t.AppStore:n(e))().appCacheData.pembelajaran.evaluasi[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`],(u,h,b)=>(p(),l("tr",{class:"text-lowercase text-nowrap",key:h},[a("th",K,S(Number(b)+1),1),a("td",null,S(Object(u).name),1),a("td",null,[a("div",W,[a("div",X,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:C=>d({pageNumber:Number(b)+1,...Object(u)})}," edit halaman ",8,Z),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:C=>o(String(h),Object(u).name)}," hapus ",8,x)])])])]))),128)),("AppStore"in t?t.AppStore:n(e))().appCacheData.pembelajaran.evaluasi[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].length<=0?(p(),l("tr",ee,ae)):m("",!0)])])])):(p(),l("div",ne,se))])):m("",!0)]))}});const le=$(pe,[["__scopeId","data-v-f1acac57"]]),M=r=>(w("data-v-945f17b0"),r=r(),k(),r),ie={class:"d-flex"},de={key:0,class:"col-12 table-wrapper"},re={key:0,class:"container-fluid"},ce={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},ue=M(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),he={class:"text-center",scope:"row"},Se={class:"container"},be={class:"row align-items-center gap-3"},me=["onClick"],Ce=["onClick"],ve={key:0},Ae=M(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),$e=[Ae],ge={key:1,class:"container-fluid"},_e=M(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),fe=[_e],ye=f({__name:"Learning",setup(r){const c=D(),s=y(),d=t=>{t.type==="delta"&&c.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},o=(t,i)=>{confirm(`Yakin menghapus halaman ${i}?`)&&e().deletePage(t)};return(t,i)=>(p(),l("div",ie,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(s).query).length<=0?(p(),l("div",de,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(p(),l("div",re,[a("table",ce,[ue,a("tbody",null,[(p(!0),l(g,null,_(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page,(u,h,b)=>(p(),l("tr",{class:"text-lowercase text-nowrap",key:h},[a("th",he,S(Number(b)+1),1),a("td",null,S(Object(u).name),1),a("td",null,[a("div",Se,[a("div",be,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:C=>d({pageNumber:Number(b)+1,...Object(u)})}," edit halaman ",8,me),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:C=>o(String(h),Object(u).name)}," hapus ",8,Ce)])])])]))),128)),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page.length<=0?(p(),l("tr",ve,$e)):m("",!0)])])])):(p(),l("div",ge,fe))])):m("",!0)]))}});const we=$(ye,[["__scopeId","data-v-945f17b0"]]),ke={};function De(r,c){const s=we,d=le;return p(),l("div",null,[("AppStore"in r?r.AppStore:n(e))().activeContent.data.name==="pembelajaran"?(p(),v(s,{key:0})):(p(),v(d,{key:1}))])}const je=$(ke,[["render",De]]),E=r=>(w("data-v-1dd85edb"),r=r(),k(),r),Oe={class:"d-flex"},Pe={key:0,class:"col-12 table-wrapper"},Ne={key:0,class:"container-fluid"},Ie={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},Me=E(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),Ee={class:"text-center",scope:"row"},Te={class:"container"},qe={class:"row align-items-center gap-3"},Le=["onClick"],Be=["onClick"],Ve={key:0},ze=E(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),Ge=[ze],He={key:1,class:"container-fluid"},Re=E(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),Ue=[Re],Ye=f({__name:"ManageApplicationContent",setup(r){const c=D(),s=y(),d=t=>{t.type==="delta"&&c.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},o=(t,i)=>{confirm(`Yakin menghapus halaman ${i}?`)&&e().deletePage(t)};return(t,i)=>{const u=H("router-view");return p(),l("div",Oe,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(s).query).length<=0?(p(),l("div",Pe,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(p(),l("div",Ne,[a("table",Ie,[Me,a("tbody",null,[(p(!0),l(g,null,_(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page,(h,b,C)=>(p(),l("tr",{class:"text-lowercase text-nowrap",key:b},[a("th",Ee,S(Number(C)+1),1),a("td",null,S(Object(h).name),1),a("td",null,[a("div",Te,[a("div",qe,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:A=>d({pageNumber:Number(C)+1,...Object(h)})}," edit halaman ",8,Le),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:A=>o(String(b),Object(h).name)}," hapus ",8,Be)])])])]))),128)),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page.length<=0?(p(),l("tr",Ve,Ge)):m("",!0)])])])):(p(),l("div",He,Ue))])):(p(),v(u,{key:1}))])}}});const Fe=$(Ye,[["__scopeId","data-v-1dd85edb"]]),T=r=>(w("data-v-c26d4602"),r=r(),k(),r),Qe={class:"d-flex"},Je={class:"col-12 table-wrapper"},Ke={class:"student-table table table-bordered table-hover table-sm border-secondary rounded-5"},We=T(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"Nomor"),a("th",{class:"fw-bolder",scope:"col"},"email"),a("th",{class:"fw-bolder",scope:"col"},"nama"),a("th",{class:"fw-bolder",scope:"col"},"kelas"),a("th",{class:"fw-bolder",scope:"col"},"no. Absen"),a("th",{class:"fw-bolder",scope:"col"},"status")])],-1)),Xe={key:0},Ze={class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"},xe={class:"d-flex justify-content-center align-items-center"},et=T(()=>a("div",{class:"col-auto"},"Mengambil data siswa",-1)),tt={class:"col-auto"},at={key:1},nt={scope:"row"},ot={class:"container"},st={class:"row align-items-center gap-3"},pt={key:0,class:"col-auto fw-bolder text-danger p-0"},lt={key:1,class:"col-auto fw-bolder text-success p-0"},it={key:2,class:"col-auto button-style small bg-success text-light",style:{width:"fit-content"}},dt={key:3,class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"}},rt={key:0},ct=T(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"6"}," Tidak ada data siswa ",-1)),ut=[ct],ht=f({__name:"ManageStudent",setup(r){return e().allStudent.lastGettingData===0&&e().appData.appRef&&P.getAllStudentData(),(c,s)=>{const d=G;return p(),l("div",Qe,[a("div",Je,[a("table",Ke,[We,("AppStore"in c?c.AppStore:n(e))().allStudent.isGettingData?(p(),l("tbody",Xe,[a("tr",null,[a("td",Ze,[a("div",xe,[et,a("div",tt,[N(d)])])])])])):m("",!0),!("AppStore"in c?c.AppStore:n(e))().allStudent.isGettingData&&("AppStore"in c?c.AppStore:n(e))().allStudent.data.length!==0?(p(),l("tbody",at,[(p(!0),l(g,null,_(("AppStore"in c?c.AppStore:n(e))().allStudent.data,(o,t)=>(p(),l("tr",{class:"text-lowercase text-nowrap",key:t},[a("th",nt,S(Number(t)+1),1),a("td",null,S(Object(o).email),1),a("td",null,S(Object(o).data.name),1),a("td",null,S(Object(o).data.class),1),a("td",null,S(Object(o).data.rollNumber),1),a("td",null,[a("div",ot,[a("div",st,[Object(o).data.status==="nonaktif"?(p(),l("span",pt," non-aktif ")):(p(),l("span",lt," aktif ")),Object(o).data.status==="nonaktif"?(p(),l("button",it," aktivasi sekarang ")):(p(),l("button",dt," hapus "))])])])]))),128)),!("AppStore"in c?c.AppStore:n(e))().allStudent.isGettingData&&("AppStore"in c?c.AppStore:n(e))().allStudent.data.length===0?(p(),l("tr",rt,ut)):m("",!0)])):m("",!0)])])])}}});const St=$(ht,[["__scopeId","data-v-c26d4602"]]),bt={};function mt(r,c){return p(),l("div",null,"overview")}const Ct=$(bt,[["render",mt]]),vt=r=>(w("data-v-d0b5f9c8"),r=r(),k(),r),At={class:"evaluation-modal p-5"},$t={class:"container h-100"},gt={class:"position-relative d-flex flex-column gap-3 rounded-9 h-100 bg-light shadow p-5"},_t=vt(()=>a("i",{class:"fa-solid fa-xmark fa-3x text-danger"},null,-1)),ft=[_t],yt={class:"col-auto"},wt={class:"text-uppercase fw-bolder border-bottom border-secondary"},kt={class:"d-flex flex-column gap-3 p-1",style:{overflow:"auto"}},Dt={class:"d-flex flex-column gap-3"},jt={class:"fw-bolder"},Ot=["value","onInput"],Pt={class:"px-4 d-flex flex-column gap-1"},Nt={class:"col-auto"},It=["onClick"],Mt={class:"col"},Et=["value","onInput"],Tt={class:"col-auto",style:{width:"fit-content"}},qt=["onClick"],Lt=f({__name:"modalEvaluation",setup(r){const c=()=>{e().appCacheData[`${e().activeContent.data.name}`].evaluasi[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].push({question:"pertanyaan ?",answerOption:{a:"option a",b:"option b",c:"option c",d:"option d"},trueAnswer:"a"}),e().updatePageContent()},s=(i,u)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluasi[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][i].question=u,e().updatePageContent()},d=(i,u)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluasi[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][i].trueAnswer=u,e().updatePageContent()},o=(i,u,h)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluasi[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][i].answerOption[`${u}`]=h,e().updatePageContent()},t=i=>{i>-1&&(e().appCacheData[`${e().activeContent.data.name}`].evaluasi[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].splice(i,1),e().updatePageContent())};return(i,u)=>(p(),l("div",At,[a("div",$t,[a("div",gt,[a("div",{class:"close",onClick:u[0]||(u[0]=h=>("AppStore"in i?i.AppStore:n(e))().modal.evaluasi=!1)},ft),a("div",yt,[a("h3",wt," Evaluasi "+S(("AppStore"in i?i.AppStore:n(e))().appCacheData[`${("AppStore"in i?i.AppStore:n(e))().activeContent.data.name}`].subContent[`${("AppStore"in i?i.AppStore:n(e))().appCacheData[`${("AppStore"in i?i.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].name),1)]),a("div",kt,[(p(!0),l(g,null,_(("AppStore"in i?i.AppStore:n(e))().appCacheData[`${("AppStore"in i?i.AppStore:n(e))().activeContent.data.name}`].evaluasi[`${("AppStore"in i?i.AppStore:n(e))().appCacheData[`${("AppStore"in i?i.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`],(h,b)=>(p(),l("div",{key:Number(b)},[a("div",Dt,[a("div",jt,[a("span",null,S(String(b+1))+". ",1),a("input",{type:"text",value:String(Object(h).question),onInput:C=>s(b,Object(C).target.value)},null,40,Ot)]),a("div",Pt,[(p(!0),l(g,null,_(Object(h).answerOption,(C,A)=>(p(),l("div",{class:"d-flex gap-1",key:A},[a("div",Nt,[a("span",{class:z(["d-inline-block rounded px-2",String(Object(h).trueAnswer)===String(A)?"bg-success text-light":""]),style:{width:"2rem",cursor:"pointer"},onClick:j=>d(b,A)},S(A)+". ",11,It)]),a("div",Mt,[a("input",{type:"text",value:C,onInput:j=>o(b,A,Object(j).target.value)},null,40,Et)])]))),128))]),a("div",Tt,[a("button",{class:"button-style bg-danger small p-1 px-2",onClick:C=>t(b)}," hapus pertanyaan ",8,qt)])])]))),128))]),a("div",{class:"add-evaluation button-style bg-primary text-light",style:{height:"auto"},onClick:u[1]||(u[1]=h=>c())}," tambah evaluasi ")])])]))}});const Bt=$(Lt,[["__scopeId","data-v-d0b5f9c8"]]),Vt={class:"content-header"},zt={class:"container-fluid"},Gt={class:"row align-items-end gap-3"},Ht={class:"col-auto"},Rt={class:"small px-2"},Ut=["value"],Yt={key:0,value:"",selected:"",disabled:""},Ft={class:"col-auto"},Qt={class:"row gap-3"},Jt={key:0,class:"col-auto"},Kt={class:"col-auto"},Wt={class:"col-auto"},Xt={class:"row gap-3"},Zt={class:"col-auto"},xt={class:"col-auto"},ea={class:"row gap-3"},ta={key:0,class:"col-auto"},aa={class:"col-auto"},na={key:0,class:"col-auto"},oa={class:"row gap-3"},sa={class:"col-auto"},pa=f({__name:"contentHeader",setup(r){const c=()=>{e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent&&confirm(`yakin akan menghapus sub konten ${e().appCacheData[`${e().activeContent.data.name}`].subContent[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].name}`)&&e().deleteSubContent(String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent))};return e().modal.evaluasi=!1,(s,d)=>{const o=Bt;return p(),l("div",Vt,[a("div",zt,[a("div",Gt,[a("div",Ht,[a("span",Rt,"sub konten "+S(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent),1),a("div",null,[O(a("select",{id:"selcet-sub-content",class:"input-style","onUpdate:modelValue":d[0]||(d[0]=t=>("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent=t)},[(p(!0),l(g,null,_(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].subContent,(t,i)=>(p(),l("option",{key:i,value:i},S(Object(t).name),9,Ut))),128)),("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].subContent.length===0?(p(),l("option",Yt," tidak ada sub-konten "+S(("AppStore"in s?s.AppStore:n(e))().activeContent.data.name),1)):m("",!0)],512),[[R,("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent]])])]),a("div",Ft,[a("div",Qt,[("AppStore"in s?s.AppStore:n(e))().newContentData["sub content"].focus?(p(),l("div",Jt,[O(a("input",{type:"text",class:"input-style",id:"labelAddPage","onUpdate:modelValue":d[1]||(d[1]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData["sub content"].name=t),onBlur:d[2]||(d[2]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData.blur("sub content",1e4))},null,544),[[q,("AppStore"in s?s.AppStore:n(e))().newContentData["sub content"].name]])])):m("",!0),a("div",Kt,[a("label",{class:"btn-link button-style bg-primary text-light p-1 px-3",for:"labelAddPage",onClick:d[3]||(d[3]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData.submit("sub content"))}," tambah sub konten ")])])]),a("div",Wt,[a("div",Xt,[a("div",Zt,[a("label",{class:"btn-link button-style bg-danger text-light p-1 px-3",for:"labelAddPage",onClick:d[4]||(d[4]=t=>c())}," hapus sub konten ")])])]),a("div",xt,[a("div",ea,[("AppStore"in s?s.AppStore:n(e))().newContentData.page.focus?(p(),l("div",ta,[O(a("input",{type:"text",class:"input-style",id:"labelAddPage","onUpdate:modelValue":d[5]||(d[5]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData.page.name=t),onBlur:d[6]||(d[6]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData.blur("page",1e4))},null,544),[[q,("AppStore"in s?s.AppStore:n(e))().newContentData.page.name]])])):m("",!0),a("div",aa,[a("label",{class:"btn-link button-style bg-warning text-light p-1 px-3",for:"labelAddPage",onClick:d[7]||(d[7]=t=>("AppStore"in s?s.AppStore:n(e))().newContentData.submit("page"))}," tambah halaman ")])])]),("AppStore"in s?s.AppStore:n(e))().activeContent.data.name==="pembelajaran"&&("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent?(p(),l("div",na,[a("div",oa,[a("div",sa,[a("label",{class:"btn-link button-style bg-secondary p-1 px-3",for:"labelAddPage",onClick:d[8]||(d[8]=t=>("AppStore"in s?s.AppStore:n(e))().modal.evaluasi=!0)}," evaluasi ")])])])):m("",!0)])]),("AppStore"in s?s.AppStore:n(e))().modal.evaluasi?(p(),v(o,{key:0})):m("",!0)])}}}),la={class:"content p-3"},ia={key:0,class:"d-flex flex-column gap-3"},da={class:"py-2 border-bottom border-secondary"},ra={class:"row align-items-center"},ca={class:"col-auto"},ua={class:"h2 text-capitalize fw-bolder"},ha={class:"col-auto"},Sa=["disabled"],ba={key:5},ma={key:1},Ca=f({__name:"ManageContent",setup(r){const c=y(),s=()=>{e().activeContent.data={name:"",collection:null},setTimeout(()=>{e().activeContent.data={...e().activeContent.data,...e().appData.menu.find(o=>o.name===B(String(c.params.selectedContent)))},["users","null"].includes(String(e().activeContent.data.collection))||e().appCacheData[`${e().activeContent.data.name}`]||e().appData.menu.forEach(o=>{P.getContentDoc(o.collection,o.name).then(t=>{e().appCacheData[`${t.name}`]={...t,foundAt:L().value,updatedAt:0,updating:!1,lastSelectedSubContent:t.subContent.length>0?t.subContent[0].id:0}})})},1e3)};s(),D().afterEach(()=>{s()});const d=()=>{e().appCacheData[`${e().activeContent.data.name}`].updating=!0;const o={name:e().appCacheData[`${e().activeContent.data.name}`].name,subContent:e().appCacheData[`${e().activeContent.data.name}`].subContent};e().activeContent.data.name==="pembelajaran"&&(o.evaluasi=e().appCacheData[`${e().activeContent.data.name}`].evaluasi),P.updateContentDoc(e().activeContent.data.collection,e().activeContent.data.name,o).then(t=>{t.status?(alert("perubahan disimpan"),e().appCacheData[`${e().activeContent.data.name}`].updatedAt=Number(L().value),e().appCacheData[`${e().activeContent.data.name}`].foundAt=e().appCacheData[`${e().activeContent.data.name}`].updatedAt,e().appCacheData[`${e().activeContent.data.name}`].updating=!1):(e().appCacheData[`${e().activeContent.data.name}`].updating=!1,alert("perubahan gagal disimpan"))}).catch(()=>{e().appCacheData[`${e().activeContent.data.name}`].updating=!1,alert("perubahan gagal disimpan")})};return(o,t)=>{const i=G,u=pa,h=Ct,b=St,C=Fe,A=je;return p(),l("main",la,[("AppStore"in o?o.AppStore:n(e))().activeContent.data.name?(p(),l("div",ia,[a("div",da,[a("div",ra,[a("div",ca,[a("h1",ua,S(("urlToStringConverter"in o?o.urlToStringConverter:n(B))(String(("useRoute"in o?o.useRoute:n(y))().params.selectedContent))),1)]),a("div",ha,[("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`]?(p(),l("button",{key:0,class:z(["update-button button-style small",("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].updatedAt!==0&&("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].foundAt!==("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].updatedAt?"bg-success":"bg-secondary"]),style:{height:"fit-content"},disabled:!(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].updatedAt!==0&&("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].foundAt!==("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].updatedAt),onClick:t[0]||(t[0]=j=>d())},[V(" simpan perubahan "),("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].updating?(p(),v(i,{key:0,class:"d-inline"})):m("",!0)],10,Sa)):m("",!0)])])]),("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(c).query).length<=0?(p(),v(u,{key:0})):m("",!0),("AppStore"in o?o.AppStore:n(e))().activeContent.data.name==="overview"?(p(),v(h,{key:1,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in o?o.AppStore:n(e))().activeContent.data.name==="siswa"?(p(),v(b,{key:2,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in o?o.AppStore:n(e))().activeContent.data.collection==="application content"?(p(),v(C,{key:3,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in o?o.AppStore:n(e))().activeContent.data.collection==="learning materials"?(p(),v(A,{key:4,class:"bg-light rounded-5 shadow p-3"})):(p(),l("div",ba,[N(i,{class:"fw-bolder h2"})]))])):(p(),l("div",ma,[N(i,{class:"fw-bolder h2"})]))])}}});const ga=$(Ca,[["__scopeId","data-v-d8a0849a"]]);export{ga as default};
//# sourceMappingURL=ManageContent-bcf744f0.js.map
