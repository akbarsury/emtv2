import{_ as I}from"./EMTTitle-07695c69.js";import{r as S,y as $,z as P,e as s,B as k,d as z,u as D,a as B,C as j,D as T,o as m,c as d,f as u,j as V,t as w,U as M,F as O,E as U,b as r,A as H,G as L,H as R,I as q,x as F,_ as N}from"./main-545820b8.js";import{s as A}from"./Url-6980f45c.js";const G=""+new URL("menu-300ad084.mp3",import.meta.url).href;function J(h,{volume:l=1,playbackRate:p=1,soundEnabled:b=!0,interrupt:g=!1,autoplay:y=!1,onload:_,...v}={}){const c=S(null),n=S(!1),f=S(null),e=S(null);function t(){var a;typeof _=="function"&&_.call(this),f.value=(f.value||((a=e.value)==null?void 0:a.duration())||0)*1e3,y===!0&&(n.value=!0)}return $(async()=>{const a=await P(()=>import("./howler-7eb0ec3f.js").then(E=>E.h),["./howler-7eb0ec3f.js","./main-545820b8.js","./index-45fcf2e5.css"],import.meta.url);c.value=a.default.Howl,e.value=new c.value({src:s(h),volume:s(l),rate:s(p),onload:t,...v})}),k(()=>[h],()=>{c.value&&c.value&&e&&e.value&&(e.value=new c.value({src:s(h),volume:s(l),rate:s(p),onload:t,...v}))}),k(()=>[s(l),s(p)],()=>{e.value&&(e.value.volume(s(l)),e.value.rate(s(p)))}),{play:a=>{typeof a>"u"&&(a={}),!(!e.value||!b&&!a.forceSoundEnabled)&&(g&&e.value.stop(),a.playbackRate&&e.value.rate(a.playbackRate),e.value.play(a.id),e.value.once("end",()=>{e.value&&e.value&&!e.value.playing()&&(n.value=!1)}),n.value=!0)},sound:e,isPlaying:n,duration:f,pause:a=>{e.value&&(e.value.pause(typeof a=="number"?a:void 0),n.value=!1)},stop:a=>{e.value&&(e.value.stop(typeof a=="number"?a:void 0),n.value=!1)}}}const K={class:"content d-flex flex-column my-4 gap-2"},Q={class:"animate__animated animate__zoomInUp d-flex justify-content-center"},W={class:"text-capitalize text-light bg-warning rounded-pill p-2 px-4"},X={class:"menu animate__animated animate__fadeInUpBig d-flex flex-column justify-content-center shadow rounded-9 p-4"},Y={class:"animate__animated animate__zoomIn"},Z={class:"menu-header"},ee={class:"h5 title-style text-uppercase fw-bolder text-center mb-3"},te={key:0,class:"menu-link-wrapper animate__animated animate__zoomIn d-flex flex-column gap-3 mb-3"},ne=["onClick"],ae={key:1,class:"submenu-link-wrapper animate__animated animate__zoomIn d-flex flex-column gap-3 mb-3"},se=["onClick"],oe=z({__name:"Menu",setup(h){const l=D(),p=B(),b=()=>{r().appCacheData[`${r().activeContent.data.name}`]||r().appData.menu.slice(2).forEach(t=>{H.getContentDoc(t.collection,t.name).then(o=>{r().appCacheData[`${o.name}`]={...o,foundAt:L().value,updatedAt:0,updating:!1,lastSelectedSubContent:o.subContent.length>0?o.subContent[0].id:0}})})};b(),D().afterEach(()=>{b()});const{play:g,stop:y,isPlaying:_}=J(G),v=j({isPlayingMenuSound:_,userConfigPlayingMenuSound:!1});setTimeout(()=>{_&&g()},1e3),k(_,t=>{p.name==="menu"&&v.userConfigPlayingMenuSound?t!==v.userConfigPlayingMenuSound&&p.name==="menu"&&g():(q(()=>{}),y())}),T(t=>{t.name!=="menu"&&y()});const c=()=>{R(F).then(()=>{M().user={appData:{}},l.push({name:"landing"})})},n=j({title:["main menu"],subContent:!1}),f=t=>{if(n.subContent)l.push({name:"play",params:{playingContent:A(String(n.selectedMenu))},query:{sub:t,page:1}});else{const o=Object.entries(r().appCacheData[`${t}`].subContent);Object.keys(r().appCacheData[`${t}`].subContent).length>1?(n.subMenu=Object.entries(r().appCacheData[`${t}`].subContent),n.subContent=!0,n.selectedMenu=t,n.title.push(t)):l.push({name:"play",params:{playingContent:A(String(t))},query:{sub:o[0][0],page:1}})}},e=()=>{n.subContent=!1,n.title.pop()};return(t,o)=>{const x=I;return m(),d("div",null,[u("div",K,[V(x,{class:"animate__animated animate__zoomInUp"}),u("div",Q,[u("span",W," Hello, "+w(("UserStore"in t?t.UserStore:s(M))().user.appData.name),1)]),u("div",X,[u("div",Y,[u("div",Z,[u("h1",ee,w(s(n).title.slice(s(n).title.length-1)[0]),1)]),u("div",null,[s(n).subContent?(m(),d("div",ae,[(m(!0),d(O,null,U(s(n).subMenu,(i,C)=>(m(),d("button",{key:C,onClick:a=>f(Object(i)[0]),class:"input-style bg-primary text-white"},w(Object(i)[1].name),9,se))),128)),u("button",{class:"input-style bg-warning text-white",onClick:o[1]||(o[1]=i=>e())}," kembali ke menu utama ")])):(m(),d("div",te,[(m(!0),d(O,null,U(("AppStore"in t?t.AppStore:s(r))().appData.menu.slice(2),(i,C)=>(m(),d("button",{key:C,onClick:a=>f(Object(i).name),class:"input-style bg-primary text-white"},w(Object(i).name),9,ne))),128)),u("button",{class:"input-style bg-danger text-white",onClick:o[0]||(o[0]=i=>c())}," keluar ")]))])])])])])}}});const re=N(oe,[["__scopeId","data-v-23452427"]]);export{re as default};
//# sourceMappingURL=Menu-5bb1029f.js.map
