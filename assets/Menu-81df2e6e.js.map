{"version":3,"file":"Menu-81df2e6e.js","sources":["../../src/views/pages/user/gamePlay/Menu.vue"],"sourcesContent":["<script setup lang=\"ts\">\n\nconst router = useRouter();\n\nconst resolveContent = () => {\n\n  if (!AppStore().appCacheData[`${AppStore().activeContent.data.name}`]) {\n    AppStore().appData.menu.slice(2).forEach((x: any) => {\n      AppDB.getContentDoc(\n        x.collection,\n        x.name\n      ).then((x: any) => {\n        AppStore().appCacheData[`${x.name}`] = {\n          ...x,\n          foundAt: useTimestamp().value,\n          updatedAt: 0,\n          updating: false,\n          lastSelectedSubContent:\n            x.subContent.length > 0 ? x.subContent[0].id : 0,\n        };\n      });\n    })\n  }\n};\n\nresolveContent();\n\nuseRouter().afterEach(() => {\n  resolveContent();\n});\n\n///////\nconst userSignOut = () => {\n  signOut(Authentication).then(() => {\n    UserStore().user.id = null\n    router.push({ name: 'landing' })\n  })\n  // appAuth.userTryToSignOut().then((x: any) => {\n  //   x ? (alert(\"berhasil keluar\"), router.push({ name: \"landing\" })) : true;\n  // });\n};\n\nconst menu: any = reactive({\n  title: [\"main menu\"],\n  subContent: false,\n});\n\n// globalStore().activeContent = { loadContent: false };\n\nconst menuClik = (selectedMenu: string) => {\n\n  if (!menu.subContent) {\n    const subContentArray = Object.entries(Object(AppStore().appCacheData[`${selectedMenu}`].subContent))\n    if (Object.keys(Object(AppStore().appCacheData[`${selectedMenu}`].subContent)).length > 1) {\n      menu.subMenu = Object.entries(Object(AppStore().appCacheData[`${selectedMenu}`].subContent))\n      menu.subContent = true\n      menu.selectedMenu = selectedMenu\n      menu.title.push(selectedMenu)\n\n    } else {\n      // main menu !== evaluasi akhir\n      if (selectedMenu !== 'evaluasi akhir') {\n        router.push({\n          name: 'play',\n          params: {\n            playingContent: stringToUrlConverter(String(selectedMenu)),\n          },\n          query: {\n            sub: subContentArray[0][0],\n            page: 1\n          }\n        })\n      }\n      else {\n        // main menu === evaluasi akhir\n        router.push({\n          name: 'play',\n          params: {\n            playingContent: stringToUrlConverter(String(selectedMenu)),\n          },\n        })\n      }\n    }\n  } else {\n    // submenu\n    router.push({\n      name: 'play',\n      params: {\n        playingContent: stringToUrlConverter(String(menu.selectedMenu)),\n      },\n      query: {\n        sub: selectedMenu,\n        page: 1\n      }\n    })\n  }\n\n}\nconst backToMainMenu = () => {\n  menu.subContent = false\n  menu.title.pop()\n}\n\n</script>\n\n<template>\n  <div>\n    <div class=\"content d-flex flex-column my-4 gap-2\">\n      <ComponentsEMTTitle class=\"animate__animated animate__zoomInUp\" />\n      <div class=\"animate__animated animate__zoomInUp d-flex justify-content-center\">\n        <span class=\"text-capitalize text-light bg-warning rounded-pill p-2 px-4\">\n          Hello, {{ UserStore().user.appData.name }}\n        </span>\n      </div>\n      <div\n        class=\"menu animate__animated animate__fadeInUpBig d-flex flex-column justify-content-center shadow rounded-9 p-4\">\n        <div class=\"animate__animated animate__zoomIn\">\n          <div class=\"menu-header\">\n            <h1 class=\"h5 title-style text-uppercase fw-bolder text-center mb-3\">\n              {{ menu.title.slice(menu.title.length - 1)[0] }}\n            </h1>\n          </div>\n          <div>\n            <div class=\" menu-link-wrapper animate__animated animate__zoomIn d-flex flex-column gap-3 mb-3\"\n              v-if=\"!menu.subContent\">\n              <button v-for=\"(content, key) in AppStore().appData.menu.slice(2)\" :key=\"key\"\n                @click=\"menuClik(Object(content).name)\" class=\"input-style bg-primary text-white\">\n                {{ Object(content).name }}\n              </button>\n              <button class=\"input-style bg-danger text-white\" @click=\"userSignOut()\">\n                keluar\n              </button>\n            </div>\n            <div v-else class=\"submenu-link-wrapper animate__animated animate__zoomIn d-flex flex-column gap-3 mb-3\">\n              <button v-for=\"subMenu, key in menu.subMenu\" :key=\"key\" @click=\"menuClik(Object(subMenu)[0])\"\n                class=\"input-style bg-primary text-white\">\n                {{ Object(subMenu)[1].name }}\n              </button>\n              <button class=\"input-style bg-warning text-white\" @click=\"backToMainMenu()\">\n                kembali ke menu utama\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.content {\n  height: max-content;\n  width: 100%;\n\n  .menu {\n    // flex: 1;\n    background-color: rgba(#ffffff, 0.75);\n    align-items: stretch;\n  }\n}\n\n.content-footer {\n  position: absolute;\n  z-index: -1;\n  bottom: 0px;\n  right: 5%;\n\n  .class-module,\n  .class-thema-subthema {\n    display: inline-flex;\n    width: fit-content;\n    padding: 0.2rem 1rem;\n    font-weight: 700;\n    border-radius: 1rem;\n    ////\n    background-color: rgba(#ffffff, 0.5);\n    background-blend-mode: multiply;\n  }\n}\n</style>\n"],"names":["router","useRouter","resolveContent","AppStore","x","AppDB","x2","useTimestamp","userSignOut","signOut","Authentication","UserStore","menu","reactive","menuClik","selectedMenu","stringToUrlConverter","subContentArray","backToMainMenu"],"mappings":"67BAEA,MAAAA,EAAAC,IAEAC,EAAA,IAAA,CAEEC,EAAA,EAAA,aAAA,GAAAA,IAAA,cAAA,KAAA,MAAA,GACEA,EAAA,EAAA,QAAA,KAAA,MAAA,CAAA,EAAA,QAAAC,GAAA,CACEC,EAAA,cAAMD,EAAA,WACFA,EAAA,IACA,EAAA,KAAAE,GAAA,CAEFH,EAAA,EAAA,aAAA,GAAAG,EAAA,MAAA,EAAA,CAAuC,GAAAA,EAClC,QAAAC,EAAA,EAAA,MACqB,UAAA,EACb,SAAA,GACD,uBAAAD,EAAA,WAAA,OAAA,EAAAA,EAAA,WAAA,CAAA,EAAA,GAAA,CAEuC,CACnD,CAAA,CACD,CAAA,CAEL,EAGFJ,IAEAD,EAAA,EAAA,UAAA,IAAA,CACEC,GAAe,CAAA,EAIjB,MAAAM,EAAA,IAAA,CACEC,EAAAC,CAAA,EAAA,KAAA,IAAA,CACEC,IAAA,KAAA,GAAA,KACAX,EAAA,KAAA,CAAA,KAAA,SAAA,CAAA,CAA+B,CAAA,CAChC,EAMHY,EAAAC,EAAA,CAA2B,MAAA,CAAA,WAAA,EACN,WAAA,EACP,CAAA,EAKdC,EAAAC,GAAA,CAEE,GAAAH,EAAA,WAkCEZ,EAAA,KAAA,CAAY,KAAA,OACJ,OAAA,CACE,eAAAgB,EAAA,OAAAJ,EAAA,YAAA,CAAA,CACwD,EAChE,MAAA,CACO,IAAAG,EACA,KAAA,CACC,CACR,CAAA,MA1CJ,CACE,MAAAE,EAAA,OAAA,QAAA,OAAAd,EAAA,EAAA,aAAA,GAAAY,GAAA,EAAA,UAAA,CAAA,EACA,OAAA,KAAA,OAAAZ,EAAA,EAAA,aAAA,GAAAY,GAAA,EAAA,UAAA,CAAA,EAAA,OAAA,GACEH,EAAA,QAAA,OAAA,QAAA,OAAAT,EAAA,EAAA,aAAA,GAAAY,GAAA,EAAA,UAAA,CAAA,EACAH,EAAA,WAAA,GACAA,EAAA,aAAAG,EACAH,EAAA,MAAA,KAAAG,CAAA,GAIAA,IAAA,iBACEf,EAAA,KAAA,CAAY,KAAA,OACJ,OAAA,CACE,eAAAgB,EAAA,OAAAD,CAAA,CAAA,CACmD,EAC3D,MAAA,CACO,IAAAE,EAAA,CAAA,EAAA,CAAA,EACoB,KAAA,CACnB,CACR,CAAA,EAKFjB,EAAA,KAAA,CAAY,KAAA,OACJ,OAAA,CACE,eAAAgB,EAAA,OAAAD,CAAA,CAAA,CACmD,CAC3D,CAAA,EAgBR,EAGFG,EAAA,IAAA,CACEN,EAAA,WAAA,GACAA,EAAA,MAAA,KAAe"}