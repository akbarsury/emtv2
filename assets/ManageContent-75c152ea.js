import{d as w,u as L,a as T,l as q,o as i,c,e as n,b as e,f as a,F as f,C as y,t as S,g as C,s as _,p as O,i as j,_ as $,B as Z,J,j as D,n as M,D as E,A as N,G as W,h as G,r as B,z as Q,w as P,K as X,v as R}from"./main-5c4f8fb3.js";import{A as x}from"./AppStorage-f0e0e685.js";import{u as k}from"./Url-4d04c3c7.js";const z=l=>(O("data-v-4d5444b4"),l=l(),j(),l),ee={class:"d-flex"},te={key:0,class:"col-12 table-wrapper"},ae={key:0,class:"container-fluid"},ne={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},oe=z(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),se={class:"text-center",scope:"row"},pe={class:"container"},ie={class:"row align-items-center gap-3"},le=["onClick"],re=["onClick"],ce={key:0},de=z(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),ue=[de],me={key:1,class:"container-fluid"},he=z(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),ve=[he],be=w({__name:"ManageLearningMaterials",setup(l){const m=L(),o=T(),p=t=>{t.type==="delta"&&m.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},u=(t,s)=>{confirm(`Yakin menghapus halaman ${s}?`)&&(e().deletePage(t),e().updatePageContent())};return(t,s)=>{const r=q("router-view");return i(),c("div",ee,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(o).query).length<=0?(i(),c("div",te,[Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(i(),c("div",ae,[a("table",ne,[oe,a("tbody",null,[(i(!0),c(f,null,y(Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page,(d,h)=>(i(),c("tr",{class:"text-lowercase text-nowrap",key:h},[a("th",se,S(Number(h)+1),1),a("td",null,S(Object(Object.entries(Object(d))[0][1]).name),1),a("td",null,[a("div",pe,[a("div",ie,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:v=>p({pageNumber:Number(h)+1,id:Object.entries(Object(d))[0][0],...Object(Object.entries(Object(d))[0][1])})}," edit halaman ",8,le),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:v=>u(Number(h),Object(Object.entries(Object(d))[0][1]).name)}," hapus ",8,re)])])])]))),128)),Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page.length<=0?(i(),c("tr",ce,ue)):C("",!0)])])])):(i(),c("div",me,ve))])):(i(),_(r,{key:1}))])}}});const Se=$(be,[["__scopeId","data-v-4d5444b4"]]),H=l=>(O("data-v-984d0aed"),l=l(),j(),l),ge={class:"d-flex"},Ce={key:0,class:"col-12 table-wrapper"},Ae={key:0,class:"container-fluid"},_e={class:"aplication-content-table table table-bordered table-hover table-sm border-secondary rounded-5"},$e=H(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"nomor Halaman"),a("th",{class:"fw-bolder",scope:"col"},"nama halaman"),a("th",{class:"fw-bolder",scope:"col"},"aksi")])],-1)),fe={class:"text-center",scope:"row"},ye={class:"container"},we={class:"row align-items-center gap-3"},ke=["onClick"],De=["onClick"],Oe={key:0},je=H(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"}," Tidak ada halaman ",-1)),Ie=[je],Te={key:1,class:"container-fluid"},Ee=H(()=>a("span",{class:"d-block bg-danger text-center text-light rounded-4 p-2"},"tidak ada sub konten dipilih",-1)),Me=[Ee],Pe=w({__name:"ManageApplicationContent",setup(l){const m=L(),o=T(),p=t=>{t.type==="delta"&&m.push({name:"dashboard-edit-content",query:{sub:String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent),page:t.pageNumber}})},u=(t,s)=>{confirm(`Yakin menghapus halaman ${s}?`)&&e().deletePage(t)};return(t,s)=>{const r=q("router-view");return i(),c("div",ge,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&Object.keys(n(o).query).length<=0?(i(),c("div",Ce,[Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`]?(i(),c("div",Ae,[a("table",_e,[$e,a("tbody",null,[(i(!0),c(f,null,y(Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page,(d,h)=>(i(),c("tr",{class:"text-lowercase text-nowrap",key:h},[a("th",fe,S(Number(h)+1),1),a("td",null,S(Object(Object.entries(Object(d))[0][1]).name),1),a("td",null,[a("div",ye,[a("div",we,[a("button",{class:"col-auto button-style small bg-secondary",style:{width:"fit-content"},onClick:v=>p({pageNumber:Number(h)+1,id:Object.entries(Object(d))[0][0],...Object(Object.entries(Object(d))[0][1])})}," edit halaman ",8,ke),a("button",{class:"col-auto button-style small bg-danger text-light",style:{width:"fit-content"},onClick:v=>u(Number(h),Object(Object.entries(Object(d))[0][1]).name)}," hapus ",8,De)])])])]))),128)),Object(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].page.length<=0?(i(),c("tr",Oe,Ie)):C("",!0)])])])):(i(),c("div",Te,Me))])):(i(),_(r,{key:1}))])}}});const Ne=$(Pe,[["__scopeId","data-v-984d0aed"]]);var U={exports:{}};(function(l,m){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};(function(p){var u=function(){for(var t=arguments.length,s=Array(t),r=0;r<t;r++)s[r]=arguments[r];var d=document.createElement("input");return o(s[0])==="object"&&(s[0].multiple===!0&&d.setAttribute("multiple",""),s[0].accept!==void 0&&d.setAttribute("accept",s[0].accept)),d.setAttribute("type","file"),d.style.display="none",d.setAttribute("id","hidden-file"),document.body.appendChild(d),new Promise(function(h){d.addEventListener("change",function(){h(d.files);var b=s[s.length-1];typeof b=="function"&&b(d.files),document.body.removeChild(d)});var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),d.dispatchEvent(v)})};l.exports&&(m=l.exports=u),m.fileDialog=u})()})(U,U.exports);var Be=U.exports;const F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Y=l=>{const m=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let o=0;o<F.length;o++)m[l.charCodeAt(o)]=o;return m},Ue=Y(F),Le=Y(K),A={};A.toArrayBuffer=(l,m)=>{const o=l.length;let p=l.length*.75,u,t=0,s,r,d,h;l[l.length-1]==="="&&(p--,l[l.length-2]==="="&&p--);const v=new ArrayBuffer(p),b=new Uint8Array(v),g=m?Le:Ue;for(u=0;u<o;u+=4)s=g[l.charCodeAt(u)],r=g[l.charCodeAt(u+1)],d=g[l.charCodeAt(u+2)],h=g[l.charCodeAt(u+3)],b[t++]=s<<2|r>>4,b[t++]=(r&15)<<4|d>>2,b[t++]=(d&3)<<6|h&63;return v};A.fromArrayBuffer=(l,m)=>{const o=new Uint8Array(l);let p,u="";const t=o.length,s=m?K:F;for(p=0;p<t;p+=3)u+=s[o[p]>>2],u+=s[(o[p]&3)<<4|o[p+1]>>4],u+=s[(o[p+1]&15)<<2|o[p+2]>>6],u+=s[o[p+2]&63];return t%3===2?u=u.substring(0,u.length-1)+(m?"":"="):t%3===1&&(u=u.substring(0,u.length-2)+(m?"":"==")),u};A.toString=(l,m)=>new TextDecoder().decode(A.toArrayBuffer(l,m));A.fromString=(l,m)=>A.fromArrayBuffer(new TextEncoder().encode(l),m);A.validate=(l,m)=>{if(!(typeof l=="string"||l instanceof String))return!1;try{return m?/^[-A-Za-z0-9\-_]*$/.test(l):/^[-A-Za-z0-9+/]*={0,3}$/.test(l)}catch{return!1}};A.base64=A;const qe={key:0,class:""},ze=["innerHTML"],He={key:1,class:"text-center"},Fe=w({__name:"ImageUploader",props:{image:{}},emits:["onImageSource"],setup(l,{emit:m}){const o=l,p=Z({});if(o.image.source!==""){const t=new Image;t.src=o.image.source,p.data=o.image.source,p.html=t,p.html.className="img-fluid"}const u=()=>{Be.fileDialog({accept:"image/*"}).then(t=>{const s=new FileReader;s.readAsDataURL(t[0]),s.onload=()=>{const r=new Image;r.src=String(s.result),console.log(A.validate(A.fromString(r.src))),A.validate(A.fromString(r.src))?x.uploadContentImage(`/final-evaluation/${o.image.name}`,s.result).then(d=>{r.src=d,p.data=s.result,p.html=r,p.html.className="img-fluid",m("onImageSource",r.src)}):(p.data=s.result,p.html=r,p.html.className="img-fluid",m("onImageSource",r.src))}})};return(t,s)=>(i(),c("div",{class:"image-uploader",onClick:u},[o.image.source!==""&&n(p).html?(i(),c("div",qe,[a("div",{class:"",innerHTML:n(p).html.outerHTML},null,8,ze)])):(i(),c("div",He," Tidak ada gambar "))]))}});const Ve=$(Fe,[["__scopeId","data-v-1432c02b"]]),Re=l=>(O("data-v-cf418909"),l=l(),j(),l),Ge={key:0,class:"d-flex flex-column gap-3 p-1",style:{overflow:"auto"}},Qe={key:0,class:"question-wrapper"},Ke={class:"d-flex flex-column gap-3"},Ye={class:"d-flex justify-content-center"},Ze={class:"col-12 col-md-6"},Je={class:"fw-bolder"},We={class:"d-flex gap-2"},Xe={class:"col-auto"},xe={class:"col"},et=["value","onInput"],tt={class:"px-4 d-flex flex-column gap-1"},at={class:"col-auto"},nt=["onClick"],ot={class:"col"},st=["value","onInput"],pt={class:"col-auto",style:{width:"fit-content"}},it={class:"d-flex gap-4"},lt=["onClick"],rt={key:1},ct=Re(()=>a("div",{class:"p-3 bg-warning text-center border border-2 border-dark rounded"}," tidak ada instrumen evaluasi ",-1)),dt=[ct],ut=w({__name:"ManageFinalEvaluation",setup(l){const m=()=>{e().appCacheData[`${e().activeContent.data.name}`].data.push({id:E().value,question:"pertanyaan ?",questionImage:"",answerOption:{a:"option a",b:"option b",c:"option c",d:"option d"},trueAnswer:"a"})},o=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].data[s].question=r},p=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].data[s].trueAnswer=r},u=(s,r,d)=>{e().appCacheData[`${e().activeContent.data.name}`].data[s].answerOption[`${r}`]=d},t=s=>{s>-1&&e().appCacheData[`${e().activeContent.data.name}`].data.splice(s,1)};return J(e().appCacheData[`${e().activeContent.data.name}`].data,()=>{e().updatePageContent()}),(s,r)=>{const d=Ve;return i(),c("div",null,[("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].data?(i(),c("div",Ge,[("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].data.length>0?(i(),c("div",Qe,[(i(!0),c(f,null,y(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].data,(h,v)=>(i(),c("div",{class:"question py-4",key:Number(v)},[a("div",Ke,[a("div",Ye,[a("div",Ze,[D(d,{onOnImageSource:b=>{Object(h).questionImage=b},image:{name:Object(h).id,source:Object(h).questionImage}},null,8,["onOnImageSource","image"])])]),a("div",Je,[a("div",We,[a("div",Xe,[a("span",null,S(String(v+1))+". ",1)]),a("div",xe,[a("input",{class:"w-100",type:"text",value:String(Object(h).question),onInput:b=>o(v,Object(b).target.value)},null,40,et)])])]),a("div",tt,[(i(!0),c(f,null,y(Object(h).answerOption,(b,g)=>(i(),c("div",{class:"d-flex gap-2",key:g},[a("div",at,[a("span",{class:M(["d-inline-block rounded px-2",String(Object(h).trueAnswer)===String(g)?"bg-success text-light":""]),style:{width:"2rem",cursor:"pointer"},onClick:I=>p(v,String(g))},S(g)+". ",11,nt)]),a("div",ot,[a("input",{class:"w-100",type:"text",value:b,onInput:I=>u(v,String(g),Object(I).target.value)},null,40,st)])]))),128))]),a("div",pt,[a("div",it,[a("button",{class:"col-auto button-style bg-danger small p-1 px-2",style:{width:"fit-content"},onClick:b=>t(v)}," hapus pertanyaan ",8,lt)])])])]))),128))])):(i(),c("div",rt,dt)),a("div",null,[a("button",{class:"add-evaluation button-style bg-primary text-light",style:{height:"auto"},onClick:r[0]||(r[0]=h=>m())}," tambah evaluasi ")])])):C("",!0)])}}});const mt=$(ut,[["__scopeId","data-v-cf418909"]]),V=l=>(O("data-v-bada745b"),l=l(),j(),l),ht={class:"d-flex"},vt={class:"col-12 table-wrapper"},bt={class:"student-table table table-bordered table-hover table-sm border-secondary rounded-5"},St=V(()=>a("thead",null,[a("tr",{class:"table-primary text-center text-capitalize text-nowrap"},[a("th",{class:"fw-bolder",scope:"col"},"Nomor"),a("th",{class:"fw-bolder",scope:"col"},"email"),a("th",{class:"fw-bolder",scope:"col"},"nama"),a("th",{class:"fw-bolder",scope:"col"},"kelas"),a("th",{class:"fw-bolder",scope:"col"},"no. Absen"),a("th",{class:"fw-bolder",scope:"col"},"nilai evaluasi akhir"),a("th",{class:"fw-bolder",scope:"col"},"status")])],-1)),gt={key:0},Ct={class:"text-center text-danger fw-bolder",scope:"row",colspan:"5"},At={class:"d-flex justify-content-center align-items-center"},_t=V(()=>a("div",{class:"col-auto"},"Mengambil data siswa",-1)),$t={class:"col-auto"},ft={key:1},yt={class:"text-center",scope:"row"},wt={class:"w-100"},kt={class:"text-center"},Dt={class:"text-center"},Ot={class:"text-center"},jt={key:0},It={key:1,class:"text-danger"},Tt={class:"container"},Et={class:"d-flex align-items-center gap-3"},Mt={key:0},Pt=V(()=>a("td",{class:"text-center text-danger fw-bolder",scope:"row",colspan:"6"},[a("div",{class:"container"},[a("div",{class:"d-flex"},[a("div",{class:"col"}," Tidak ada data siswa ")])])],-1)),Nt=[Pt],Bt=w({__name:"ManageStudent",setup(l){e().allStudent.lastGettingData===0&&e().appData.appRef&&N.getAllStudentData();const m=o=>{const p=B(0);let u={};return e().appCacheData["evaluasi akhir"].data.forEach((t,s)=>u[`${t.id}`]=t.trueAnswer),Object.keys(o).forEach(t=>{o[`${t}`]===u[`${t}`]&&p.value++}),p.value/Object.keys(u).length*100};return(o,p)=>{const u=Q,t=q("router-link");return i(),c("div",ht,[a("div",vt,[a("table",bt,[St,("AppStore"in o?o.AppStore:n(e))().allStudent.isGettingData?(i(),c("tbody",gt,[a("tr",null,[a("td",Ct,[a("div",At,[_t,a("div",$t,[D(u)])])])])])):C("",!0),!("AppStore"in o?o.AppStore:n(e))().allStudent.isGettingData&&("AppStore"in o?o.AppStore:n(e))().allStudent.data.length!==0?(i(),c("tbody",ft,[(i(!0),c(f,null,y(("AppStore"in o?o.AppStore:n(e))().allStudent.data,(s,r)=>{var d,h;return i(),c("tr",{class:"text-lowercase text-nowrap",key:r},[a("th",yt,S(Number(r)+1),1),a("td",null,[D(t,{to:{name:"student-detail",params:{email:Object(s).email}}},{default:W(()=>[G(S(Object(s).email),1)]),_:2},1032,["to"])]),a("td",wt,S(Object(s).appData.name),1),a("td",kt,S(Object(s).appData.class),1),a("td",Dt,S(Object(s).appData.ruleNumber),1),a("td",Ot,[(d=Object(s).appData)!=null&&d.finalEvaluation?(i(),c("span",jt,S(m((h=Object(s).appData)==null?void 0:h.finalEvaluation)),1)):(i(),c("span",It," evaluasi belum dilaksanakan "))]),a("td",null,[a("div",Tt,[a("div",Et,[a("span",{class:M(["col-auto fw-bolder p-0",Object(s).status==="nonactive"?"text-danger":"text-success"])},S(Object(s).status),3)])])])])}),128)),!("AppStore"in o?o.AppStore:n(e))().allStudent.isGettingData&&("AppStore"in o?o.AppStore:n(e))().allStudent.data.length===0?(i(),c("tr",Mt,Nt)):C("",!0)])):C("",!0)])])])}}});const Ut=$(Bt,[["__scopeId","data-v-bada745b"]]),Lt={};function qt(l,m){return i(),c("div",null,"overview")}const zt=$(Lt,[["render",qt]]),Ht=l=>(O("data-v-e6c9b896"),l=l(),j(),l),Ft={class:"evaluation-modal p-5"},Vt={class:"container h-100"},Rt={class:"position-relative d-flex flex-column gap-3 rounded-9 h-100 bg-light shadow p-5"},Gt=Ht(()=>a("i",{class:"fa-solid fa-xmark fa-3x text-danger"},null,-1)),Qt=[Gt],Kt={class:"col-auto"},Yt={class:"text-uppercase fw-bolder border-bottom border-secondary"},Zt={class:"d-flex flex-column gap-3 p-1",style:{overflow:"auto"}},Jt={class:"d-flex flex-column gap-3"},Wt={class:"fw-bolder"},Xt=["value","onInput"],xt={class:"px-4 d-flex flex-column gap-1"},ea={class:"col-auto"},ta=["onClick"],aa={class:"col"},na=["value","onInput"],oa={class:"col-auto",style:{width:"fit-content"}},sa=["onClick"],pa=w({__name:"modalEvaluation",setup(l){const m=()=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].push({id:E().value,question:"pertanyaan ?",answerOption:{a:"option a",b:"option b",c:"option c",d:"option d"},trueAnswer:"a"}),e().updatePageContent()},o=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][s].question=r,e().updatePageContent()},p=(s,r)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][s].trueAnswer=r,e().updatePageContent()},u=(s,r,d)=>{e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`][s].answerOption[`${r}`]=d,e().updatePageContent()},t=s=>{s>-1&&(e().appCacheData[`${e().activeContent.data.name}`].evaluation[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].splice(s,1),e().updatePageContent())};return(s,r)=>(i(),c("div",Ft,[a("div",Vt,[a("div",Rt,[a("div",{class:"close",onClick:r[0]||(r[0]=d=>("AppStore"in s?s.AppStore:n(e))().modal.evaluasi=!1)},Qt),a("div",Kt,[a("h3",Yt," Evaluasi "+S(Object(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].subContent)[`${("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`].name),1)]),a("div",Zt,[(i(!0),c(f,null,y(("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].evaluation[`${("AppStore"in s?s.AppStore:n(e))().appCacheData[`${("AppStore"in s?s.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent}`],(d,h)=>(i(),c("div",{key:Number(h)},[a("div",Jt,[a("div",Wt,[a("span",null,S(String(h+1))+". ",1),a("input",{type:"text",value:String(Object(d).question),onInput:v=>o(h,Object(v).target.value)},null,40,Xt)]),a("div",xt,[(i(!0),c(f,null,y(Object(d).answerOption,(v,b)=>(i(),c("div",{class:"d-flex gap-1",key:b},[a("div",ea,[a("span",{class:M(["d-inline-block rounded px-2",String(Object(d).trueAnswer)===String(b)?"bg-success text-light":""]),style:{width:"2rem",cursor:"pointer"},onClick:g=>p(h,b)},S(b)+". ",11,ta)]),a("div",aa,[a("input",{type:"text",value:v,onInput:g=>u(h,b,Object(g).target.value)},null,40,na)])]))),128))]),a("div",oa,[a("button",{class:"button-style bg-danger small p-1 px-2",onClick:v=>t(h)}," hapus pertanyaan ",8,sa)])])]))),128))]),a("div",{class:"add-evaluation button-style bg-primary text-light",style:{height:"auto"},onClick:r[1]||(r[1]=d=>m())}," tambah evaluasi ")])])]))}});const ia=$(pa,[["__scopeId","data-v-e6c9b896"]]),la={class:"content-header"},ra={class:"container-fluid"},ca={class:"row align-items-end gap-3"},da={class:"col-auto"},ua={class:"small px-2"},ma=["value"],ha={key:0,value:"",selected:"",disabled:""},va={class:"col-auto"},ba={class:"row gap-3"},Sa={key:0,class:"col-auto"},ga={class:"col-auto"},Ca={class:"col-auto"},Aa={class:"row gap-3"},_a={class:"col-auto"},$a={class:"col-auto"},fa={class:"row gap-3"},ya={key:0,class:"col-auto"},wa={class:"col-auto"},ka={key:0,class:"col-auto"},Da={class:"row gap-3"},Oa={class:"col-auto"},ja=w({__name:"contentHeader",setup(l){const m=()=>{e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent&&confirm(`yakin akan menghapus sub konten ${Object(e().appCacheData[`${e().activeContent.data.name}`].subContent)[`${e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent}`].name}`)&&e().deleteSubContent(String(e().appCacheData[`${e().activeContent.data.name}`].lastSelectedSubContent))};return e().modal.evaluasi=!1,(o,p)=>{const u=ia;return i(),c("div",la,[a("div",ra,[a("div",ca,[a("div",da,[a("span",ua,"sub konten "+S(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent),1),a("div",null,[P(a("select",{id:"selcet-sub-content",class:"input-style","onUpdate:modelValue":p[0]||(p[0]=t=>("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent=t)},[(i(!0),c(f,null,y(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].subContent,(t,s)=>(i(),c("option",{key:s,value:s},S(Object(t).name),9,ma))),128)),Object(("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].subContent).length===0?(i(),c("option",ha," tidak ada sub-konten "+S(("AppStore"in o?o.AppStore:n(e))().activeContent.data.name),1)):C("",!0)],512),[[X,("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent]])])]),a("div",va,[a("div",ba,[("AppStore"in o?o.AppStore:n(e))().newContentData["sub content"].focus?(i(),c("div",Sa,[P(a("input",{type:"text",class:"input-style",id:"labelAddPage","onUpdate:modelValue":p[1]||(p[1]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData["sub content"].name=t),onBlur:p[2]||(p[2]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.blur("sub content",1e4))},null,544),[[R,("AppStore"in o?o.AppStore:n(e))().newContentData["sub content"].name]])])):C("",!0),a("div",ga,[a("label",{class:"btn-link button-style bg-primary text-light p-1 px-3",for:"labelAddPage",onClick:p[3]||(p[3]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.submit("sub content"))}," tambah sub konten ")])])]),a("div",Ca,[a("div",Aa,[a("div",_a,[a("label",{class:"btn-link button-style bg-danger text-light p-1 px-3",for:"labelAddPage",onClick:p[4]||(p[4]=t=>m())}," hapus sub konten ")])])]),a("div",$a,[a("div",fa,[("AppStore"in o?o.AppStore:n(e))().newContentData.page.focus?(i(),c("div",ya,[P(a("input",{type:"text",class:"input-style",id:"labelAddPage","onUpdate:modelValue":p[5]||(p[5]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.page.name=t),onBlur:p[6]||(p[6]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.blur("page",1e4))},null,544),[[R,("AppStore"in o?o.AppStore:n(e))().newContentData.page.name]])])):C("",!0),a("div",wa,[a("label",{class:"btn-link button-style bg-warning text-light p-1 px-3",for:"labelAddPage",onClick:p[7]||(p[7]=t=>("AppStore"in o?o.AppStore:n(e))().newContentData.submit("page"))}," tambah halaman ")])])]),("AppStore"in o?o.AppStore:n(e))().activeContent.data.name==="pembelajaran"&&("AppStore"in o?o.AppStore:n(e))().appCacheData[`${("AppStore"in o?o.AppStore:n(e))().activeContent.data.name}`].lastSelectedSubContent?(i(),c("div",ka,[a("div",Da,[a("div",Oa,[a("label",{class:"btn-link button-style bg-secondary p-1 px-3",for:"labelAddPage",onClick:p[8]||(p[8]=t=>("AppStore"in o?o.AppStore:n(e))().modal.evaluasi=!0)}," evaluasi ")])])])):C("",!0)])]),("AppStore"in o?o.AppStore:n(e))().modal.evaluasi?(i(),_(u,{key:0})):C("",!0)])}}});const Ia=$(ja,[["__scopeId","data-v-018fbf35"]]),Ta={class:"content p-3"},Ea={key:0,class:"d-flex flex-column gap-3"},Ma={class:"py-2 border-bottom border-secondary"},Pa={class:"row align-items-center"},Na={class:"col-auto"},Ba={class:"h2 text-capitalize fw-bolder"},Ua={class:"col-auto"},La=["disabled"],qa={key:6},za={key:1},Ha=w({__name:"ManageContent",setup(l){const m=T(),o=B(!1),p=()=>{if(o.value=!1,e().activeContent.data={name:"",collection:null},e().activeContent.data={...e().activeContent.data,...e().appData.menu.find(t=>t.name===k(String(m.params.selectedContent)))},e().appCacheData[`${e().activeContent.data.name}`])setTimeout(()=>{o.value=!0},1e3);else{const t=B(0);e().appData.menu.forEach(s=>{N.getContentDoc(s.collection,s.name).then(r=>{t.value++,e().appCacheData[`${r.name}`]={...r,foundAt:E().value,updatedAt:0,updating:!1,lastSelectedSubContent:r.subContent.length>0?r.subContent[0].id:0},t.value===e().appData.menu.length&&setTimeout(()=>{o.value=!0},1e3)})})}};p(),L().afterEach(async t=>{p()});const u=()=>{e().appCacheData[`${e().activeContent.data.name}`].updating=!0;const t={name:e().appCacheData[`${e().activeContent.data.name}`].name,subContent:e().appCacheData[`${e().activeContent.data.name}`].subContent};e().activeContent.data.name==="pembelajaran"&&(t.evaluation=e().appCacheData[`${e().activeContent.data.name}`].evaluation),e().activeContent.data.name==="evaluasi akhir"&&(t.data=e().appCacheData[`${e().activeContent.data.name}`].data),N.updateContentDoc(e().activeContent.data.collection,e().activeContent.data.name,t).then(s=>{s.status?(alert("perubahan disimpan"),e().appCacheData[`${e().activeContent.data.name}`].updatedAt=Number(E().value),e().appCacheData[`${e().activeContent.data.name}`].foundAt=e().appCacheData[`${e().activeContent.data.name}`].updatedAt,e().appCacheData[`${e().activeContent.data.name}`].updating=!1):(e().appCacheData[`${e().activeContent.data.name}`].updating=!1,alert("perubahan gagal disimpan"))}).catch(()=>{e().appCacheData[`${e().activeContent.data.name}`].updating=!1,alert("perubahan gagal disimpan")})};return(t,s)=>{const r=Q,d=Ia,h=zt,v=Ut,b=mt,g=Ne,I=Se;return i(),c("main",Ta,[n(o)?(i(),c("div",Ea,[a("div",Ma,[a("div",Pa,[a("div",Na,[a("h1",Ba,S(("urlToStringConverter"in t?t.urlToStringConverter:n(k))(String(("useRoute"in t?t.useRoute:n(T))().params.selectedContent))),1)]),a("div",Ua,[("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]?(i(),c("button",{key:0,class:M(["update-button button-style small",("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt!==0&&("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].foundAt!==("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt?"bg-success":"bg-secondary"]),style:{height:"fit-content"},disabled:!(("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt!==0&&("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].foundAt!==("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updatedAt),onClick:s[0]||(s[0]=Fa=>u())},[G(" simpan perubahan "),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`].updating?(i(),_(r,{key:0,class:"d-inline"})):C("",!0)],10,La)):C("",!0)])])]),("AppStore"in t?t.AppStore:n(e))().appCacheData[`${("AppStore"in t?t.AppStore:n(e))().activeContent.data.name}`]&&!["overview","siswa","evaluasi akhir"].includes(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)&&Object.keys(n(m).query).length<=0?(i(),_(d,{key:0})):C("",!0),("urlToStringConverter"in t?t.urlToStringConverter:n(k))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="overview"?(i(),_(h,{key:1,class:"bg-light rounded-5 shadow p-3"})):("urlToStringConverter"in t?t.urlToStringConverter:n(k))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="siswa"?(i(),_(v,{key:2,class:"bg-light rounded-5 shadow p-3"})):("urlToStringConverter"in t?t.urlToStringConverter:n(k))(("AppStore"in t?t.AppStore:n(e))().activeContent.data.name)==="evaluasi akhir"?(i(),_(b,{key:3,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in t?t.AppStore:n(e))().activeContent.data.collection==="application content"?(i(),_(g,{key:4,class:"bg-light rounded-5 shadow p-3"})):("AppStore"in t?t.AppStore:n(e))().activeContent.data.collection==="learning materials"?(i(),_(I,{key:5,class:"bg-light rounded-5 shadow p-3"})):(i(),c("div",qa,[D(r,{class:"fw-bolder h2"})]))])):(i(),c("div",za,[D(r,{class:"fw-bolder h2"})]))])}}});const Qa=$(Ha,[["__scopeId","data-v-e007e3cc"]]);export{Qa as default};
//# sourceMappingURL=ManageContent-75c152ea.js.map
