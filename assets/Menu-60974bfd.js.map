{"version":3,"mappings":"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","names":["menuSoundSfx","useSound","url","volume","playbackRate","soundEnabled","interrupt","autoplay","onload","delegated","HowlConstructor","ref","isPlaying","duration","sound","handleLoad","_a","onMounted","howler","__vitePreload","n","unref","watch","options","id","router","useRouter","route","useRoute","resolveContent","AppStore","x","AppDB","x2","useTimestamp","playMenuSound","stopMenuSound","isPlayingMenuSound","menuSound","reactive","value","watchEffect","onBeforeRouteUpdate","to","userSignOut","signOut","Authentication","UserStore","menu","menuClik","selectedMenu","stringToUrlConverter","subContentArray","backToMainMenu"],"sources":["../../src/assets/sound/menu.mp3","../../node_modules/@vueuse/sound/dist/index.mjs","../../src/views/pages/user/gamePlay/Menu.vue"],"sourcesContent":["export default \"__VITE_ASSET__39a5f777__\"","import { ref, onMounted, unref, watch } from 'vue-demi';\n\nfunction useSound(url, { volume = 1, playbackRate = 1, soundEnabled = true, interrupt = false, autoplay = false, onload, ...delegated } = {}) {\n  const HowlConstructor = ref(null);\n  const isPlaying = ref(false);\n  const duration = ref(null);\n  const sound = ref(null);\n  function handleLoad() {\n    if (typeof onload === \"function\")\n      onload.call(this);\n    duration.value = (duration.value || sound.value?.duration() || 0) * 1e3;\n    if (autoplay === true) {\n      isPlaying.value = true;\n    }\n  }\n  onMounted(async () => {\n    const howler = await import('howler');\n    HowlConstructor.value = howler.default.Howl;\n    sound.value = new HowlConstructor.value({\n      src: unref(url),\n      volume: unref(volume),\n      rate: unref(playbackRate),\n      onload: handleLoad,\n      ...delegated\n    });\n  });\n  watch(\n    () => [url],\n    () => {\n      if (HowlConstructor.value && HowlConstructor.value && sound && sound.value) {\n        sound.value = new HowlConstructor.value({\n          src: unref(url),\n          volume: unref(volume),\n          rate: unref(playbackRate),\n          onload: handleLoad,\n          ...delegated\n        });\n      }\n    }\n  );\n  watch(\n    () => [unref(volume), unref(playbackRate)],\n    () => {\n      if (sound.value) {\n        sound.value.volume(unref(volume));\n        sound.value.rate(unref(playbackRate));\n      }\n    }\n  );\n  const play = (options) => {\n    if (typeof options === \"undefined\") {\n      options = {};\n    }\n    if (!sound.value || !soundEnabled && !options.forceSoundEnabled) {\n      return;\n    }\n    if (interrupt) {\n      sound.value.stop();\n    }\n    if (options.playbackRate) {\n      sound.value.rate(options.playbackRate);\n    }\n    sound.value.play(options.id);\n    sound.value.once(\"end\", () => {\n      if (sound.value && sound.value && !sound.value.playing()) {\n        isPlaying.value = false;\n      }\n    });\n    isPlaying.value = true;\n  };\n  const stop = (id) => {\n    if (!sound.value) {\n      return;\n    }\n    sound.value.stop(typeof id === \"number\" ? id : void 0);\n    isPlaying.value = false;\n  };\n  const pause = (id) => {\n    if (!sound.value) {\n      return;\n    }\n    sound.value.pause(typeof id === \"number\" ? id : void 0);\n    isPlaying.value = false;\n  };\n  const returnedValue = {\n    play,\n    sound,\n    isPlaying,\n    duration,\n    pause,\n    stop\n  };\n  return returnedValue;\n}\n\nexport { useSound };\n","<script setup lang=\"ts\">\nimport menuSoundSfx from \"@a/sound/menu.mp3\";\n\nconst router = useRouter();\nconst route = useRoute();\n\nconst resolveContent = () => {\n\n  if (!AppStore().appCacheData[`${AppStore().activeContent.data.name}`]) {\n    AppStore().appData.menu.slice(2).forEach((x: any) => {\n      AppDB.getContentDoc(\n        x.collection,\n        x.name\n      ).then((x: any) => {\n        AppStore().appCacheData[`${x.name}`] = {\n          ...x,\n          foundAt: useTimestamp().value,\n          updatedAt: 0,\n          updating: false,\n          lastSelectedSubContent:\n            x.subContent.length > 0 ? x.subContent[0].id : 0,\n        };\n      });\n    })\n  }\n};\n\nresolveContent();\n\nuseRouter().afterEach(() => {\n  resolveContent();\n});\n\nconst {\n  play: playMenuSound,\n  stop: stopMenuSound,\n  isPlaying: isPlayingMenuSound,\n} = useSound(menuSoundSfx);\n\nconst menuSound = reactive({\n  isPlayingMenuSound,\n  userConfigPlayingMenuSound: false,\n});\n\nsetTimeout(() => {\n  if (isPlayingMenuSound) {\n    playMenuSound();\n  }\n}, 1000);\n\nwatch(isPlayingMenuSound, (value: any) => {\n  if (route.name === \"menu\" && menuSound.userConfigPlayingMenuSound) {\n    if (\n      value !== menuSound.userConfigPlayingMenuSound &&\n      route.name === \"menu\"\n    ) {\n      playMenuSound();\n    }\n  } else {\n    watchEffect(() => { });\n    stopMenuSound();\n  }\n});\n\nonBeforeRouteUpdate((to: any) => {\n  if (to.name !== \"menu\") {\n    stopMenuSound();\n  }\n});\n\n///////\nconst userSignOut = () => {\n  signOut(Authentication).then(() => {\n    UserStore().user = { appData: {} }\n    router.push({ name: 'landing' })\n  })\n  // appAuth.userTryToSignOut().then((x: any) => {\n  //   x ? (alert(\"berhasil keluar\"), router.push({ name: \"landing\" })) : true;\n  // });\n};\n\nconst menu: any = reactive({\n  title: [\"main menu\"],\n  subContent: false,\n});\n\n// globalStore().activeContent = { loadContent: false };\n\nconst menuClik = (selectedMenu: string) => {\n\n  if (!menu.subContent) {\n    const subContentArray = Object.entries(AppStore().appCacheData[`${selectedMenu}`].subContent)\n    if (Object.keys(AppStore().appCacheData[`${selectedMenu}`].subContent).length > 1) {\n      menu.subMenu = Object.entries(AppStore().appCacheData[`${selectedMenu}`].subContent)\n      menu.subContent = true\n      menu.selectedMenu = selectedMenu\n      menu.title.push(selectedMenu)\n\n    } else {\n      router.push({\n        name: 'play',\n        params: {\n          playingContent: stringToUrlConverter(String(selectedMenu)),\n        },\n        query: {\n          sub: subContentArray[0][0],\n          page: 1\n        }\n      })\n    }\n  } else {\n    router.push({\n      name: 'play',\n      params: {\n        playingContent: stringToUrlConverter(String(menu.selectedMenu)),\n      },\n      query: {\n        sub: selectedMenu,\n        page: 1\n      }\n    })\n  }\n\n}\nconst backToMainMenu = () => {\n  menu.subContent = false\n  menu.title.pop()\n}\n\n</script>\n\n<template>\n  <div>\n    <div class=\"content d-flex flex-column my-4 gap-2\">\n      <ComponentsEMTTitle class=\"animate__animated animate__zoomInUp\" />\n      <div class=\"animate__animated animate__zoomInUp d-flex justify-content-center\">\n        <span class=\"text-capitalize text-light bg-warning rounded-pill p-2 px-4\">\n          Hello, {{ UserStore().user.appData.name }}\n        </span>\n      </div>\n      <div\n        class=\"menu animate__animated animate__fadeInUpBig d-flex flex-column justify-content-center shadow rounded-9 p-4\">\n        <div class=\"animate__animated animate__zoomIn\">\n          <div class=\"menu-header\">\n            <h1 class=\"h5 title-style text-uppercase fw-bolder text-center mb-3\">\n              {{ menu.title.slice(menu.title.length - 1)[0] }}\n            </h1>\n          </div>\n          <div>\n            <div class=\" menu-link-wrapper animate__animated animate__zoomIn d-flex flex-column gap-3 mb-3\"\n              v-if=\"!menu.subContent\">\n              <button v-for=\"(content, key) in AppStore().appData.menu.slice(2)\" :key=\"key\"\n                @click=\"menuClik(Object(content).name)\" class=\"input-style bg-primary text-white\">\n                {{ Object(content).name }}\n              </button>\n              <button class=\"input-style bg-danger text-white\" @click=\"userSignOut()\">\n                keluar\n              </button>\n            </div>\n            <div v-else class=\"submenu-link-wrapper animate__animated animate__zoomIn d-flex flex-column gap-3 mb-3\">\n              <button v-for=\"subMenu, key in menu.subMenu\" :key=\"key\" @click=\"menuClik(Object(subMenu)[0])\"\n                class=\"input-style bg-primary text-white\">\n                {{ Object(subMenu)[1].name }}\n              </button>\n              <button class=\"input-style bg-warning text-white\" @click=\"backToMainMenu()\">\n                kembali ke menu utama\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.content {\n  height: max-content;\n  width: 100%;\n\n  .menu {\n    // flex: 1;\n    background-color: rgba(#ffffff, 0.75);\n    align-items: stretch;\n  }\n}\n\n.content-footer {\n  position: absolute;\n  z-index: -1;\n  bottom: 0px;\n  right: 5%;\n\n  .class-module,\n  .class-thema-subthema {\n    display: inline-flex;\n    width: fit-content;\n    padding: 0.2rem 1rem;\n    font-weight: 700;\n    border-radius: 1rem;\n    ////\n    background-color: rgba(#ffffff, 0.5);\n    background-blend-mode: multiply;\n  }\n}\n</style>\n"],"file":"assets/Menu-60974bfd.js"}